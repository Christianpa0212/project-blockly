// Automatically generated file.  Do not edit!
var g;function aa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function ba(a){var b=typeof Symbol!="undefined"&&Symbol.iterator&&a[Symbol.iterator];if(b)return b.call(a);if(typeof a.length=="number")return{next:aa(a)};throw Error(String(a)+" is not an iterable or ArrayLike");}var ca=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
function da(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");}var ea=da(this);function fa(a,b){if(b)a:{var c=ea;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))break a;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&b!=null&&ca(c,a,{configurable:!0,writable:!0,value:b})}}
fa("Symbol",function(a){function b(f){if(this instanceof b)throw new TypeError("Symbol is not a constructor");return new c(d+(f||"")+"_"+e++,f)}function c(f,h){this.op=f;ca(this,"description",{configurable:!0,writable:!0,value:h})}if(a)return a;c.prototype.toString=function(){return this.op};var d="jscomp_symbol_"+(Math.random()*1E9>>>0)+"_",e=0;return b});
fa("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var d=ea[b[c]];typeof d==="function"&&typeof d.prototype[a]!="function"&&ca(d.prototype,a,{configurable:!0,writable:!0,value:function(){return ha(aa(this))}})}return a});function ha(a){a={next:a};a[Symbol.iterator]=function(){return this};return a}
function ia(a,b){return Object.prototype.hasOwnProperty.call(a,b)}
fa("WeakMap",function(a){function b(l){this.pe=(k+=Math.random()+1).toString();if(l){l=ba(l);for(var m;!(m=l.next()).done;)m=m.value,this.set(m[0],m[1])}}function c(){}function d(l){var m=typeof l;return m==="object"&&l!==null||m==="function"}function e(l){if(!ia(l,h)){var m=new c;ca(l,h,{value:m})}}function f(l){var m=Object[l];m&&(Object[l]=function(p){if(p instanceof c)return p;Object.isExtensible(p)&&e(p);return m(p)})}if(function(){if(!a||!Object.seal)return!1;try{var l=Object.seal({}),m=Object.seal({}),
p=new a([[l,2],[m,3]]);if(p.get(l)!=2||p.get(m)!=3)return!1;p.delete(l);p.set(m,4);return!p.has(l)&&p.get(m)==4}catch(t){return!1}}())return a;var h="$jscomp_hidden_"+Math.random();f("freeze");f("preventExtensions");f("seal");var k=0;b.prototype.set=function(l,m){if(!d(l))throw Error("Invalid WeakMap key");e(l);if(!ia(l,h))throw Error("WeakMap key fail: "+l);l[h][this.pe]=m;return this};b.prototype.get=function(l){return d(l)&&ia(l,h)?l[h][this.pe]:void 0};b.prototype.has=function(l){return d(l)&&
ia(l,h)&&ia(l[h],this.pe)};b.prototype.delete=function(l){return d(l)&&ia(l,h)&&ia(l[h],this.pe)?delete l[h][this.pe]:!1};return b});
fa("Map",function(a){function b(){var k={};return k.nd=k.next=k.head=k}function c(k,l){var m=k[1];return ha(function(){if(m){for(;m.head!=k[1];)m=m.nd;for(;m.next!=m.head;)return m=m.next,{done:!1,value:l(m)};m=null}return{done:!0,value:void 0}})}function d(k,l){var m=l&&typeof l;m=="object"||m=="function"?f.has(l)?m=f.get(l):(m=""+ ++h,f.set(l,m)):m="p_"+l;var p=k[0][m];if(p&&ia(k[0],m))for(k=0;k<p.length;k++){var t=p[k];if(l!==l&&t.key!==t.key||l===t.key)return{id:m,list:p,index:k,entry:t}}return{id:m,
list:p,index:-1,entry:void 0}}function e(k){this[0]={};this[1]=b();this.size=0;if(k){k=ba(k);for(var l;!(l=k.next()).done;)l=l.value,this.set(l[0],l[1])}}if(function(){if(!a||typeof a!="function"||!a.prototype.entries||typeof Object.seal!="function")return!1;try{var k=Object.seal({x:4}),l=new a(ba([[k,"s"]]));if(l.get(k)!="s"||l.size!=1||l.get({x:4})||l.set({x:4},"t")!=l||l.size!=2)return!1;var m=l.entries(),p=m.next();if(p.done||p.value[0]!=k||p.value[1]!="s")return!1;p=m.next();return p.done||p.value[0].x!=
4||p.value[1]!="t"||!m.next().done?!1:!0}catch(t){return!1}}())return a;var f=new WeakMap;e.prototype.set=function(k,l){k=k===0?0:k;var m=d(this,k);m.list||(m.list=this[0][m.id]=[]);m.entry?m.entry.value=l:(m.entry={next:this[1],nd:this[1].nd,head:this[1],key:k,value:l},m.list.push(m.entry),this[1].nd.next=m.entry,this[1].nd=m.entry,this.size++);return this};e.prototype.delete=function(k){k=d(this,k);return k.entry&&k.list?(k.list.splice(k.index,1),k.list.length||delete this[0][k.id],k.entry.nd.next=
k.entry.next,k.entry.next.nd=k.entry.nd,k.entry.head=null,this.size--,!0):!1};e.prototype.clear=function(){this[0]={};this[1]=this[1].nd=b();this.size=0};e.prototype.has=function(k){return!!d(this,k).entry};e.prototype.get=function(k){return(k=d(this,k).entry)&&k.value};e.prototype.entries=function(){return c(this,function(k){return[k.key,k.value]})};e.prototype.keys=function(){return c(this,function(k){return k.key})};e.prototype.values=function(){return c(this,function(k){return k.value})};e.prototype.forEach=
function(k,l){for(var m=this.entries(),p;!(p=m.next()).done;)p=p.value,k.call(l,p[1],p[0],this)};e.prototype[Symbol.iterator]=e.prototype.entries;var h=0;return e});function ja(a,b){a instanceof String&&(a+="");var c=0,d=!1,e={next:function(){if(!d&&c<a.length){var f=c++;return{value:b(f,a[f]),done:!1}}d=!0;return{done:!0,value:void 0}}};e[Symbol.iterator]=function(){return e};return e}fa("Array.prototype.keys",function(a){return a?a:function(){return ja(this,function(b){return b})}});
fa("Object.is",function(a){return a?a:function(b,c){return b===c?b!==0||1/b===1/c:b!==b&&c!==c}});fa("Array.prototype.includes",function(a){return a?a:function(b,c){var d=this;d instanceof String&&(d=String(d));var e=d.length;c=c||0;for(c<0&&(c=Math.max(c+e,0));c<e;c++){var f=d[c];if(f===b||Object.is(f,b))return!0}return!1}});
fa("String.prototype.includes",function(a){return a?a:function(b,c){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return(this+"").indexOf(b,c||0)!==-1}});
var ka={},la;
var ma=[,2,1,4,3];
var n=function(){return typeof self==="object"?self:typeof window==="object"?window:typeof global==="object"?global:this}();
var q={};n.Blockly||(n.Blockly={});n.Blockly.Msg||(n.Blockly.Msg=q);function na(a){a=String(a).toLowerCase().trim();var b=oa[a];if(b)return b;b=a.substring(0,2)=="0x"?"#"+a.substring(2):a;b=b[0]=="#"?b:"#"+b;if(/^#[0-9a-f]{6}$/.test(b))return b;if(/^#[0-9a-f]{3}$/.test(b))return["#",b[1],b[1],b[2],b[2],b[3],b[3]].join("");var c=a.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return c&&(a=Number(c[1]),b=Number(c[2]),c=Number(c[3]),a>=0&&a<256&&b>=0&&b<256&&c>=0&&c<256)?pa(a,b,c):null}
function pa(a,b,c){b=a<<16|b<<8|c;return a<16?"#"+(16777216|b).toString(16).substr(1):"#"+b.toString(16)}function qa(a){a=na(a);if(!a)return[0,0,0];a=parseInt(a.substr(1),16);return[a>>16,a>>8&255,a&255]}function ra(a,b,c){a=na(a);if(!a)return null;b=na(b);if(!b)return null;a=qa(a);b=qa(b);return pa(Math.round(b[0]+c*(a[0]-b[0])),Math.round(b[1]+c*(a[1]-b[1])),Math.round(b[2]+c*(a[2]-b[2])))}
var oa={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"};function r(a,b){this.x=a;this.y=b}function sa(a,b){return a==b?!0:a&&b?a.x==b.x&&a.y==b.y:!1}function ta(a,b){var c=a.x-b.x;a=a.y-b.y;return Math.sqrt(c*c+a*a)}function ua(a,b){return new r(a.x-b.x,a.y-b.y)}function va(a,b){return new r(a.x+b.x,a.y+b.y)}r.prototype.clone=function(){return new r(this.x,this.y)};r.prototype.scale=function(a){this.x*=a;this.y*=a;return this};r.prototype.translate=function(a,b){this.x+=a;this.y+=b;return this};function wa(a,b,c,d){this.top=a;this.bottom=b;this.left=c;this.right=d}wa.prototype.contains=function(a,b){return a>=this.left&&a<=this.right&&b>=this.top&&b<=this.bottom};function xa(a){return a.length?a.reduce(function(b,c){return b.length<c.length?b:c}).length:0}function ya(a,b){if(!a.length)return 0;if(a.length==1)return a[0].length;var c=0;b=b||xa(a);for(var d=0;d<b;d++){for(var e=a[0][d],f=1;f<a.length;f++)if(e!=a[f][d])return c;e==" "&&(c=d+1)}for(f=1;f<a.length;f++)if((e=a[f][d])&&e!=" ")return c;return b}
function za(a,b){if(!a.length)return 0;if(a.length==1)return a[0].length;var c=0;b=b||xa(a);for(var d=0;d<b;d++){for(var e=a[0].substr(-d-1,1),f=1;f<a.length;f++)if(e!=a[f].substr(-d-1,1))return c;e==" "&&(c=d+1)}for(f=1;f<a.length;f++)if((e=a[f].charAt(a[f].length-d-1))&&e!=" ")return c;return b}
function Aa(a,b){a=a.split("\n");for(var c=0;c<a.length;c++){var d=c;var e=a[c],f=b;if(e.length<=f)var h=e;else{for(var k=e.trim().split(/\s+/),l=0;l<k.length;l++)k[l].length>f&&(f=k[l].length);l=-Infinity;var m=1;do{var p=l;h=e;e=[];var t=k.length/m,x=1;for(l=0;l<k.length-1;l++)x<(l+1.5)/t?(x++,e[l]=!0):e[l]=!1;e=Ba(k,e,f);l=Ca(k,e,f);t=k;x=[];for(var G=0;G<t.length;G++)x.push(t[G]),e[G]!==void 0&&x.push(e[G]?"\n":" ");e=x.join("");m++}while(l>p)}a[d]=h}return a.join("\n")}
function Ca(a,b,c){for(var d=[0],e=[],f=0;f<a.length;f++)d[d.length-1]+=a[f].length,b[f]===!0?(d.push(0),e.push(a[f].charAt(a[f].length-1))):b[f]===!1&&d[d.length-1]++;a=Math.max.apply(Math,d);for(f=b=0;f<d.length;f++)b-=Math.pow(Math.abs(c-d[f]),1.5)*2,b-=Math.pow(a-d[f],1.5),".?!".indexOf(e[f])!=-1?b+=c/3:",;)]}".indexOf(e[f])!=-1&&(b+=c/4);d.length>1&&d[d.length-1]<=d[d.length-2]&&(b+=.5);return b}
function Ba(a,b,c){for(var d=Ca(a,b,c),e,f=0;f<b.length-1;f++)if(b[f]!=b[f+1]){var h=[].concat(b);h[f]=!h[f];h[f+1]=!h[f+1];var k=Ca(a,h,c);k>d&&(d=k,e=h)}return e?Ba(a,e,c):b};function Da(a,b){this.width=a;this.height=b};function Ea(a){var b;(b=Fa(a,"display"))||(b=a.currentStyle?a.currentStyle.display:null);if((b||a.style&&a.style.display)!="none")return new Da(a.offsetWidth,a.offsetHeight);b=a.style;var c=b.display,d=b.visibility,e=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";var f=a.offsetWidth;a=a.offsetHeight;b.display=c;b.position=e;b.visibility=d;return new Da(f,a)}
function Fa(a,b){return document.defaultView&&document.defaultView.getComputedStyle&&(a=document.defaultView.getComputedStyle(a,null))?a[b]||a.getPropertyValue(b)||"":""}function Ga(a){var b=new r(0,0);a=a.getBoundingClientRect();var c=document.documentElement;c=new r(window.pageXOffset||c.scrollLeft,window.pageYOffset||c.scrollTop);b.x=a.left+c.x;b.y=a.top+c.y;return b};var Ha,Ia,Ja,Ka,La,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua;
(function(a){function b(d){return c.indexOf(d.toUpperCase())!=-1}Ua=a;var c=Ua.toUpperCase();Ha=b("Trident")||b("MSIE");Ia=b("Edge");Ja=b("JavaFX");!b("Chrome")&&b("CriOS");Ka=b("WebKit")&&!Ia;La=b("Gecko")&&!Ka&&!Ha&&!Ia;Na=b("Android");a=n.navigator&&n.navigator.maxTouchPoints;Oa=b("iPad")||b("Macintosh")&&a>0;Pa=b("iPod");Qa=b("iPhone")&&!Oa&&!Pa;Ra=b("Macintosh");Sa=Oa||Na&&!b("Mobile")||b("Silk");Ta=!Sa&&(Pa||Qa||Na||b("IEMobile"))})(n.navigator&&n.navigator.userAgent||"");
function Va(a){a.preventDefault();a.stopPropagation()}function Wa(a){return a.target.type=="textarea"||a.target.type=="text"||a.target.type=="number"||a.target.type=="email"||a.target.type=="password"||a.target.type=="search"||a.target.type=="tel"||a.target.type=="url"||a.target.isContentEditable||a.target.dataset&&a.target.dataset.Bs=="true"}
function Xa(a){var b=new r(0,0),c=a.getAttribute("x");c&&(b.x=parseInt(c,10));if(c=a.getAttribute("y"))b.y=parseInt(c,10);if(c=(c=a.getAttribute("transform"))&&c.match(Ya))b.x+=Number(c[1]),c[3]&&(b.y+=Number(c[3]));(a=a.getAttribute("style"))&&a.indexOf("translate")>-1&&(a=a.match(Za))&&(b.x+=Number(a[1]),a[3]&&(b.y+=Number(a[3])));return b}
function $a(a){for(var b=0,c=0;a;){var d=Xa(a);b+=d.x;c+=d.y;if((" "+(a.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")!=-1)break;a=a.parentNode}return new r(b,c)}var Ya=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/,Za=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/;function ab(a){return a.ctrlKey&&Ra?!0:a.button==2}function bb(a,b,c){var d=b.createSVGPoint();d.x=a.clientX;d.y=a.clientY;c||(c=b.getScreenCTM().inverse());return d.matrixTransform(c)}
function cb(a){switch(a.deltaMode){default:return{x:a.deltaX,y:a.deltaY};case 1:return{x:a.deltaX*40,y:a.deltaY*40};case 2:return{x:a.deltaX*125,y:a.deltaY*125}}}function db(a){if(typeof a!="string")return a;a=eb(a,!1);return a.length?String(a[0]):""}
function eb(a,b){var c=[],d=a.split("");d.push("");var e=0;a=[];for(var f=null,h=0;h<d.length;h++){var k=d[h];e==0?k=="%"?((k=a.join(""))&&c.push(k),a.length=0,e=1):a.push(k):e==1?k=="%"?(a.push(k),e=0):b&&"0"<=k&&k<="9"?(e=2,f=k,(k=a.join(""))&&c.push(k),a.length=0):k=="{"?e=3:(a.push("%",k),e=0):e==2?"0"<=k&&k<="9"?f+=k:(c.push(parseInt(f,10)),h--,e=0):e==3&&(k==""?(a.splice(0,0,"%{"),h--,e=0):k!="}"?a.push(k):(e=a.join(""),/[A-Z]\w*/i.test(e)?(k=e.toUpperCase(),(k=k.lastIndexOf("BKY_",0)==0?k.substring(4):
null)&&k in q?(e=q[k],typeof e=="string"?Array.prototype.push.apply(c,eb(e,b)):b?c.push(String(e)):c.push(e)):c.push("%{"+e+"}")):c.push("%{"+e+"}"),e=a.length=0))}(k=a.join(""))&&c.push(k);b=[];for(h=a.length=0;h<c.length;++h)typeof c[h]=="string"?a.push(c[h]):((k=a.join(""))&&b.push(k),a.length=0,b.push(c[h]));(k=a.join(""))&&b.push(k);a.length=0;return b}function fb(){for(var a=hb.length,b=[],c=0;c<20;c++)b[c]=hb.charAt(Math.random()*a);return b.join("")}var hb="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
function ib(){if(jb!==void 0)return jb;if(!n.getComputedStyle)return!1;var a=document.createElement("p"),b="none",c={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(a,null);for(var d in c)if(a.style[d]!==void 0){a.style[d]="translate3d(1px,1px,1px)";b=n.getComputedStyle(a);if(!b)return document.body.removeChild(a),!1;b=b.getPropertyValue(c[d])}document.body.removeChild(a);return jb=
b!=="none"}var jb;function kb(a){if(typeof document!="object")throw Error("Blockly.utils.runAfterPageLoad() requires browser document.");if(document.readyState=="complete")a();else var b=setInterval(function(){document.readyState=="complete"&&(clearInterval(b),a())},10)}function lb(a,b){b=a.indexOf(b);if(b==-1)return!1;a.splice(b,1);return!0}
function mb(a,b){var c=Object.create(null),d=nb(a,!0);b&&(a=ob(a))&&(a=d.indexOf(a),d.splice(a,d.length-a));for(a=0;b=d[a];a++)c[b.type]?c[b.type]++:c[b.type]=1;return c}
function pb(a){var b=typeof a=="string"?db(a):a,c=Number(b);if(!isNaN(c)&&0<=c&&c<=360){var d=b=a=0,e=Math.floor(c/60),f=c/60-e,h=165.75*.55,k=165.75*(1-.45*f);f=165.75*(1-.45*(1-f));switch(e){case 1:a=k;b=165.75;d=h;break;case 2:a=h;b=165.75;d=f;break;case 3:a=h;b=k;d=165.75;break;case 4:a=f;b=h;d=165.75;break;case 5:a=165.75;b=h;d=k;break;case 6:case 0:a=165.75,b=f,d=h}a=pa(Math.floor(a),Math.floor(b),Math.floor(d));return{Kq:c,Kg:a}}if(c=na(b))return{Kq:null,Kg:c};c='Invalid colour: "'+b+'"';a!=
b&&(c+=' (from "'+a+'")');throw Error(c);};var qb="ontouchstart"in n||!!(n.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!n.navigator||!n.navigator.maxTouchPoints&&!n.navigator.msMaxTouchPoints),rb=null,sb={};
n.PointerEvent?sb={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]}:qb&&(sb={mousedown:["touchstart"],mousemove:["touchmove"],mouseup:["touchend","touchcancel"]});var tb=0;
function ub(a,b){vb();a.changedTouches&&a.changedTouches.length!=1||(tb=setTimeout(function(){a.changedTouches&&(a.button=2,a.clientX=a.changedTouches[0].clientX,a.clientY=a.changedTouches[0].clientY);b&&wb(b,a)},750))}function vb(){tb&&(clearTimeout(tb),tb=0)}function xb(a){return a.pointerId!=void 0?a.pointerId:a.changedTouches&&a.changedTouches[0]&&a.changedTouches[0].identifier!==void 0&&a.changedTouches[0].identifier!==null?a.changedTouches[0].identifier:"mouse"}
function yb(a){var b=xb(a);return rb!==void 0&&rb!==null?rb==b:a.type=="mousedown"||a.type=="touchstart"||a.type=="pointerdown"?(rb=b,!0):!1}function zb(a){return a.type.lastIndexOf("touch",0)==0||a.type.lastIndexOf("mouse",0)==0||a.type.lastIndexOf("pointer",0)==0}function Ab(a){return a.type.lastIndexOf("touch",0)==0||a.type.lastIndexOf("pointer",0)==0}
function Bb(a){var b=[];if(a.changedTouches)for(var c=0;c<a.changedTouches.length;c++)b[c]={type:a.type,changedTouches:[a.changedTouches[c]],target:a.target,stopPropagation:function(){a.stopPropagation()},preventDefault:function(){a.preventDefault()}};else b.push(a);return b};function u(a,b,c,d,e,f){function h(x){var G=!e;x=Bb(x);for(var gb=0,Ma;Ma=x[gb];gb++)if(!G||!zb(Ma)||yb(Ma)){var Fb=Ma;if(Fb.type.lastIndexOf("touch",0)==0){var ie=Fb.changedTouches[0];Fb.clientX=ie.clientX;Fb.clientY=ie.clientY}c?d.call(c,Ma):d(Ma);k=!0}}var k=!1,l=[];if(n.PointerEvent&&b in sb)for(var m=0,p;p=sb[b][m];m++)a.addEventListener(p,h,!1),l.push([a,p,h]);else if(a.addEventListener(b,h,!1),l.push([a,b,h]),b in sb){var t=function(x){h(x);var G=!f;k&&G&&x.preventDefault()};for(m=0;p=sb[b][m];m++)a.addEventListener(p,
t,!1),l.push([a,p,t])}return l}function Cb(a,b,c,d){function e(m){c?d.call(c,m):d(m)}var f=[];if(n.PointerEvent&&b in sb)for(var h=0,k;k=sb[b][h];h++)a.addEventListener(k,e,!1),f.push([a,k,e]);else if(a.addEventListener(b,e,!1),f.push([a,b,e]),b in sb){var l=function(m){if(m.changedTouches&&m.changedTouches.length==1){var p=m.changedTouches[0];m.clientX=p.clientX;m.clientY=p.clientY}e(m);m.preventDefault()};for(h=0;k=sb[b][h];h++)a.addEventListener(k,l,!1),f.push([a,k,l])}return f}
function v(a){for(;a.length;){var b=a.pop();b[0].removeEventListener(b[1],b[2],!1)}};
function Db(){this.yd=Object.create(null);this.gf=Object.create(null)}function Eb(a,b){var c=b.component.id;if(a.yd[c])throw Error('Plugin "'+c+'" with capabilities "'+a.yd[c].wd+'" already added.');a.yd[c]=b;for(var d=[],e=0;e<b.wd.length;e++){var f=String(b.wd[e]).toLowerCase();d.push(f);a.gf[f]===void 0?a.gf[f]=[c]:a.gf[f].push(c)}a.yd[c].wd=d}
function Gb(a,b){var c=a.yd[b];if(c){for(var d=0;d<c.wd.length;d++){var e=String(c.wd[d]).toLowerCase();a.gf[e].splice(a.gf[e].indexOf(b),1)}delete a.yd[b]}}function Hb(a,b){var c=Ib;c=String(c).toLowerCase();return a.yd[b].wd.indexOf(c)!==-1}function Jb(a,b){b=String(b).toLowerCase();b=a.gf[b];if(!b)return[];var c=[],d=[],e=a.yd;b.forEach(function(f){d.push(e[f])});d.sort(function(f,h){return f.weight-h.weight});d.forEach(function(f){c.push(f.component)});return c}function Kb(a){this.Zg=a}
Kb.prototype.toString=function(){return this.Zg};var Lb=new Kb("positionable"),Mb=new Kb("drag_target"),Ib=new Kb("delete_area"),Nb=new Kb("autohideable");
function w(a){this.Cr=a}w.prototype.toString=function(){return this.Cr};var Ob=new w("animate"),Pb=new w("circle"),Qb=new w("clipPath"),Rb=new w("defs"),Sb=new w("feComposite"),Tb=new w("feGaussianBlur"),Ub=new w("fePointLight"),Vb=new w("feSpecularLighting"),Wb=new w("filter"),Xb=new w("g"),Yb=new w("image"),Zb=new w("line"),$b=new w("path"),ac=new w("pattern"),bc=new w("polygon"),cc=new w("rect"),dc=new w("svg"),ec=new w("text"),fc=new w("tspan");var hc=null,ic=0,jc=null;function y(a,b,c){a=document.createElementNS("http://www.w3.org/2000/svg",String(a));for(var d in b)a.setAttribute(d,b[d]);document.body.runtimeStyle&&(a.runtimeStyle=a.currentStyle=a.style);c&&c.appendChild(a);return a}function z(a,b){var c=a.getAttribute("class")||"";a.setAttribute("class",c+" "+b)}
function kc(a,b){for(var c=(a.getAttribute("class")||"").split(/\s+/),d=0;d<c.length;d++)c[d]&&c[d]!=b||(c.splice(d,1),d--);c.length?a.setAttribute("class",c.join(" ")):a.removeAttribute("class")}function lc(a,b){return(" "+(a.getAttribute("class")||"")+" ").indexOf(" "+b+" ")!=-1}function A(a){a&&a.parentNode&&a.parentNode.removeChild(a)}function mc(a,b){var c=b.nextSibling;b=b.parentNode;if(!b)throw Error("Reference node has no parent.");c?b.insertBefore(a,c):b.appendChild(a)}
function nc(a,b){a.style.transform=b;a.style["-webkit-transform"]=b}function oc(){ic++;hc||(hc=Object.create(null))}function pc(){ic--;ic||(hc=null)}function qc(a,b,c,d){var e=a.textContent;a=e+"\n"+a.className.baseVal;var f;if(hc&&(f=hc[a]))return f;jc||(f=document.createElement("canvas"),f.className="blocklyComputeCanvas",document.body.appendChild(f),jc=f.getContext("2d"));jc.font=c+" "+b+" "+d;f=jc.measureText(e).width;hc&&(hc[a]=f);return f};function rc(a,b,c){if(c<a){var d=c;c=a;a=d}return Math.max(a,Math.min(b,c))};


var sc,tc,uc,vc=null,wc=null,xc=null,yc=null,zc="",Ac="";
function Bc(){if(!sc){var a=document.createElement("div");a.className="blocklyDropDownDiv";(Cc||document.body).appendChild(a);sc=a;var b=document.createElement("div");b.className="blocklyDropDownContent";a.appendChild(b);tc=b;b=document.createElement("div");b.className="blocklyDropDownArrow";a.appendChild(b);uc=b;sc.style.opacity=0;sc.style.transition="transform 0.25s, opacity 0.25s";a.addEventListener("focusin",function(){z(a,"blocklyFocused")});a.addEventListener("focusout",function(){kc(a,"blocklyFocused")})}}
function Dc(a,b){var c=Ec(a);var d=new wa(c.top,c.bottom,c.left,c.right);c=d.left+(d.right-d.left)/2;var e=d.bottom;d=d.top;for(var f=a.D(),h=f.j;h.options.$a;)h=h.options.$a;vc=B(h).parentNode;f=f.m;wc=a;yc=b||null;a=sc;a.style.direction=f?"rtl":"ltr";b=Fc;zc=b.na.nc();Ac=b.cd().nc();z(a,zc);z(a,Ac);a=Ga(vc);b=Ea(vc);a={left:a.x,right:a.x+b.width,top:a.y,bottom:a.y+b.height,width:b.width,height:b.height};b=Ea(sc);e+b.height<a.bottom?c=Gc(c,e,a,b):d-b.height>a.top?c=Hc(c,d,a,b):e+b.height<document.documentElement.clientHeight?
c=Gc(c,e,a,b):d-b.height>document.documentElement.clientTop?c=Hc(c,d,a,b):(c=Ic(c,a.left,a.right,b.width),c={$k:c.pf,al:0,Kk:c.pf,Lk:0,Zj:null,ef:null,ak:null,$j:!1});a=c;a.$j?(uc.style.display="",uc.style.transform="translate("+a.ef+"px,"+a.ak+"px) rotate(45deg)",uc.setAttribute("class",a.Zj?"blocklyDropDownArrow blocklyArrowTop":"blocklyDropDownArrow blocklyArrowBottom")):uc.style.display="none";c=Math.floor(a.$k);e=Math.floor(a.al);d=Math.floor(a.Kk);a=Math.floor(a.Lk);b=sc;b.style.left=c+"px";
b.style.top=e+"px";b.style.display="block";b.style.opacity=1;b.style.transform="translate("+(d-c)+"px,"+(a-e)+"px)"}function Gc(a,b,c,d){a=Ic(a,c.left,c.right,d.width);return{$k:a.pf,al:b,Kk:a.pf,Lk:b+16,ef:a.ef,ak:-9,Zj:!0,$j:!0}}function Hc(a,b,c,d){a=Ic(a,c.left,c.right,d.width);return{$k:a.pf,al:b-d.height,Kk:a.pf,Lk:b-d.height-16,ef:a.ef,ak:d.height-2-8,Zj:!1,$j:!0}}function Ic(a,b,c,d){var e=a;a=rc(b,a-d/2,c-d);b=rc(12,e-8-a,d-12-16);return{ef:b,pf:a}}
function Jc(){var a=sc;a.style.transform="translate(0, 0)";a.style.opacity=0;xc=setTimeout(function(){Kc()},250);yc&&(yc(),yc=null)}function Kc(){if(wc){xc&&clearTimeout(xc);var a=sc;a.style.transform="";a.style.left="";a.style.top="";a.style.opacity=0;a.style.display="none";a.style.backgroundColor="";a.style.borderColor="";yc&&(yc(),yc=null);tc.textContent="";tc.style.width="";wc=null;zc&&(kc(a,zc),zc="");Ac&&(kc(a,Ac),Ac="");Lc(Fc)}};var Mc=Object.create(null);function Nc(a){this.Zg=a}Nc.prototype.toString=function(){return this.Zg};var Oc=new Nc("connectionChecker"),Pc=new Nc("cursor"),Qc=new Nc("event"),Rc=new Nc("field"),Sc=new Nc("renderer"),Tc=new Nc("toolbox"),Uc=new Nc("theme"),Vc=new Nc("flyoutsVerticalToolbox"),Wc=new Nc("metricsManager"),Xc=new Nc("blockDragger");
function C(a,b,c){if(!(a instanceof Nc)&&typeof a!="string"||String(a).trim()=="")throw Error('Invalid type "'+a+'". The type must be a non-empty string or a Blockly.registry.Type.');a=String(a).toLowerCase();if(typeof b!="string"||b.trim()=="")throw Error('Invalid name "'+b+'". The name must be a non-empty string.');b=b.toLowerCase();if(!c)throw Error("Can not register a null value");var d=Mc[a];d||(d=Mc[a]=Object.create(null));switch(a){case String(Rc):if(typeof c.M!="function")throw Error('Type "'+
a+'" must have a fromJson function');}if(d[b])throw Error('Name "'+b+'" with type "'+a+'" already registered.');d[b]=c}function Yc(a,b,c){a=String(a).toLowerCase();b=b.toLowerCase();var d=Mc[a];if(!d||!d[b]){b="Unable to find ["+b+"]["+a+"] in the registry.";if(c)throw Error(b+" You must require or register a "+a+" plugin.");console.warn(b);return null}return d[b]}function Zc(a,b,c){b=b.plugins[a.toString()]||"default";return typeof b=="function"?b:Yc(a,b,c)};var $c="",ad=!0,D=0,bd=["create","move"],cd=[];function E(a){D==0&&(cd.length||setTimeout(dd,0),cd.push(a))}function dd(){for(var a=ed(cd,!0),b=cd.length=0,c;c=a[b];b++)if(c.Ua){var d=fd[c.Ua]||null;if(d){var e=c;if(e.ab)for(d.Ne.push(e),d.ih.length=0;d.Ne.length>d.Lm&&d.Lm>=0;)d.Ne.shift();for(var f=0;c=d.Ha[f];f++)c(e)}}}
function ed(a,b){a=a.slice();b||a.reverse();for(var c=[],d=Object.create(null),e=0,f;f=a[e];e++)if(!f.Si()){var h=[f.hl?"ui":f.type,f.Y,f.Ua].join(" "),k=d[h],l=k?k.event:null;if(!k)d[h]={event:f,index:e},c.push(f);else if(f.type=="move"&&k.index==e-1)l.ze=f.ze,l.ye=f.ye,l.Nd=f.Nd,k.index=e;else if(f.type=="change"&&f.element==l.element&&f.name==l.name)l.newValue=f.newValue;else if(f.type=="viewport_change")l.ec=f.ec,l.dc=f.dc,l.scale=f.scale,l.$g=f.$g;else if(f.type!="click"||l.type!="bubble_open")d[h]=
{event:f,index:e},c.push(f)}a=c.filter(function(m){return!m.Si()});b||a.reverse();for(e=1;f=a[e];e++)f.type=="change"&&f.element=="mutation"&&a.unshift(a.splice(e,1)[0]);return a}function F(a){$c=typeof a=="boolean"?a?fb():"":a}function gd(a){var b=[];a=nb(a,!1);for(var c=0,d;d=a[c];c++)b[c]=d.id;return b}function H(a){return Yc(Qc,a)}
function hd(a){if((a.type=="move"||a.type=="create")&&a.Ua){var b=fd[a.Ua]||null,c=b.Hb(a.Y);if(c){a=ad;try{ad=!1;var d=c.getParent();if(d&&d.isEnabled()){var e=nb(c,!1);b=0;for(var f;f=e[b];b++)f.Pc(!0)}else if((c.o||c.F)&&!b.Pa()){do c.Pc(!1),c=ob(c);while(c)}}finally{ad=a}}}};
function id(){this.Ic=null;this.Ua=void 0;this.group=$c;this.ab=ad}g=id.prototype;g.hl=!1;g.P=function(){var a={type:this.type};this.group&&(a.group=this.group);return a};g.M=function(a){this.Ic=!1;this.group=a.group};g.Si=function(){return!1};g.run=function(){};function jd(a){if(a.Ua)var b=fd[a.Ua]||null;if(!b)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return b};function I(a,b){a.i=b.prototype;a.prototype=Object.create(b.prototype);a.prototype.constructor=a}function kd(a,b){for(var c in b)a[c]=b[c]}function ld(a){return Object.values?Object.values(a):Object.keys(a).map(function(b){return a[b]})};function J(a){return document.createElementNS("https://developers.google.com/blockly/xml",a)};function md(a){for(var b=K,c=J("xml"),d=nd(b),e=J("variables"),f=0,h;h=d[f];f++){var k=J("variable");k.appendChild(document.createTextNode(h.name));h.type&&k.setAttribute("type",h.type);k.id=h.Wa();e.appendChild(k)}e.hasChildNodes()&&c.appendChild(e);e=[].concat(b.Gj);e.length>1&&(b.Qc.offset=Math.sin(3*Math.PI/180),b.m&&(b.Qc.offset*=-1),e.sort(b.Qc));for(d=0;f=e[d];d++)c.appendChild(f.Js(a));b=b.qa(!0);for(d=0;e=b[d];d++)c.appendChild(od(e,a));return c}
function od(a,b){if(a.xb()&&(a=pd(a,!1)[0],!a))return new DocumentFragment;var c;a.j.m&&(c=a.j.Ed());b=qd(a,b);var d=a.Z();b.setAttribute("x",Math.round(a.j.m?c-d.x:d.x));b.setAttribute("y",Math.round(d.y));return b}
function qd(a,b){if(a.xb())return(a=pd(a,!1)[0])?qd(a):new DocumentFragment;var c=J(a.R?"shadow":"block");c.setAttribute("type",a.type);b||c.setAttribute("id",a.id);if(a.Xb){var d=a.Xb();d&&(d.hasChildNodes()||d.hasAttributes())&&c.appendChild(d)}d=0;for(var e;e=a.v[d];d++)for(var f=0,h;h=e.ba[f];f++){var k=!1;h.name&&(h.gg?k=!0:h.Qh&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),
k=!0));k?(k=J("field"),k.setAttribute("name",h.name||""),k.textContent=h.Ea,h=k):h=null;h&&c.appendChild(h)}if(d=a.kc.text)e=a.kc.size,f=a.kc.Go,h=J("comment"),h.appendChild(document.createTextNode(d)),h.setAttribute("pinned",f),h.setAttribute("h",e.height),h.setAttribute("w",e.width),c.appendChild(h);a.data&&(d=J("data"),d.appendChild(document.createTextNode(a.data)),c.appendChild(d));for(d=0;e=a.v[d];d++){var l;f=!0;e.type!=5&&(k=e.connection.H(),e.type==1?l=J("value"):e.type==3&&(l=J("statement")),
h=e.connection.uf(),!h||k&&k.R||l.appendChild(rd(h,b)),k&&(h=qd(k,b),h.nodeType==Node.ELEMENT_NODE&&(l.appendChild(h),f=!1)),l.setAttribute("name",e.name),f||c.appendChild(l))}a.fd!=void 0&&a.fd!=a.Lq&&c.setAttribute("inline",a.fd);a.isCollapsed()&&c.setAttribute("collapsed",!0);a.isEnabled()||c.setAttribute("disabled",!0);a.Kc()||a.R||c.setAttribute("deletable",!1);a.Ya()||a.R||c.setAttribute("movable",!1);a.wb()||c.setAttribute("editable",!1);if(d=ob(a))h=qd(d,b),h.nodeType==Node.ELEMENT_NODE&&
(l=J("next"),l.appendChild(h),c.appendChild(l));h=a.B&&a.B.uf();!h||d&&d.R||l.appendChild(rd(h,b));return c}function rd(a,b){for(var c=a=a.cloneNode(!0),d;c;)if(b&&c.nodeName=="shadow"&&c.removeAttribute("id"),c.firstChild)c=c.firstChild;else{for(;c&&!c.nextSibling;)d=c,c=c.parentNode,d.nodeType==Node.TEXT_NODE&&d.data.trim()==""&&c.firstChild!=d&&A(d);c&&(d=c,c=c.nextSibling,d.nodeType==Node.TEXT_NODE&&d.data.trim()==""&&A(d))}return a}
function sd(a){return(new XMLSerializer).serializeToString(a).replace(/<(\w+)([^<]*)\/>/g,"<$1$2></$1>")}function td(a){var b=(new DOMParser).parseFromString(a,"text/xml");if(!b||!b.documentElement||b.getElementsByTagName("parsererror").length)throw Error("textToDom was unable to parse: "+a);return b.documentElement}
function ud(a,b){var c;b.m&&(c=b.Ed());var d=[];oc();var e=$c;e||F(!0);b.bb&&b.bb(!1);var f=!0;try{for(var h=0,k;k=a.childNodes[h];h++){var l=k.nodeName.toLowerCase(),m=k;if(l=="block"||l=="shadow"&&!ad){var p=vd(m,b);d.push(p.id);var t=m.hasAttribute("x")?parseInt(m.getAttribute("x"),10):10,x=m.hasAttribute("y")?parseInt(m.getAttribute("y"),10):10;isNaN(t)||isNaN(x)||p.moveBy(b.m?c-t:t,x);f=!1}else{if(l=="shadow")throw TypeError("Shadow block cannot be a top-level block.");if(l=="variables"){if(f)for(var G=
void 0,gb=b,Ma=0;G=m.childNodes[Ma];Ma++){if(G.nodeType==Node.ELEMENT_NODE){var Fb=G.getAttribute("type"),ie=G.getAttribute("id");gb.Bd(G.textContent,Fb,ie)}}else throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");f=!1}}}}finally{e||F(!1),pc()}b.bb&&b.bb(!0);E(new (H("finished_loading"))(b))}
function vd(a,b){if(a instanceof wd){var c=a;a=b;b=c;console.warn("Deprecated call to Blockly.Xml.domToBlock, swap the arguments.")}D++;c=b.rf();try{var d=xd(a,b),e=nb(d,!1);if(b.K){yd(d,!1);for(var f=e.length-1;f>=0;f--)e[f].ed();for(f=e.length-1;f>=0;f--)e[f].U(!1);setTimeout(function(){d.disposed||yd(d,!0)},1);zd(d);Ad(b)}else for(f=e.length-1;f>=0;f--);}finally{D--}if(D==0){a=Bd(b,c);for(f=0;f<a.length;f++)b=a[f],E(new (H("var_create"))(b));E(new (H("create"))(d))}return d}
function Cd(a,b){for(var c=0,d;d=a[c];c++){var e=d.textContent,f=d.getAttribute("pinned")=="true",h=parseInt(d.getAttribute("w"),10);d=parseInt(d.getAttribute("h"),10);b.Qf(e);b.kc.Go=f;isNaN(h)||isNaN(d)||(b.kc.size=new Da(h,d));f&&b.wq&&!b.Xa&&setTimeout(function(){b.jc.ra(!0)},1)}}function Dd(a){for(var b={mg:null,ng:null},c=0,d;d=a.childNodes[c];c++)d.nodeType==Node.ELEMENT_NODE&&(d.nodeName.toLowerCase()=="block"?b.mg=d:d.nodeName.toLowerCase()=="shadow"&&(b.ng=d));return b}
function xd(a,b,c,d){var e=a.getAttribute("type");if(!e)throw TypeError("Block type unspecified: "+a.outerHTML);var f=a.getAttribute("id");f=b.If(e,f);for(var h=[],k=[],l=[],m=[],p=[],t=[],x=0,G;G=a.childNodes[x];x++)if(G.nodeType!=Node.TEXT_NODE)switch(G.nodeName.toLowerCase()){case "mutation":h.push(G);break;case "comment":if(!ka.Comment){console.warn("Missing require for Blockly.Comment, ignoring block comment.");break}k.push(G);break;case "data":l.push(G);break;case "title":case "field":m.push(G);
break;case "value":case "statement":p.push(G);break;case "next":t.push(G);break;default:console.warn("Ignoring unknown tag: "+G.nodeName)}x=!1;G=0;for(var gb;gb=h[G];G++)f.ad&&(f.ad(gb),f.ed&&(x=!0));h=x;Cd(k,f);for(k=0;x=l[k];k++)f.data=x.textContent;if(c)if(d)if(f.F)c.connect(f.F);else throw TypeError("Next block does not have previous statement.");else if(f.o)c.connect(f.o);else if(f.F)c.connect(f.F);else throw TypeError("Child block does not have output or previous statement.");for(c=0;k=m[c];c++)l=
k.getAttribute("name"),d=f,(x=Ed(d,l))?x.Nk(k):console.warn("Ignoring non-existent field "+l+" in block "+d.type);for(m=0;d=p[m];m++){l=d.getAttribute("name");c=L(f,l);if(!c){console.warn("Ignoring non-existent input "+l+" in block "+e);break}d=Dd(d);if(d.mg){if(!c.connection)throw TypeError("Input connection does not exist.");xd(d.mg,b,c.connection,!1)}d.ng&&c.connection.ph(d.ng)}for(e=0;p=t[e];e++){p=Dd(p);if(p.mg){if(!f.B)throw TypeError("Next statement does not exist.");if(f.B.isConnected())throw TypeError("Next statement is already connected.");
xd(p.mg,b,f.B,!0)}p.ng&&f.B&&f.B.ph(p.ng)}h&&f.ed();(b=a.getAttribute("inline"))&&f.Ge(b=="true");(b=a.getAttribute("disabled"))&&f.Pc(b!="true"&&b!="disabled");if(b=a.getAttribute("deletable"))f.rk=b=="true";(b=a.getAttribute("movable"))&&f.uj(b=="true");(b=a.getAttribute("editable"))&&f.im(b=="true");(b=a.getAttribute("collapsed"))&&f.Ee(b=="true");if(a.nodeName.toLowerCase()=="shadow"){a=pd(f,!1);for(b=0;t=a[b];b++)if(!t.R)throw TypeError("Shadow block not allowed non-shadow child.");if(Fd(f).length)throw TypeError("Shadow blocks cannot have variable references.");
f.lm(!0)}return f};function Gd(a){Gd.i.constructor.call(this);this.Y=(this.Ic=typeof a=="undefined")?"":a.id;this.Ua=this.Ic?"":a.j.id}I(Gd,id);Gd.prototype.P=function(){var a=Gd.i.P.call(this);a.blockId=this.Y;return a};Gd.prototype.M=function(a){Gd.i.M.call(this,a);this.Y=a.blockId};function Hd(a,b,c,d,e){Hd.i.constructor.call(this,a);a&&(this.element=typeof b=="undefined"?"":b,this.name=typeof c=="undefined"?"":c,this.oldValue=typeof d=="undefined"?"":d,this.newValue=typeof e=="undefined"?"":e)}I(Hd,Gd);g=Hd.prototype;
g.type="change";g.P=function(){var a=Hd.i.P.call(this);a.element=this.element;this.name&&(a.name=this.name);a.oldValue=this.oldValue;a.newValue=this.newValue;return a};g.M=function(a){Hd.i.M.call(this,a);this.element=a.element;this.name=a.name;this.oldValue=a.oldValue;this.newValue=a.newValue};g.Si=function(){return this.oldValue==this.newValue};
g.run=function(a){var b=jd(this).Hb(this.Y);if(b)switch(b.yb&&b.yb.ra(!1),a=a?this.newValue:this.oldValue,this.element){case "field":(b=Ed(b,this.name))?Id(b,a):console.warn("Can't set non-existent field: "+this.name);break;case "comment":b.Qf(a||null);break;case "collapsed":b.Ee(!!a);break;case "disabled":b.Pc(!a);break;case "inline":b.Ge(!!a);break;case "mutation":var c="";b.Xb&&(c=(c=b.Xb())&&sd(c));if(b.ad){var d=td(a||"<mutation/>");b.ad(d)}E(new Hd(b,"mutation",null,c,a));break;default:console.warn("Unknown change type: "+
this.element)}else console.warn("Can't change non-existent block: "+this.Y)};function Jd(a){Jd.i.constructor.call(this,a);a&&(a.R&&(this.ab=!1),this.xml=a.j.K?od(a):qd(a),this.qe=gd(a))}I(Jd,Gd);Jd.prototype.type="create";Jd.prototype.P=function(){var a=Jd.i.P.call(this);a.xml=sd(this.xml);a.ids=this.qe;this.ab||(a.recordUndo=this.ab);return a};Jd.prototype.M=function(a){Jd.i.M.call(this,a);this.xml=td(a.xml);this.qe=a.ids;a.recordUndo!==void 0&&(this.ab=a.recordUndo)};
Jd.prototype.run=function(a){var b=jd(this);if(a)a=J("xml"),a.appendChild(this.xml),ud(a,b);else{a=0;for(var c;c=this.qe[a];a++){var d=b.Hb(c);d?d.dispose(!1):c==this.Y&&console.warn("Can't uncreate non-existent block: "+c)}}};function Kd(a){Kd.i.constructor.call(this,a);if(a){if(a.getParent())throw Error("Connected blocks cannot be deleted.");a.R&&(this.ab=!1);this.Jf=a.j.K?od(a):qd(a);this.qe=gd(a)}}I(Kd,Gd);Kd.prototype.type="delete";
Kd.prototype.P=function(){var a=Kd.i.P.call(this);a.oldXml=sd(this.Jf);a.ids=this.qe;this.ab||(a.recordUndo=this.ab);return a};Kd.prototype.M=function(a){Kd.i.M.call(this,a);this.Jf=td(a.oldXml);this.qe=a.ids;a.recordUndo!==void 0&&(this.ab=a.recordUndo)};Kd.prototype.run=function(a){var b=jd(this);if(a){a=0;for(var c;c=this.qe[a];a++){var d=b.Hb(c);d?d.dispose(!1):c==this.Y&&console.warn("Can't delete non-existent block: "+c)}}else a=J("xml"),a.appendChild(this.Jf),ud(a,b)};
function Ld(a){Ld.i.constructor.call(this,a);a&&(a.R&&(this.ab=!1),a=Md(this),this.vo=a.Do,this.qo=a.Rn,this.Cl=a.mn)}I(Ld,Gd);g=Ld.prototype;g.type="move";g.P=function(){var a=Ld.i.P.call(this);this.ze&&(a.newParentId=this.ze);this.ye&&(a.newInputName=this.ye);this.Nd&&(a.newCoordinate=Math.round(this.Nd.x)+","+Math.round(this.Nd.y));this.ab||(a.recordUndo=this.ab);return a};
g.M=function(a){Ld.i.M.call(this,a);this.ze=a.newParentId;this.ye=a.newInputName;if(a.newCoordinate){var b=a.newCoordinate.split(",");this.Nd=new r(Number(b[0]),Number(b[1]))}a.recordUndo!==void 0&&(this.ab=a.recordUndo)};function Nd(a){var b=Md(a);a.ze=b.Do;a.ye=b.Rn;a.Nd=b.mn}function Md(a){var b=jd(a).Hb(a.Y);a={};var c=b.getParent();if(c){if(a.Do=c.id,b=Od(c,b))a.Rn=b.name}else a.mn=b.Z();return a}g.Si=function(){return this.vo==this.ze&&this.qo==this.ye&&sa(this.Cl,this.Nd)};
g.run=function(a){var b=jd(this),c=b.Hb(this.Y);if(c){var d=a?this.ze:this.vo,e=a?this.ye:this.qo,f=a?this.Nd:this.Cl;a=null;if(d&&(a=b.Hb(d),!a)){console.warn("Can't connect to non-existent block: "+d);return}c.getParent()&&Pd(c);if(f)e=c.Z(),c.moveBy(f.x-e.x,f.y-e.y);else{c=c.o||c.F;b=c.type;if(e){if(a=L(a,e))var h=a.connection}else b==4&&(h=a.B);h?c.connect(h):console.warn("Can't connect to non-existent input: "+e)}}else console.warn("Can't move non-existent block: "+this.Y)};C(Qc,"create",Jd);
C(Qc,"delete",Kd);C(Qc,"change",Hd);C(Qc,"move",Ld);function Qd(a){this.Ic=typeof a=="undefined";this.Ua=a?a.id:"";this.group=$c;this.ab=!1}I(Qd,id);Qd.prototype.type="finished_loading";Qd.prototype.P=function(){var a={type:this.type};this.group&&(a.group=this.group);this.Ua&&(a.workspaceId=this.Ua);return a};Qd.prototype.M=function(a){this.Ic=!1;this.Ua=a.workspaceId;this.group=a.group};C(Qc,"finished_loading",Qd);function Rd(a){Rd.i.constructor.call(this);this.Ic=typeof a=="undefined";this.Ua=a?a:"";this.ab=!1}I(Rd,id);Rd.prototype.hl=!0;function Sd(a,b,c,d){Sd.i.constructor.call(this,a?a.j.id:void 0);this.Y=a?a.id:null;this.element=typeof b=="undefined"?"":b;this.oldValue=typeof c=="undefined"?"":c;this.newValue=typeof d=="undefined"?"":d}I(Sd,Rd);Sd.prototype.type="ui";
Sd.prototype.P=function(){var a=Sd.i.P.call(this);a.element=this.element;this.newValue!==void 0&&(a.newValue=this.newValue);this.Y&&(a.blockId=this.Y);return a};Sd.prototype.M=function(a){Sd.i.M.call(this,a);this.element=a.element;this.newValue=a.newValue;this.Y=a.blockId};C(Qc,"ui",Sd);function Td(a){Td.i.constructor.call(this);this.$d=(this.Ic=typeof a=="undefined")?"":a.Wa();this.Ua=this.Ic?"":a.j.id}I(Td,id);Td.prototype.P=function(){var a=Td.i.P.call(this);a.varId=this.$d;return a};Td.prototype.M=function(a){Td.i.P.call(this);this.$d=a.varId};function Ud(a){Ud.i.constructor.call(this,a);a&&(this.Qe=a.type,this.Pe=a.name)}I(Ud,Td);Ud.prototype.type="var_create";Ud.prototype.P=function(){var a=Ud.i.P.call(this);a.varType=this.Qe;a.varName=this.Pe;return a};
Ud.prototype.M=function(a){Ud.i.M.call(this,a);this.Qe=a.varType;this.Pe=a.varName};Ud.prototype.run=function(a){var b=jd(this);a?b.Bd(this.Pe,this.Qe,this.$d):b.nf(this.$d)};function Vd(a){Vd.i.constructor.call(this,a);a&&(this.Qe=a.type,this.Pe=a.name)}I(Vd,Td);Vd.prototype.type="var_delete";Vd.prototype.P=function(){var a=Vd.i.P.call(this);a.varType=this.Qe;a.varName=this.Pe;return a};Vd.prototype.M=function(a){Vd.i.M.call(this,a);this.Qe=a.varType;this.Pe=a.varName};
Vd.prototype.run=function(a){var b=jd(this);a?b.nf(this.$d):b.Bd(this.Pe,this.Qe,this.$d)};function Wd(a,b){Wd.i.constructor.call(this,a);a&&(this.Dl=a.name,this.Al=typeof b=="undefined"?"":b)}I(Wd,Td);Wd.prototype.type="var_rename";Wd.prototype.P=function(){var a=Wd.i.P.call(this);a.oldName=this.Dl;a.newName=this.Al;return a};Wd.prototype.M=function(a){Wd.i.M.call(this,a);this.Dl=a.oldName;this.Al=a.newName};Wd.prototype.run=function(a){var b=jd(this);a?b.Nf(this.$d,this.Al):b.Nf(this.$d,this.Dl)};
C(Qc,"var_create",Ud);C(Qc,"var_delete",Vd);C(Qc,"var_rename",Wd);function Xd(a){this.sg=a;this.wa()}g=Xd.prototype;g.ea=null;g.Dc=null;g.sg=null;g.Ud=1;g.xh=null;g.hn=new r(0,0);g.wa=function(){this.ea||(this.ea=y(dc,{xmlns:"http://www.w3.org/2000/svg","xmlns:html":"http://www.w3.org/1999/xhtml","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1","class":"blocklyBlockDragSurface"},this.sg),this.Dc=y(Xb,{},this.ea))};
function Yd(a,b){if(a.Dc.childNodes.length)throw Error("Already dragging a block.");a.Dc.appendChild(b);a.ea.style.display="block";a.xh=new r(0,0)}g.Me=function(a,b){this.xh=new r(a*this.Ud,b*this.Ud);a=this.xh.x;b=this.xh.y;a=a.toFixed(0);b=b.toFixed(0);this.ea.style.display="block";nc(this.ea,"translate3d("+a+"px, "+b+"px, 0px)")};g.Rk=function(){var a=Xa(this.ea);return new r(a.x/this.Ud,a.y/this.Ud)};g.I=function(){return this.ea};
g.ji=function(a){a?a.appendChild(this.Dc.firstChild):this.Dc.removeChild(this.Dc.firstChild);this.ea.style.display="none";if(this.Dc.childNodes.length)throw Error("Drag group was not cleared.");this.xh=null};var Zd=!1,$d=[".blocklySvg {","background-color: #fff;","outline: none;","overflow: hidden;","position: absolute;","display: block;","}",".blocklyWidgetDiv {","display: none;","position: absolute;","z-index: 99999;","}",".injectionDiv {","height: 100%;","position: relative;","overflow: hidden;","touch-action: none;","}",".blocklyNonSelectable {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","}",".blocklyWsDragSurface {","display: none;","position: absolute;","top: 0;",
"left: 0;","}",".blocklyWsDragSurface.blocklyOverflowVisible {","overflow: visible;","}",".blocklyBlockDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","right: 0;","bottom: 0;","overflow: visible !important;","z-index: 50;","}",".blocklyBlockCanvas.blocklyCanvasTransitioning,",".blocklyBubbleCanvas.blocklyCanvasTransitioning {","transition: transform .5s;","}",".blocklyTooltipDiv {","background-color: #ffffc7;","border: 1px solid #ddc;","box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);",
"color: #000;","display: none;","font: 9pt sans-serif;","opacity: .9;","padding: 2px;","position: absolute;","z-index: 100000;","}",".blocklyDropDownDiv {","position: absolute;","left: 0;","top: 0;","z-index: 1000;","display: none;","border: 1px solid;","border-color: #dadce0;","background-color: #fff;","border-radius: 2px;","padding: 4px;","box-shadow: 0 0 3px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv.blocklyFocused {","box-shadow: 0 0 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownContent {",
"max-height: 300px;","overflow: auto;","overflow-x: hidden;","position: relative;","}",".blocklyDropDownArrow {","position: absolute;","left: 0;","top: 0;","width: 16px;","height: 16px;","z-index: -1;","background-color: inherit;","border-color: inherit;","}",".blocklyDropDownButton {","display: inline-block;","float: left;","padding: 0;","margin: 4px;","border-radius: 4px;","outline: none;","border: 1px solid;","transition: box-shadow .1s;","cursor: pointer;","}",".blocklyArrowTop {","border-top: 1px solid;",
"border-left: 1px solid;","border-top-left-radius: 4px;","border-color: inherit;","}",".blocklyArrowBottom {","border-bottom: 1px solid;","border-right: 1px solid;","border-bottom-right-radius: 4px;","border-color: inherit;","}",".blocklyResizeSE {","cursor: se-resize;","fill: #aaa;","}",".blocklyResizeSW {","cursor: sw-resize;","fill: #aaa;","}",".blocklyResizeLine {","stroke: #515A5A;","stroke-width: 1;","}",".blocklyHighlightedConnectionPath {","fill: none;","stroke: #fc3;","stroke-width: 4px;",
"}",".blocklyPathLight {","fill: none;","stroke-linecap: round;","stroke-width: 1;","}",".blocklySelected>.blocklyPathLight {","display: none;","}",".blocklyDraggable {",'cursor: url("<<<PATH>>>/handopen.cur"), auto;',"cursor: grab;","cursor: -webkit-grab;","}",".blocklyDragging {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDraggable:active {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;",
"}",".blocklyBlockDragSurface .blocklyDraggable {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging.blocklyDraggingDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyDragging>.blocklyPath,",".blocklyDragging>.blocklyPathLight {","fill-opacity: .8;","stroke-opacity: .8;","}",".blocklyDragging>.blocklyPathDark {","display: none;","}",".blocklyDisabled>.blocklyPath {","fill-opacity: .5;","stroke-opacity: .5;",
"}",".blocklyDisabled>.blocklyPathLight,",".blocklyDisabled>.blocklyPathDark {","display: none;","}",".blocklyInsertionMarker>.blocklyPath,",".blocklyInsertionMarker>.blocklyPathLight,",".blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: .2;","stroke: none;","}",".blocklyMultilineText {","font-family: monospace;","}",".blocklyNonEditableText>text {","pointer-events: none;","}",".blocklyFlyout {","position: absolute;","z-index: 20;","}",".blocklyText text {","cursor: default;","}",".blocklySvg text,",
".blocklyBlockDragSurface text {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","cursor: inherit;","}",".blocklyHidden {","display: none;","}",".blocklyFieldDropdown:not(.blocklyHidden) {","display: block;","}",".blocklyIconGroup {","cursor: default;","}",".blocklyIconGroup:not(:hover),",".blocklyIconGroupReadonly {","opacity: .6;","}",".blocklyIconShape {","fill: #00f;","stroke: #fff;","stroke-width: 1px;","}",".blocklyIconSymbol {","fill: #fff;","}",".blocklyMinimalBody {",
"margin: 0;","padding: 0;","}",".blocklyHtmlInput {","border: none;","border-radius: 4px;","height: 100%;","margin: 0;","outline: none;","padding: 0;","width: 100%;","text-align: center;","display: block;","box-sizing: border-box;","}",".blocklyHtmlInput::-ms-clear {","display: none;","}",".blocklyMainBackground {","stroke-width: 1;","stroke: #c6c6c6;","}",".blocklyMutatorBackground {","fill: #fff;","stroke: #ddd;","stroke-width: 1;","}",".blocklyFlyoutBackground {","fill: #ddd;","fill-opacity: .8;",
"}",".blocklyMainWorkspaceScrollbar {","z-index: 20;","}",".blocklyFlyoutScrollbar {","z-index: 30;","}",".blocklyScrollbarHorizontal,",".blocklyScrollbarVertical {","position: absolute;","outline: none;","}",".blocklyScrollbarBackground {","opacity: 0;","}",".blocklyScrollbarHandle {","fill: #ccc;","}",".blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyScrollbarHandle:hover {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarHandle {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",
".blocklyFlyout .blocklyScrollbarHandle:hover {","fill: #aaa;","}",".blocklyInvalidInput {","background: #faa;","}",".blocklyVerticalMarker {","stroke-width: 3px;","fill: rgba(255,255,255,.5);","pointer-events: none;","}",".blocklyComputeCanvas {","position: absolute;","width: 0;","height: 0;","}",".blocklyNoPointerEvents {","pointer-events: none;","}",".blocklyContextMenu {","border-radius: 4px;","max-height: 100%;","}",".blocklyDropdownMenu {","border-radius: 2px;","padding: 0 !important;","}",
".blocklyDropdownMenu .blocklyMenuItem {","padding-left: 28px;","}",".blocklyDropdownMenu .blocklyMenuItemRtl {","padding-left: 5px;","padding-right: 28px;","}",".blocklyWidgetDiv .blocklyMenu {","background: #fff;","border: 1px solid transparent;","box-shadow: 0 0 3px 1px rgba(0,0,0,.3);","font: normal 13px Arial, sans-serif;","margin: 0;","outline: none;","padding: 4px 0;","position: absolute;","overflow-y: auto;","overflow-x: hidden;","max-height: 100%;","z-index: 20000;","}",".blocklyWidgetDiv .blocklyMenu.blocklyFocused {",
"box-shadow: 0 0 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv .blocklyMenu {","background: inherit;","border: inherit;",'font: normal 13px "Helvetica Neue", Helvetica, sans-serif;',"outline: none;","position: relative;","z-index: 20000;","}",".blocklyMenuItem {","border: none;","color: #000;","cursor: pointer;","list-style: none;","margin: 0;","min-width: 7em;","padding: 6px 15px;","white-space: nowrap;","}",".blocklyMenuItemDisabled {","color: #ccc;","cursor: inherit;","}",".blocklyMenuItemHighlight {",
"background-color: rgba(0,0,0,.1);","}",".blocklyMenuItemCheckbox {","height: 16px;","position: absolute;","width: 16px;","}",".blocklyMenuItemSelected .blocklyMenuItemCheckbox {","background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;","float: left;","margin-left: -24px;","position: static;","}",".blocklyMenuItemRtl .blocklyMenuItemCheckbox {","float: right;","margin-right: -24px;","}"];function ae(a,b){this.wf=a;this.pm=b.spacing;this.$n=b.length;this.Mq=(this.ll=a.firstChild)&&this.ll.nextSibling;this.rr=b.snap}ae.prototype.Ud=1;ae.prototype.dispose=function(){this.wf=null};ae.prototype.update=function(a){this.Ud=a;var b=this.pm*a||100;this.wf.setAttribute("width",b);this.wf.setAttribute("height",b);b=Math.floor(this.pm/2)+.5;var c=b-this.$n/2,d=b+this.$n/2;b*=a;c*=a;d*=a;be(this.ll,a,c,d,b,b);be(this.Mq,a,b,b,c,d)};
function be(a,b,c,d,e,f){a&&(a.setAttribute("stroke-width",b),a.setAttribute("x1",c),a.setAttribute("y1",e),a.setAttribute("x2",d),a.setAttribute("y2",f))}ae.prototype.moveTo=function(a,b){this.wf.setAttribute("x",a);this.wf.setAttribute("y",b);(Ha||Ia)&&this.update(this.Ud)};function ce(){this.name="classic";C(Uc,"classic",this)}ce.prototype.nc=function(){return this.name+"-theme"};var de={};de=new ce;function ee(a){if(!a)return null;if(a instanceof Element||typeof a=="string"){if(a){if(typeof a!="string"&&(Ha&&a.outerHTML?a=a.outerHTML:a instanceof Element||(a=null)),typeof a=="string"&&(a=td(a),a.nodeName.toLowerCase()!="xml"))throw TypeError("Toolbox should be an <xml> document.");}else a=null;var b={contents:fe(a)};a instanceof Node&&ge(a,b);a=b}b=a.kind;var c=a.contents;if(b&&b!="flyoutToolbox"&&b!="categoryToolbox")throw Error("Invalid toolbox kind "+b+". Please supply either flyoutToolbox or categoryToolbox");
if(!c)throw Error("Toolbox must have a contents attribute.");return a}function he(a){return a?a.contents?a.contents:Array.isArray(a)&&a.length>0&&!a[0].nodeType?a:fe(a):[]}function je(a){if(!a)return!1;var b=a.kind;return b?b=="categoryToolbox":!!a.contents.filter(function(c){return c.kind.toUpperCase()=="CATEGORY"}).length}
function fe(a){var b=[],c=a.childNodes;c||(c=a);a=0;for(var d;d=c[a];a++)if(d.tagName){var e={},f=d.tagName.toUpperCase();e.kind=f;f=="BLOCK"?e.blockxml=d:d.childNodes&&d.childNodes.length>0&&(e.contents=fe(d));ge(d,e);b.push(e)}return b}function ge(a,b){for(var c=0;c<a.attributes.length;c++){var d=a.attributes[c];d.nodeName.indexOf("css-")>-1?(b.cssconfig=b.cssconfig||{},b.cssconfig[d.nodeName.replace("css-","")]=d.value):b[d.nodeName]=d.value}};function ke(a){var b=!!a.readOnly;if(b)var c=null,d=!1,e=!1,f=!1,h=!1,k=!1,l=!1;else{c=ee(a.toolbox);d=je(c);e=a.trashcan;e===void 0&&(e=d);var m=a.maxTrashcanContents;e?m===void 0&&(m=32):m=0;f=a.collapse;f===void 0&&(f=d);h=a.comments;h===void 0&&(h=d);k=a.disable;k===void 0&&(k=d);l=a.sounds;l===void 0&&(l=!0)}var p=!!a.rtl;var t=a.toolboxPosition!=="end"==p?3:2;var x=a.css;x===void 0&&(x=!0);var G="https://blockly-demo.appspot.com/static/media/";a.media?G=a.media:a.path&&(G=a.path+"media/");var gb=
a.oneBasedIndex===void 0?!0:!!a.oneBasedIndex,Ma=a.renderer||"geras",Fb=a.plugins||{};this.m=p;this.kj=gb;this.collapse=f;this.jq=h;this.disable=k;this.readOnly=b;this.Tg=a.maxBlocks||Infinity;this.Zi=a.maxInstances;this.dh=G;this.Hn=d;b=a.move||{};f={};b.scrollbars===void 0&&a.scrollbars===void 0?f.scrollbars=d:typeof b.scrollbars=="object"?(f.scrollbars={},f.scrollbars.Yk=!!b.scrollbars.horizontal,f.scrollbars.vertical=!!b.scrollbars.vertical,f.scrollbars.Yk&&f.scrollbars.vertical?f.scrollbars=
!0:f.scrollbars.Yk||f.scrollbars.vertical||(f.scrollbars=!1)):f.scrollbars=!!b.scrollbars||!!a.scrollbars;f.Xf=f.scrollbars&&b.wheel!==void 0?!!b.wheel:typeof f.scrollbars=="object";f.bd=f.scrollbars?b.drag===void 0?!0:!!b.drag:!1;this.Za=f;this.Kn=e;this.$i=m;this.Iq=l;this.Gq=x;this.jd=c;c=a.grid||{};d={};d.spacing=Number(c.spacing)||0;d.kk=c.colour||"#888";d.length=c.length===void 0?1:Number(c.length);d.Gs=d.spacing>0&&!!c.snap;this.Gn=d;c=a.zoom||{};d={};d.controls=c.controls===void 0?!1:!!c.controls;
d.Xf=c.wheel===void 0?!1:!!c.wheel;d.yr=c.startScale===void 0?1:Number(c.startScale);d.Ug=c.maxScale===void 0?3:Number(c.maxScale);d.Xg=c.minScale===void 0?.3:Number(c.minScale);d.mr=c.scaleSpeed===void 0?1.2:Number(c.scaleSpeed);d.Fo=c.pinch===void 0?d.Xf||d.controls:!!c.pinch;this.va=d;this.Ab=t;this.qj=Ma;this.rj=a.rendererOverrides;this.Uk=null;this.$a=a.parentWorkspace;this.plugins=Fb};function le(a,b,c,d,e){this.g=a;b=b===void 0?!0:b;c=c===void 0?!0:c;var f=b&&c;b&&(this.ga=new me(a,!0,f,d,e));c&&(this.X=new me(a,!1,f,d,e));f&&(this.ug=y(cc,{height:ne,width:ne,"class":"blocklyScrollbarBackground"},null),mc(this.ug,a.sd));this.$=null}g=le.prototype;g.dispose=function(){A(this.ug);this.$=this.g=this.ug=null;this.ga&&(this.ga.dispose(),this.ga=null);this.X&&(this.X.dispose(),this.X=null)};
g.resize=function(){var a=this.g.qc();if(a){var b=!1,c=!1;this.$&&this.$.cb==a.cb&&this.$.rb==a.rb&&this.$.sb==a.sb&&this.$.gb==a.gb?(this.$&&this.$.scrollWidth==a.scrollWidth&&this.$.dc==a.dc&&this.$.scrollLeft==a.scrollLeft||(b=!0),this.$&&this.$.scrollHeight==a.scrollHeight&&this.$.ec==a.ec&&this.$.scrollTop==a.scrollTop||(c=!0)):c=b=!0;if(b||c){try{D++,this.ga&&b&&this.ga.resize(a),this.X&&c&&this.X.resize(a)}finally{D--}oe(this.g)}this.ga&&this.X&&(this.$&&this.$.cb==a.cb&&this.$.gb==a.gb||this.ug.setAttribute("x",
this.X.position.x),this.$&&this.$.rb==a.rb&&this.$.sb==a.sb||this.ug.setAttribute("y",this.ga.position.y));this.$=a}};g.wj=function(a,b){this.ga&&this.ga.wj(a,b);this.X&&this.X.wj(a,b)};g.set=function(a,b,c){this.ga&&this.ga.set(a,!1);this.X&&this.X.set(b,!1);if(c||c===void 0)a={},this.ga&&(a.x=pe(this.ga)),this.X&&(a.y=pe(this.X)),this.g.nh(a)};g.Fe=function(a){this.ga&&this.ga.Fe(a);this.X&&this.X.Fe(a)};
g.isVisible=function(){var a=!1;this.ga&&(a=this.ga.isVisible());this.X&&(a=a||this.X.isVisible());return a};
function me(a,b,c,d,e){this.g=a;this.Qd=c||!1;this.oe=b;this.ue=e!==void 0?e:.5;this.ratio=this.$=null;this.mk(d);this.position=new r(0,0);a=ne;b?(this.Qa.setAttribute("height",a),this.Lc.setAttribute("height",a),this.Nb.setAttribute("height",a-5),this.Nb.setAttribute("y",2.5),this.Vi="width",this.Ho="x"):(this.Qa.setAttribute("width",a),this.Lc.setAttribute("width",a),this.Nb.setAttribute("width",a-5),this.Nb.setAttribute("x",2.5),this.Vi="height",this.Ho="y");this.Ao=u(this.Qa,"mousedown",this,
this.Xq);this.Bo=u(this.Nb,"mousedown",this,this.Yq)}var qe,re;g=me.prototype;g.Ol=new r(0,0);g.Xo=0;g.ac=0;g.Fd=0;g.Jg=0;g.hd=!0;g.ie=!0;var ne=15;qb&&(ne=25);g=me.prototype;g.dispose=function(){se();v(this.Ao);this.Ao=null;v(this.Bo);this.Bo=null;A(this.Lc);this.Qa=this.u=this.Lc=null;this.Nb&&(this.g.Ta.unsubscribe(this.Nb),this.Nb=null);this.g=null};function te(a,b){return b=b<=0||isNaN(b)?0:Math.min(b,a.ac)}function ue(a,b){a.Fd=b;a.Nb.setAttribute(a.Vi,a.Fd)}
function ve(a,b){return b=b<=0||isNaN(b)?0:Math.min(b,a.ac-a.Fd)}function we(a,b){a.Jg=b;a.Nb.setAttribute(a.Ho,a.Jg)}function xe(a,b){a.ac=b;a.Lc.setAttribute(a.Vi,a.ac);a.Qa.setAttribute(a.Vi,a.ac)}g.setPosition=function(a,b){this.position.x=a;this.position.y=b;nc(this.Lc,"translate("+(this.position.x+this.Ol.x)+"px,"+(this.position.y+this.Ol.y)+"px)")};
g.resize=function(a){if(!a&&(a=this.g.qc(),!a))return;var b;if(!(b=!this.$)){b=a;var c=this.$;b=!(b.cb==c.cb&&b.rb==c.rb&&b.dc==c.dc&&b.ec==c.ec&&b.sb==c.sb&&b.gb==c.gb&&b.scrollWidth==c.scrollWidth&&b.scrollHeight==c.scrollHeight&&b.scrollLeft==c.scrollLeft&&b.scrollTop==c.scrollTop)}b&&(this.oe?(b=a,ye(this,b)?ze(this,b):Ae(this,b)):(b=a,ye(this,b)?Be(this,b):Ce(this,b)),this.$=a,De(this))};function ye(a,b){return a.$?a.$.cb!==b.cb||a.$.rb!==b.rb||a.$.gb!==b.gb||a.$.sb!==b.sb:!0}
function ze(a,b){var c=b.cb-a.ue*2;a.Qd&&(c-=ne);xe(a,Math.max(0,c));c=b.gb+a.ue;a.Qd&&a.g.m&&(c+=ne);a.setPosition(c,b.sb+b.rb-ne-a.ue);Ae(a,b)}function Ae(a,b){if(b.cb>=b.scrollWidth)ue(a,a.ac),we(a,0),a.Qd||a.ra(!1);else{a.Qd||a.ra(!0);var c=a.ac*b.cb/b.scrollWidth;c=te(a,c);ue(a,c);c=b.scrollWidth-b.cb;var d=a.ac-a.Fd;b=(b.dc-b.scrollLeft)/c*d;b=ve(a,b);we(a,b);a.ratio=d/c}}
function Be(a,b){var c=b.rb-a.ue*2;a.Qd&&(c-=ne);xe(a,Math.max(0,c));a.setPosition(a.g.m?b.gb+a.ue:b.gb+b.cb-ne-a.ue,b.sb+a.ue);Ce(a,b)}function Ce(a,b){if(b.rb>=b.scrollHeight)ue(a,a.ac),we(a,0),a.Qd||a.ra(!1);else{a.Qd||a.ra(!0);var c=a.ac*b.rb/b.scrollHeight;c=te(a,c);ue(a,c);c=b.scrollHeight-b.rb;var d=a.ac-a.Fd;b=(b.ec-b.scrollTop)/c*d;b=ve(a,b);we(a,b);a.ratio=d/c}}
g.mk=function(a){var b="blocklyScrollbar"+(this.oe?"Horizontal":"Vertical");a&&(b+=" "+a);this.Lc=y(dc,{"class":b},null);this.u=y(Xb,{},this.Lc);this.Qa=y(cc,{"class":"blocklyScrollbarBackground"},this.u);a=Math.floor((ne-5)/2);this.Nb=y(cc,{"class":"blocklyScrollbarHandle",rx:a,ry:a},this.u);this.g.Ta.subscribe(this.Nb,"scrollbarColour","fill");this.g.Ta.subscribe(this.Nb,"scrollbarOpacity","fill-opacity");mc(this.Lc,B(this.g))};g.isVisible=function(){return this.hd};
g.Fe=function(a){var b=a!=this.ie;this.ie=a;b&&this.Fh()};g.ra=function(a){var b=a!=this.isVisible();if(this.Qd)throw Error("Unable to toggle visibility of paired scrollbars.");this.hd=a;b&&this.Fh()};g.Fh=function(){this.ie&&this.isVisible()?this.Lc.setAttribute("display","block"):this.Lc.setAttribute("display","none")};
g.Xq=function(a){Lc(this.g);rb=null;se();if(ab(a))a.stopPropagation();else{var b=bb(a,B(this.g),Ee(this.g));b=this.oe?b.x:b.y;var c=$a(this.Nb);c=this.oe?c.x:c.y;var d=this.Jg,e=this.Fd*.95;b<=c?d-=e:b>=c+this.Fd&&(d+=e);we(this,ve(this,d));De(this);a.stopPropagation();a.preventDefault()}};
g.Yq=function(a){Lc(this.g);se();ab(a)?a.stopPropagation():(this.wr=this.Jg,Fe(this.g),this.Xo=this.oe?a.clientX:a.clientY,qe=u(document,"mouseup",this,this.$q),re=u(document,"mousemove",this,this.Zq),a.stopPropagation(),a.preventDefault())};g.Zq=function(a){we(this,ve(this,this.wr+((this.oe?a.clientX:a.clientY)-this.Xo)));De(this)};g.$q=function(){Ge(this.g);rb=null;se()};function se(){He(!0);qe&&(v(qe),qe=null);re&&(v(re),re=null)}function pe(a){a=a.Jg/(a.ac-a.Fd);isNaN(a)&&(a=0);return a}
function De(a){var b=pe(a),c={};a.oe?c.x=b:c.y=b;a.g.nh(c)}g.set=function(a,b){we(this,ve(this,a*this.ratio));(b||b===void 0)&&De(this)};g.wj=function(a,b){this.Ol=new r(a,b)};var Ie=!1,Je=!1,Ke=0,Le=0,Me=0,Ne=0,Oe=null,Pe=null,Qe=null;function Re(a){for(;a&&a.cc;){if(typeof a.cc=="string"||typeof a.cc=="function")return a;a=a.cc}return null}function Se(a){a.Pq=Cb(a,"mouseover",null,Te);a.Nq=Cb(a,"mouseout",null,Ue);a.addEventListener("mousemove",Ve,!1)}function We(a){a&&(v(a.Pq),v(a.Nq),a.removeEventListener("mousemove",Ve))}function Te(a){Je||(a=Re(a.currentTarget),Oe!=a&&(Xe(),Pe=null,Oe=a),clearTimeout(Ke))}
function Ue(){Je||(Ke=setTimeout(function(){Pe=Oe=null;Xe()},1),clearTimeout(Le))}function Ve(a){if(Oe&&Oe.cc&&!Je)if(Ie){var b=Me-a.pageX;a=Ne-a.pageY;Math.sqrt(b*b+a*a)>10&&Xe()}else Pe!=Oe&&(clearTimeout(Le),Me=a.pageX,Ne=a.pageY,Le=setTimeout(Ye,750))}function Xe(){Ie&&(Ie=!1,Qe&&(Qe.style.display="none"));Le&&clearTimeout(Le)}
function Ye(){if(!Je&&(Pe=Oe,Qe)){Qe.textContent="";var a;if(a=Re(Oe)){for(a=a.cc;typeof a=="function";)a=a();if(typeof a!="string")throw Error("Tooltip function must return a string.");}else a="";a=Aa(a,50);a=a.split("\n");for(var b=0;b<a.length;b++){var c=document.createElement("div");c.appendChild(document.createTextNode(a[b]));Qe.appendChild(c)}a=Oe.m;b=document.documentElement.clientWidth;c=document.documentElement.clientHeight;Qe.style.direction=a?"rtl":"ltr";Qe.style.display="block";Ie=!0;
var d=Me;d=a?d-(0+Qe.offsetWidth):d+0;var e=Ne+10;e+Qe.offsetHeight>c+window.scrollY&&(e-=Qe.offsetHeight+20);a?d=Math.max(5-window.scrollX,d):d+Qe.offsetWidth>b+window.scrollX-10&&(d=b-Qe.offsetWidth-10);Qe.style.top=e+"px";Qe.style.left=d+"px"}};function Ze(a,b,c){Array.isArray(c)&&(c=c.join(" "));a.setAttribute("aria-"+b,c)};function $e(a,b){this.l=a;this.type=b}g=$e.prototype;g.J=null;g.disposed=!1;g.jf=null;g.zj=null;g.x=0;g.y=0;
g.oi=function(a){var b=this.D(),c=a.D();a.isConnected()&&a.disconnect();if(this.isConnected()){var d=this.uf(!0);this.zj=null;var e=this.H();if(e.R)e.dispose(!1);else{this.disconnect();var f=e}this.zj=d}var h;D==0&&(h=new (H("move"))(c));if(!this||!a)throw Error("Cannot connect null connections.");this.J=a;a.J=this;c.xj(b);h&&(Nd(h),E(h));f&&(a=this.type===1?f.o:f.F,(c=af(c,a))?a.connect(c):a.Il(this))};
g.dispose=function(){if(this.isConnected()){this.ph(null);var a=this.H();a&&Pd(a)}this.disposed=!0};g.D=function(){return this.l};function bf(a){return a.type==1||a.type==3}g.isConnected=function(){return!!this.J};g.Il=function(){};g.connect=function(a){if(this.J!=a&&cf(this,a,!1)==0){var b=$c;b||F(!0);bf(this)?this.oi(a):a.oi(this);b||F(!1)}};function df(a,b){var c=null;b=b.o;for(var d=0,e;e=a.v[d];d++)if((e=e.connection)&&cf(b,e,!1)==0){if(c)return null;c=e}return c}
function af(a,b){if(b.type===2){a:{b=b.D();for(var c;c=df(a,b);)if(a=c.H(),!a||a.R){b=c;break a}b=null}return b}return(a=a.Ti(!0))&&cf(b,a,!1)==0?a:null}g.disconnect=function(){var a=this.J;if(!a)throw Error("Source connection not connected.");if(a.J!=this)throw Error("Target connection not connected to source connection.");if(bf(this)){var b=this.l;var c=a.D();a=this}else b=a.D(),c=this.l;var d=$c;d||F(!0);this.wk(b,c);c.R||a.kh();d||F(!1)};
g.wk=function(a,b){var c;D==0&&(c=new (H("move"))(b));this.J=this.J.J=null;b.xj(null);c&&(Nd(c),E(c))};g.kh=function(){var a=this.D(),b=this.uf();if(a.j&&b)if(a=vd(b,a.j),a.o)this.connect(a.o);else if(a.F)this.connect(a.F);else throw Error("Child block does not have output or previous statement.");};g.H=function(){return this.isConnected()?this.J.D():null};g.zo=function(){!this.isConnected()||this.J&&cf(this,this.J,!1)==0||Pd(bf(this)?this.H():this.l)};
g.De=function(a){a?(Array.isArray(a)||(a=[a]),this.jf=a,this.zo()):this.jf=null;return this};g.ph=function(a){this.zj=a;a=this.H();a?a.R&&(a.dispose(!1),this.kh()):this.kh()};g.uf=function(a){return a&&this.H().R?qd(this.H()):this.zj};g.mo=function(){return[]};g.Fc=function(){for(var a=null,b=this.l.v,c=0;c<b.length;c++)if(b[c].connection===this){a=b[c];break}return a};function cf(a,b,c,d){if(a&&b){if(bf(a)){var e=a.D();var f=b.D()}else f=a.D(),e=b.D();e=e==f?1:b.type!=ma[a.type]?2:e.j!==f.j?5:e.R&&!f.R?6:0}else e=3;return e!=0?e:ef(a,b)?c&&!ff(a,b,d||0)?7:0:4}function ef(a,b){a=a.jf;b=b.jf;if(!a||!b)return!0;for(var c=0;c<a.length;c++)if(b.indexOf(a[c])!=-1)return!0;return!1}
function ff(a,b,c){if(gf(a,b)>c||b.D().xb())return!1;switch(b.type){case 4:return a.J||hf.indexOf(b)!=-1?a=!1:b.J?(a=b.H(),a=a.xb()?!(a.F&&a.F.H()):!1):a=!0,a;case 2:if(b.isConnected()&&!b.H().xb()||a.isConnected())return!1;break;case 1:if(b.isConnected()&&!b.H().Ya()&&!b.H().R)return!1;break;case 3:if(b.isConnected()&&!a.D().B&&!b.H().R&&b.H().B)return!1;break;default:return!1}return hf.indexOf(b)!=-1?!1:!0}C(Oc,"default",function(){});function jf(a){this.aa=Object.create(null);this.j=a}g=jf.prototype;g.clear=function(){this.aa=Object.create(null)};g.Nf=function(a,b){var c=this.vf(a);if(!c)throw Error("Tried to rename a variable that didn't exist. ID: "+a);var d=this.Hi(b,c.type);a=kf(this.j);F(!0);try{if(d&&d.Wa()!=c.Wa()){var e=c.type;b!=d.name&&lf(d,b,a);for(b=0;b<a.length;b++){var f,h=a[b];for(d=0;f=h.v[d];d++)for(var k=0;f.ba[k];k++);}E(new (H("var_delete"))(c));this.aa[e].splice(this.Ii(e).indexOf(c),1)}else lf(c,b,a)}finally{F(!1)}};
function lf(a,b,c){E(new (H("var_rename"))(a,b));a.name=b;for(a=0;a<c.length;a++)for(var d=c[a],e=0;b=d.v[e];e++)for(var f=0;b.ba[f];f++);}
g.Bd=function(a,b,c){var d=this.Hi(a,b);if(d){if(c&&d.Wa()!=c)throw Error('Variable "'+a+'" is already in use and its id is "'+d.Wa()+'" which conflicts with the passed in id, "'+c+'".');return d}if(c&&this.vf(c))throw Error('Variable id, "'+c+'", is already in use.');b=b||"";d=new mf(this.j,a,b,c||fb());a=this.aa[b]||[];a.push(d);delete this.aa[b];this.aa[b]=a;return d};
g.nf=function(a){var b=this.vf(a);if(b){var c=b.name,d=this.Tk(a);a=0;for(var e;e=d[a];a++)if(e.type=="procedures_defnoreturn"||e.type=="procedures_defreturn"){a=nf(e,"NAME");c=q.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",c).replace("%2",a);of(c);return}var f=this;d.length>1?(c=q.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(d.length)).replace("%2",c),pf(c,function(h){h&&b&&qf(f,b,d)})):qf(f,b,d)}else console.warn("Can't delete non-existent variable: "+a)};
function qf(a,b,c){var d=$c;d||F(!0);try{for(var e=0;e<c.length;e++)c[e].dispose(!0);var f=a.aa[b.type];a=0;for(var h;h=f[a];a++)if(h.Wa()==b.Wa()){f.splice(a,1);E(new (H("var_delete"))(b));break}}finally{d||F(!1)}}g.Hi=function(a,b){if(b=this.aa[b||""])for(var c=0,d;d=b[c];c++)if(d.name.toLowerCase()==a.toLowerCase())return d;return null};g.vf=function(a){for(var b=Object.keys(this.aa),c=0;c<b.length;c++)for(var d=b[c],e=0,f;f=this.aa[d][e];e++)if(f.Wa()==a)return f;return null};
g.Ii=function(a){return(a=this.aa[a||""])?a.slice():[]};g.rf=function(){var a=[],b;for(b in this.aa)a=a.concat(this.aa[b]);return a};g.Tk=function(a){for(var b=[],c=kf(this.j),d=0;d<c.length;d++){var e=Fd(c[d]);if(e)for(var f=0;f<e.length;f++)e[f].Wa()==a&&b.push(c[d])}return b};function wd(a){this.id=fb();fd[this.id]=this;this.options=a||new ke({});this.m=!!this.options.m;this.Ab=this.options.Ab;new (Zc(Oc,this.options,!0))(this);this.Bh=[];this.Gj=[];Object.create(null);this.Ha=[];this.Ne=[];this.ih=[];this.ck=Object.create(null);this.ud=Object.create(null);this.aa=new jf(this);this.mj=null}g=wd.prototype;g.K=!1;g.dl=!1;g.Lm=1024;g.ri=null;g.dispose=function(){this.Ha.length=0;this.clear();delete fd[this.id]};
g.Qc=function(a,b){a=a.Z();b=b.Z();return a.y+wd.prototype.Qc.offset*a.x-(b.y+wd.prototype.Qc.offset*b.x)};g.ci=function(a){this.Bh.push(a)};g.pj=function(a){if(!lb(this.Bh,a))throw Error("Block not present in workspace's list of top-most blocks.");};g.qa=function(a){var b=[].concat(this.Bh);a&&b.length>1&&(this.Qc.offset=Math.sin(3*Math.PI/180),this.m&&(this.Qc.offset*=-1),b.sort(this.Qc));return b};function rf(a,b){return a.ud[b]?a.ud[b].slice(0):[]}
function kf(a){var b=a.qa(!1);for(a=0;a<b.length;a++)b.push.apply(b,pd(b[a],!1));return b.filter(function(c){return!c.xb()})}g.clear=function(){this.dl=!0;try{var a=$c;for(a||F(!0);this.Bh.length;)this.Bh[0].dispose(!1);for(;this.Gj.length;)this.Gj[this.Gj.length-1].dispose(!1);a||F(!1);this.aa.clear();this.mj&&this.mj.clear()}finally{this.dl=!1}};g.Nf=function(a,b){this.aa.Nf(a,b)};g.Bd=function(a,b,c){return this.aa.Bd(a,b,c)};g.Tk=function(a){return this.aa.Tk(a)};g.nf=function(a){this.aa.nf(a)};
g.Hi=function(a,b){return this.aa.Hi(a,b)};g.vf=function(a){return this.aa.vf(a)};g.Ii=function(a){return this.aa.Ii(a)};g.rf=function(){return this.aa.rf()};g.Ed=function(){return 0};g.If=function(a,b){return new sf(this,a,b)};function tf(a,b){if(!uf(a))return!0;var c=0,d;for(d in b){if(b[d]>(a.options.Zi?(a.options.Zi[d]!==void 0?a.options.Zi[d]:Infinity)-rf(a,d).length:Infinity))return!1;c+=b[d]}return c>(isNaN(a.options.Tg)?Infinity:a.options.Tg-kf(a).length)?!1:!0}
function uf(a){return a.options.Tg!=Infinity||!!a.options.Zi}function vf(a,b){var c=b?a.ih:a.Ne;a=b?a.Ne:a.ih;var d=c.pop();if(d){for(var e=[d];c.length&&d.group&&d.group==c[c.length-1].group;)e.push(c.pop());for(c=0;d=e[c];c++)a.push(d);e=ed(e,b);ad=!1;try{for(c=0;d=e[c];c++)d.run(b)}finally{ad=!0}}}function wf(a,b){a.Ha.push(b)}g.Hb=function(a){return this.ck[a]||null};g.nm=function(a){this.aa=a};var fd=Object.create(null);function xf(){var a=[],b;for(b in fd)a.push(fd[b]);return a};function yf(a){this.sg=a;this.wa()}g=yf.prototype;g.ea=null;g.sg=null;g.wa=function(){this.ea||(this.ea=y(dc,{xmlns:"http://www.w3.org/2000/svg","xmlns:html":"http://www.w3.org/1999/xhtml","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1","class":"blocklyWsDragSurface blocklyOverflowVisible"},null),this.sg.appendChild(this.ea))};g.Me=function(a,b){a=a.toFixed(0);b=b.toFixed(0);this.ea.style.display="block";nc(this.ea,"translate3d("+a+"px, "+b+"px, 0px)")};g.Rk=function(){return Xa(this.ea)};
g.ji=function(a){if(!a)throw Error("Couldn't clear and hide the drag surface: missing new surface.");var b=this.ea.childNodes[0],c=this.ea.childNodes[1];if(!(b&&c&&lc(b,"blocklyBlockCanvas")&&lc(c,"blocklyBubbleCanvas")))throw Error("Couldn't clear and hide the drag surface. A node was missing.");this.Wl!=null?mc(b,this.Wl):a.insertBefore(b,a.firstChild);mc(c,b);this.ea.style.display="none";if(this.ea.childNodes.length)throw Error("Drag surface was not cleared.");nc(this.ea,"");this.Wl=null};function zf(a,b,c){if(!b)throw Error("Cannot create a node without a location.");this.Eh=a;this.N=b;this.mp=null;(a=c||null)&&a.lp&&(this.mp=a.lp)}var Af=!1;function Bf(a){return a?new zf("field",a):null}function Cf(a){if(!a)return null;var b=a.type;return b==1||b==3&&a.Fc()?Df(a.Fc()):b==3?new zf("next",a):b==2?new zf("output",a):b==4?new zf("previous",a):null}function Df(a){return a&&a.connection?new zf("input",a.connection):null}function Ef(a){return a?new zf("block",a):null}
function Ff(a){return a?new zf("stack",a):null}g=zf.prototype;g.getType=function(){return this.Eh};function Gf(a,b){a=a.N;a instanceof sf||(a=a.D());if(!a||!a.j)return null;var c=a.rc();a=c.j.qa(!0);for(var d=0,e;e=a[d];d++)if(c.id==e.id)return b=d+(b?1:-1),b==-1||b==a.length?null:Ff(a[b]);throw Error("Couldn't find "+(b?"next":"previous")+" stack?!");}function Hf(a){if(!a)return null;do var b=a.F&&a.F.H();while(b&&ob(b)==a&&(a=b));return(b=a.F||a.o)&&b.J&&b.J.Fc()?Df(b.J.Fc()):Ff(a)}
g.D=function(){return this.getType()==="block"?this.N:this.getType()==="stack"?this.N:this.getType()==="workspace"?null:this.N.D()};
g.next=function(){switch(this.Eh){case "stack":return Gf(this,!0);case "output":var a=this.N;return Ef(a.D());case "field":a:{var b=this.N,c=b.Fc();a=b.D();b=c.ba.indexOf(b)+1;c=a.v.indexOf(c);for(var d;d=a.v[c];c++){for(var e=d.ba;b<e.length;){if(If(e[b])||Af){a=Bf(e[b]);break a}b++}b=0;if(d.connection){a=Df(d);break a}}a=null}return a;case "input":a:{b=this.N.Fc();a=b.D();for(b=a.v.indexOf(b)+1;c=a.v[b];b++){d=c.ba;e=0;for(var f;f=d[e];e++)if(If(f)||Af){a=Bf(f);break a}if(c.connection){a=Df(c);
break a}}a=null}return a;case "block":return Cf(this.N.B);case "previous":return a=this.N,Ef(a.D());case "next":return a=this.N,Cf(a.J)}return null};g.Hd=function(){switch(this.Eh){case "workspace":var a=this.N.qa(!0);if(a.length>0)return Ff(a[0]);break;case "stack":a=this.N;var b=a.F||a.o;return b?Cf(b):Ef(a);case "block":a=this.N;a:{a=a.v;b=0;for(var c;c=a[b];b++){for(var d=c.ba,e=0,f;f=d[e];e++)if(If(f)||Af){a=Bf(f);break a}if(c.connection){a=Df(c);break a}}a=null}return a;case "input":return Cf(this.N.J)}return null};
g.md=function(){switch(this.Eh){case "stack":return Gf(this,!1);case "field":a:{var a=this.N;var b=a.Fc();var c=a.D();a=b.ba.indexOf(a)-1;for(var d=c.v.indexOf(b),e;e=c.v[d];d--){if(e.connection&&e!==b){b=Df(e);break a}for(e=e.ba;a>-1;){if(If(e[a])||Af){b=Bf(e[a]);break a}a--}d-1>=0&&(a=c.v[d-1].ba.length-1)}b=null}return b;case "input":a:{b=this.N.Fc();c=b.D();for(a=c.v.indexOf(b);d=c.v[a];a--){if(d.connection&&d!==b){b=Df(d);break a}d=d.ba;e=d.length-1;for(var f;f=d[e];e--)if(If(f)||Af){b=Bf(f);
break a}}b=null}return b;case "block":return b=this.N,Cf(b.F||b.o);case "previous":b=this.N;if((b=b.J)&&!b.Fc())return Cf(b);break;case "next":return b=this.N,Ef(b.D())}return null};
g.Pd=function(){switch(this.Eh){case "stack":var a=this.N,b=a.Z();a=a.j;return(b=new r(b.x,b.y+-20),a)?new zf("workspace",a,{lp:b}):null;case "output":return b=this.N,(a=b.J)?Cf(a):Ff(b.D());case "field":return Ef(this.N.D());case "input":return b=this.N,Ef(b.D());case "block":return a=this.N,Hf(a);case "previous":return b=this.N,Hf(b.D());case "next":return b=this.N,Hf(b.D())}return null};var Jf=Object.create(null);var Kf=Object.create(null);function Lf(a,b){if(typeof a!="string"||a.trim()=="")throw Error('Error: Invalid extension name "'+a+'"');if(Kf[a])throw Error('Error: Extension "'+a+'" is already registered.');if(typeof b!="function")throw Error('Error: Extension "'+a+'" must be a function');Kf[a]=b}
function Mf(a,b,c){var d=Kf[a];if(typeof d!="function")throw Error('Error: Extension "'+a+'" not found.');if(c){if(Nf(b).length)throw Error('Error: tried to apply mutation "'+a+'" to a block that already has mutator functions.  Block id: '+b.id);}else var e=Nf(b);d.apply(b);if(c){a='Error after applying mutator "'+a+'": ';if(typeof b.ad!="function")throw Error(a+'Applying a mutator didn\'t add "domToMutation"');if(typeof b.Xb!="function")throw Error(a+'Applying a mutator didn\'t add "mutationToDom"');
Of(b,a)}else{a:if(c=e,b=Nf(b),b.length!=c.length)b=!1;else{for(d=0;d<b.length;d++)if(c[d]!=b[d]){b=!1;break a}b=!0}if(!b)throw Error('Error when applying extension "'+a+'": mutation properties changed when applying a non-mutator extension.');}}function Pf(a,b,c){if(!b)throw Error(a+'missing required property "'+c+'"');if(typeof b!="function")throw Error(a+'" required property "'+c+'" must be a function');}
function Of(a,b){var c=a.og!==void 0,d=a.xg!==void 0;if(c&&d){if(typeof a.og!="function")throw Error(b+"compose must be a function.");if(typeof a.xg!="function")throw Error(b+"decompose must be a function.");return!0}if(!c&&!d)return!1;throw Error(b+'Must have both or neither of "compose" and "decompose"');}function Nf(a){var b=[];a.ad!==void 0&&b.push(a.ad);a.Xb!==void 0&&b.push(a.Xb);a.og!==void 0&&b.push(a.og);a.xg!==void 0&&b.push(a.xg);return b}
function Qf(a){var b=[];typeof document=="object"&&kb(function(){for(var c in a)for(var d=a[c],e=q,f=d.match(/%{BKY_[A-Z]\w*}/ig),h=0;h<f.length;h++)e[f[h].toUpperCase().slice(6,-1)]==void 0&&console.warn("No message string for "+f[h]+" in "+d)});return function(){this.type&&b.indexOf(this.type)==-1&&(Rf(this,a),b.push(this.type));this.He(function(){var c=String(nf(this,"OP")),d=a[c];d==null?b.indexOf(this.type)==-1&&(c="No tooltip mapping for value "+c+" of field OP",this.type!=null&&(c+=" of block type "+
this.type),console.warn(c+".")):d=db(d);return d}.bind(this))}}function Rf(a,b){var c=Ed(a,"OP");if(!Sf(c)){c=Tf(c);for(var d=0;d<c.length;++d){var e=c[d][1];b[e]==null&&console.warn("No tooltip mapping for value "+e+" of field OP of block type "+a.type)}}}Lf("parent_tooltip_when_inline",function(){this.Er=this.cc;this.He(function(){var a=this.getParent();return a&&Uf(a)&&a.cc||this.Er}.bind(this))});function Vf(a){var b=Yc(Rc,a.type);return b?b.M(a):(console.warn("Blockly could not create a field of type "+a.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached."),null)};var Wf=0,Xf=null;function Yf(a,b,c,d){var e=(new Date-c)/150;e>1?A(a):(a.setAttribute("transform","translate("+(a.Gr+(b?-1:1)*a.an.width*d/2*e)+","+(a.Hr+a.an.height*d*e)+") scale("+(1-e)*d+")"),setTimeout(Yf,10,a,b,c,d))}function Zf(a,b,c){var d=(new Date-b)/150;d>1?A(a):(a.setAttribute("r",d*25*c),a.style.opacity=1-d,Wf=setTimeout(Zf,10,a,b,c))}
function $f(a,b,c){var d=(new Date-c)/200;d>1?a.sh="":(a.sh="skewX("+Math.round(Math.sin(d*Math.PI*3)*(1-d)*b)+")",Xf=a,Wf=setTimeout($f,10,a,b,c));a.setAttribute("transform",a.Dh+a.sh)}function ag(){if(Xf){clearTimeout(Wf);var a=Xf;a.sh="";a.setAttribute("transform",a.Dh);Xf=null}};function bg(a,b,c){bg.i.constructor.call(this,a?a.j.id:void 0);this.Y=a?a.id:null;this.Vn=b;this.dn=c}I(bg,Rd);bg.prototype.type="drag";bg.prototype.P=function(){var a=bg.i.P.call(this);a.isStart=this.Vn;a.blockId=this.Y;a.blocks=this.dn;return a};bg.prototype.M=function(a){bg.i.M.call(this,a);this.Vn=a.isStart;this.Y=a.blockId;this.dn=a.blocks};C(Qc,"drag",bg);function cg(a){this.Zd=M=a;this.g=a.j;this.Jd=this.il=null;this.Eg=dg(this,this.Zd);this.ob=this.Ca=null;this.xc=!1;this.Dg=this.Xk=this.ve=null;this.di=eg(this)}cg.prototype.dispose=function(){this.di.length=0;D++;try{this.Eg&&this.Eg.dispose(),this.Jd&&this.Jd.dispose()}finally{D--}};
cg.prototype.update=function(a,b){var c=28;for(var d=null,e=null,f=0;f<this.di.length;f++){var h=this.di[f],k=h.closest(c,a);k.connection&&(d=k.connection,e=h,c=k.nj)}c={closest:d,local:e,nj:c};if((this.xc=this.om(c,b))||fg(this,c,a)){D++;c.closest?(a=this.Ca!=c.closest,b=this.ob!=c.local,this.Ca&&this.ob&&(a||b||this.xc)&&gg(this)):gg(this);this.ob=this.Ca=this.ve=null;if(!this.xc&&(a=c.closest,b=c.local,a))if(a==this.Ca||a.D().xb())console.log("Trying to connect to an insertion marker");else{this.Ca=
a;this.ob=b;a=this.Ca;b=this.ob;c=this.Zd;b.type==2||b.type==4?((d=!a.isConnected())||(d=a.H(),d=!!af(c,b.type===2?d.o:d.F)),b=d?0:2):b=0;switch(b){case 1:this.Xk=this.Ca.D();break;case 0:d=this.ob;b=this.Ca;c=this.il&&d==this.il?this.Jd:this.Eg;d=c.Qk(d.D(),d);if(d==this.ve)throw Error("Made it to showInsertionMarker_ even though the marker isn't changing");c.U();c.K=!0;c.I().setAttribute("visibility","visible");d&&b&&(d.type!=3&&d.type!=1||c.moveBy(b.x-d.x,b.y-d.y));b&&d.connect(b);this.ve=d;break;
case 2:this.Dg=this.Ca.H(),hg(this.Dg.ua,"blocklyReplaceable",!0)}a&&(c=a.l.j.na.C(),b=ig(c,a),a.type==1||a.type==2?(c=c.cf,b=N(0,-c)+O("v",c)+b.Zb+O("v",c)):(c=c.eg-c.la,b=N(-c,0)+O("h",c)+b.Rd+O("h",c)),c=a.l.Z(),$e.On=y($b,{"class":"blocklyHighlightedConnectionPath",d:b,transform:"translate("+(a.x-c.x)+","+(a.y-c.y)+")"+(a.l.m?" scale(-1 1)":"")},a.l.I()))}D--}};
function dg(a,b){var c=b.type;D++;try{var d=a.g.If(c);d.To(!0);if(b.Xb){var e=b.Xb();e&&d.ad(e)}for(a=0;a<b.v.length;a++){var f=b.v[a];if(f.name!="_TEMP_COLLAPSED_INPUT"){var h=d.v[a];if(!h)throw Error("The insertion marker manager tried to create a marker but the result is missing an input. If you are using a mutator, make sure your domToMutation method is properly defined.");for(c=0;c<f.ba.length;c++){var k=f.ba[c],l=h.ba[c];if(!l)throw Error("The insertion marker manager tried to create a marker but the result is missing a field. If you are using a mutator, make sure your domToMutation method is properly defined.");
Id(l,k.Ea)}}}d.Ee(b.isCollapsed());d.Ge(Uf(b));d.ed();d.I().setAttribute("visibility","hidden")}finally{D--}return d}function eg(a){var b=a.Zd.oc(!1),c=a.Zd.Ti(!0);if(c&&c!=a.Zd.B){b.push(c);a.il=c;if(a.Jd){D++;try{a.Jd.dispose()}finally{D--}}a.Jd=dg(a,c.D())}return b}
function fg(a,b,c){var d=b.local,e=b.closest;b=b.nj;if(d&&e){if(a.ob&&a.Ca){if(a.Ca==e&&a.ob==d)return!1;d=a.ob.x+c.x-a.Ca.x;a=a.ob.y+c.y-a.Ca.y;a=Math.sqrt(d*d+a*a);return!(e&&b>a-8)}if(a.ob||a.Ca)console.error("Only one of localConnection_ and closestConnection_ was set.");else return!0}else return!(!a.ob||!a.Ca);console.error("Returning true from shouldUpdatePreviews, but it's not clear why.");return!0}cg.prototype.om=function(a,b){return b&&Hb(this.g.Zc,b.id)?jg(b,this.Zd,a&&!!a.closest):!1};
function gg(a){a.Ca&&a.Ca.H()&&(A($e.On),delete $e.On);if(a.Dg)hg(a.Dg.ua,"blocklyReplaceable",!1),a.Dg=null;else if(a.Xk)a.Xk=null;else if(a.ve)if(a.ve){var b=a.ve,c=b.D(),d=c.B,e=c.F,f=c.o;f=b.type==1&&!(f&&f.J);!(b!=d||e&&e.J)||f?Pd(b.H(),!1):b.type==3&&b!=d?(d=b.J,Pd(d.D(),!1),e=e?e.J:null,Pd(c,!0),e&&e.connect(d)):Pd(c,!0);if(b.J)throw Error("markerConnection_ still connected at the end of disconnectInsertionMarker");a.ve=null;(a=c.I())&&a.setAttribute("visibility","hidden")}else console.log("No insertion marker connection to disconnect")}
cg.prototype.tf=function(){var a=[];this.Eg&&a.push(this.Eg);this.Jd&&a.push(this.Jd);return a};function kg(a,b){this.ma=a;this.g=b;this.Ec=new cg(this.ma);this.Na=null;this.xc=!1;this.rd=this.ma.Z();b=[];a=nb(a,!1);for(var c=0,d;d=a[c];c++){d=lg(d);for(var e=0;e<d.length;e++)b.push({location:d[e].Li,icon:d[e]})}this.Ai=b}g=kg.prototype;g.dispose=function(){this.Ai.length=0;this.Ec&&this.Ec.dispose()};
g.uh=function(a,b){$c||F(!0);var c=new (H("drag"))(this.ma,!0,nb(this.ma,!1));E(c);this.g.Pg&&mg(this.ma);oc();this.g.bb(!1);ag();if(this.ma.getParent()||b&&this.ma.B&&this.ma.B.H())Pd(this.ma,b),a=this.Kf(a),a=va(this.rd,a),this.ma.translate(a.x,a.y),a=this.ma,a.j.Pb.play("disconnect"),a.j.scale<1||(b=ng(a).height,b=Math.atan(10/b)/Math.PI*180,a.m||(b*=-1),$f(a.I(),b,new Date)),a=this.Ec,a.di=eg(a);this.ma.Vd(!0);a=this.ma;a.Hh&&(b=a.Z(),a.I().removeAttribute("transform"),a.j.Bb.Me(b.x,b.y),(b=a.I())&&
Yd(a.j.Bb,b))};g.bd=function(a,b){b=this.Kf(b);this.ma.zl(va(this.rd,b));for(var c=0;c<this.Ai.length;c++){var d=this.Ai[c];og(d.icon,va(d.location,b))}c=this.Na;this.Na=pg(this.g,a);this.Ec.update(b,this.Na);a=this.xc;this.xc=this.Ec.xc;a!=this.xc&&this.ma.hm(this.xc);this.Na!==c&&c&&c.Fl();this.Na&&this.Na.Gl()};
g.Bg=function(a,b){this.bd(a,b);this.Ai=[];a=new (H("drag"))(this.ma,!1,nb(this.ma,!1));E(a);pc();ag();b=this.Kf(b);a=va(this.rd,b);var c=this.ma;c.Hh&&(c.translate(a.x,a.y),c.j.Bb.ji(c.j.sa));this.Na&&this.Na.Hl();this.xc?(qg(this),this.ma.dispose(!1,!0),hf=[],a=!0):a=!1;if(!a)if(this.ma.Vd(!1),b){rg(this.ma,b.x,b.y);qg(this);if(this.Ec.Ca){if(b=this.Ec,b.Ca&&(D++,gg(b),D--,b.ob.connect(b.Ca),b.Zd.K)){c=(bf(b.ob)?b.Ca:b.ob).D();var d=c.j;a=d.scale;d.Pb.play("click");if(!(a<1)){var e=sg(d,c.I());
c.o?(e.x+=(c.m?3:-3)*a,e.y+=13*a):c.F&&(e.x+=(c.m?-23:23)*a,e.y+=3*a);c=y(Pb,{cx:e.x,cy:e.y,r:0,fill:"none",stroke:"#888","stroke-width":10},B(d));Zf(c,new Date,a)}mg(b.Zd.rc())}}else this.ma.U();tg(this.ma)}else ug(this.ma.j,this.g.qb.Dd(!0),this.ma);this.g.bb(!0);F(!1)};function qg(a){var b=new (H("move"))(a.ma);b.Cl=a.rd;Nd(b);E(b)}g.Kf=function(a){a=new r(a.x/this.g.scale,a.y/this.g.scale);this.g.Pg&&a.scale(1/this.g.options.$a.scale);return a};
g.tf=function(){return this.Ec&&this.Ec.tf?this.Ec.tf():[]};C(Xc,"default",kg);function vg(a,b,c,d){var e=null,f=null;this.g=a;this.tg=b;this.qr=c;this.Ll=this.Kl=this.yl=this.Qo=null;this.disposed=!1;c=wg;this.g.m&&(c=-c);this.cq=c*Math.PI/180;a.sd.appendChild(this.mk(b,!(!e||!f)));this.Ba=d;this.$l&&xg(this);e&&f||(a=this.tg.getBBox(),e=a.width+2*yg,f=a.height+2*yg);zg(this,e,f);xg(this);Ag(this);this.$l=!0}var yg=6,wg=20,Bg=null,Cg=null;function Dg(){Bg&&(v(Bg),Bg=null);Cg&&(v(Cg),Cg=null)}function Eg(){rb=null;Dg()}g=vg.prototype;g.$l=!1;g.Ba=null;g.Nc=0;g.Td=0;g.ka=0;
g.kb=0;g.bk=!0;
g.mk=function(a,b){this.Qb=y(Xb,{},null);var c={filter:"url(#"+this.g.na.C().Bi+")"};Ja&&(c={});c=y(Xb,c,this.Qb);this.fn=y($b,{},c);this.gi=y(cc,{"class":"blocklyDraggable",x:0,y:0,rx:yg,ry:yg},c);b?(this.od=y(Xb,{"class":this.g.m?"blocklyResizeSW":"blocklyResizeSE"},this.Qb),b=2*yg,y(bc,{points:"0,x x,x x,0".replace(/x/g,b.toString())},this.od),y(Zb,{"class":"blocklyResizeLine",x1:b/3,y1:b-1,x2:b-1,y2:b/3},this.od),y(Zb,{"class":"blocklyResizeLine",x1:b*2/3,y1:b-1,x2:b-1,y2:b*2/3},this.od)):this.od=
null;this.g.options.readOnly||(this.Kl=u(this.gi,"mousedown",this,this.gq),this.od&&(this.Ll=u(this.od,"mousedown",this,this.jr)));this.Qb.appendChild(a);return this.Qb};g.I=function(){return this.Qb};function Fg(a,b){a.Qb.dataset&&(a.Qb.dataset.blockId=b)}g.gq=function(a){var b=this.g.Cd(a);if(b){if(b.me)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");b.Mb||(b.Mb=this);b.Wb=a}};g.rh=function(){};g.Kc=function(){return!1};g.hm=function(){};
g.jr=function(a){var b=this.Qb.parentNode;b.lastChild!==this.Qb&&b.appendChild(this.Qb);Dg();ab(a)||(this.g.uh(a,new r(this.g.m?-this.ka:this.ka,this.kb)),Bg=u(document,"mouseup",this,Eg),Cg=u(document,"mousemove",this,this.kr),He());a.stopPropagation()};g.kr=function(a){this.bk=!1;var b=this.g;a=bb(a,B(b),Ee(b));a.x/=b.scale;a.y/=b.scale;b=va(b.vn,a);zg(this,this.g.m?-b.x:b.x,b.y);this.g.m&&xg(this)};
function Gg(a,b,c){var d=a.g.m?a.Ba.x-b.x-a.ka:b.x+a.Ba.x;b=b.y+a.Ba.y;return Math.max(0,Math.min(1,(Math.min(d+a.ka,c.left+c.width)-Math.max(d,c.left))*(Math.min(b+a.kb,c.top+c.height)-Math.max(b,c.top))/(a.ka*a.kb)))}function xg(a){var b=a.Ba.x;b=a.g.m?b-(a.Nc+a.ka):b+a.Nc;a.moveTo(b,a.Td+a.Ba.y)}g.moveTo=function(a,b){this.Qb.setAttribute("transform","translate("+a+","+b+")")};g.Vd=function(a){!a&&this.yl&&this.yl()};
function zg(a,b,c){var d=2*yg;b=Math.max(b,d+45);c=Math.max(c,d+20);a.ka=b;a.kb=c;a.gi.setAttribute("width",b);a.gi.setAttribute("height",c);a.od&&(a.g.m?a.od.setAttribute("transform","translate("+2*yg+","+(c-d)+") scale(-1 1)"):a.od.setAttribute("transform","translate("+(b-d)+","+(c-d)+")"));if(a.bk){b=Hg(a.g.qb,!0);c=-a.ka/4;if(!(a.ka>b.width)){if(a.g.m){d=a.Ba.x-c;var e=d-a.ka;var f=b.left+b.width,h=b.left+ne/a.g.scale}else e=c+a.Ba.x,d=e+a.ka,h=b.left,f=b.left+b.width-ne/a.g.scale;a.g.m?e<h?c=
-(h-a.Ba.x+a.ka):d>f&&(c=-(f-a.Ba.x)):e<h?c=h-a.Ba.x:d>f&&(c=f-a.Ba.x-a.ka)}e=c;c=-a.kb/4;if(!(a.kb>b.height)){d=a.Ba.y+c;f=d+a.kb;h=b.top;var k=b.top+b.height-ne/a.g.scale,l=a.Ba.y;d<h?c=h-l:f>k&&(c=k-l-a.kb)}h=c;f=a.qr.getBBox();c={x:e,y:-a.kb-a.g.na.C().dg};d={x:-a.ka-30,y:h};h={x:f.width,y:h};k={x:e,y:f.height};e=f.width<f.height?h:k;f=f.width<f.height?k:h;h=Gg(a,c,b);k=Gg(a,d,b);l=Gg(a,e,b);b=Math.max(h,k,l,Gg(a,f,b));h==b?(a.Nc=c.x,a.Td=c.y):k==b?(a.Nc=d.x,a.Td=d.y):l==b?(a.Nc=e.x,a.Td=e.y):
(a.Nc=f.x,a.Td=f.y)}xg(a);Ag(a);a.Qo&&a.Qo()}
function Ag(a){var b=[],c=a.ka/2,d=a.kb/2,e=-a.Nc,f=-a.Td;if(c==e&&d==f)b.push("M "+c+","+d);else{f-=d;e-=c;a.g.m&&(e*=-1);var h=Math.sqrt(f*f+e*e),k=Math.acos(e/h);f<0&&(k=2*Math.PI-k);var l=k+Math.PI/2;l>Math.PI*2&&(l-=Math.PI*2);var m=Math.sin(l),p=Math.cos(l),t=new Da(a.ka,a.kb);l=(t.width+t.height)/5;l=Math.min(l,t.width,t.height)/4;t=1-8/h;e=c+t*e;f=d+t*f;t=c+l*p;var x=d+l*m;c-=l*p;d-=l*m;m=k+a.cq;m>Math.PI*2&&(m-=Math.PI*2);k=Math.sin(m)*h/4;h=Math.cos(m)*h/4;b.push("M"+t+","+x);b.push("C"+
(t+h)+","+(x+k)+" "+e+","+f+" "+e+","+f);b.push("C"+e+","+f+" "+(c+h)+","+(d+k)+" "+c+","+d)}b.push("z");a.fn.setAttribute("d",b.join(" "))}g.Pf=function(a){this.gi.setAttribute("fill",a);this.fn.setAttribute("fill",a)};g.dispose=function(){this.Kl&&v(this.Kl);this.Ll&&v(this.Ll);Dg();A(this.Qb);this.disposed=!0};g.zl=function(a,b){a?a.Me(b.x,b.y):this.moveTo(b.x,b.y);this.Nc=this.g.m?this.Ba.x-b.x-this.ka:b.x-this.Ba.x;this.Td=b.y-this.Ba.y;Ag(this)};
g.Z=function(){return new r(this.g.m?-this.Nc+this.Ba.x-this.ka:this.Ba.x+this.Nc,this.Ba.y+this.Td)};function Ig(a,b){this.tb=a;this.g=b;this.Na=null;this.Jh=!1;this.rd=this.tb.Z();this.je=ib()&&b.Bb?b.Bb:null}Ig.prototype.dispose=function(){this.je=this.g=this.tb=null};function Jg(a,b,c){c=a.Kf(c);a.tb.zl(a.je,va(a.rd,c));c=a.Na;a.Na=pg(a.g,b);b=a.Jh;a.Jh=a.om(a.Na);b!=a.Jh&&a.tb.hm(a.Jh);a.Na!==c&&c&&c.Fl();a.Na&&a.Na.Gl()}Ig.prototype.om=function(a){return a&&Hb(this.g.Zc,a.id)?jg(a,this.tb,!1):!1};
function Kg(a,b,c){Jg(a,b,c);b=a.Kf(c);b=va(a.rd,b);a.tb.moveTo(b.x,b.y);a.Na&&a.Na.Hl();a.Jh?a.tb.dispose(!1,!0):(a.je&&a.je.ji(a.g.sd),a.tb.Vd&&a.tb.Vd(!1));a.g.bb(!0);F(!1)}Ig.prototype.Kf=function(a){a=new r(a.x/this.g.scale,a.y/this.g.scale);this.g.Pg&&a.scale(1/this.g.options.$a.scale);return a};function Lg(a,b,c){Lg.i.constructor.call(this,a?a.j.id:b);this.Y=a?a.id:null;this.Zo=c}I(Lg,Rd);Lg.prototype.type="click";Lg.prototype.P=function(){var a=Lg.i.P.call(this);a.targetType=this.Zo;this.Y&&(a.blockId=this.Y);return a};Lg.prototype.M=function(a){Lg.i.M.call(this,a);this.Zo=a.targetType;this.Y=a.blockId};C(Qc,"click",Lg);function Mg(a){this.g=a;this.Pn=Ng(this.g);this.ip=Og(this.g);this.zr=new r(a.scrollX,a.scrollY)}Mg.prototype.dispose=function(){this.g=null};Mg.prototype.uh=function(){M&&Pg(M);Fe(this.g)};Mg.prototype.Bg=function(a){this.bd(a);Ge(this.g)};Mg.prototype.bd=function(a){a=va(this.zr,a);if(this.Pn&&this.ip)this.g.scroll(a.x,a.y);else if(this.Pn)this.g.scroll(a.x,this.g.scrollY);else if(this.ip)this.g.scroll(this.g.scrollX,a.y);else throw new TypeError("Invalid state.");};function Qg(a,b){this.jo=null;this.ib=new r(0,0);this.Da=this.Ra=this.Sf=this.Tf=this.Mb=null;this.nk=b;this.Ng=this.se=this.Og=this.le=!1;this.Wb=a;this.O=this.Se=this.zc=this.vd=this.jj=this.ij=null;this.Ln=this.Oi=this.me=this.gn=!1}g=Qg.prototype;g.dispose=function(){rb=null;Je=!1;this.nk.Va=null;this.ij&&v(this.ij);this.jj&&v(this.jj);this.zc&&this.zc.dispose();this.Se&&this.Se.dispose();this.vd&&this.vd.dispose()};
function Rg(a,b){a.ib=ua(new r(b.clientX,b.clientY),a.jo);if(a.le)var c=!1;else c=a.ib,a.le=Math.sqrt(c.x*c.x+c.y*c.y)>(a.O?10:5),c=a.le;if(c){if(a.gn)throw Error("updateIsDragging_ should only be called once per gesture.");a.gn=!0;a.Mb?(a.Ng=!0,a.vd=new Ig(a.Mb,a.Da),c=a.vd,$c||F(!0),c.g.bb(!1),c.tb.bk=!1,c.je&&(c.tb.moveTo(0,0),c.je.Me(c.rd.x,c.rd.y),Yd(c.je,c.tb.I())),c.tb.Vd&&c.tb.Vd(!0),Jg(a.vd,a.Wb,a.ib),c=!0):c=!1;if(!c){if(a.Ra){if(a.O){if(a.Ra&&a.Ra.isEnabled()){if(!(c=!Sg(a.O))){c=a.ib;
c=Math.atan2(c.y,c.x)/Math.PI*180;var d=a.O.qq;c=c<d&&c>-d||c<-180+d||c>180-d?!0:!1}c?(a.Da=a.O.S,Tg(a.Da),$c||F(!0),a.Sf=null,a.Ra=Ug(a.O,a.Ra),a.Ra.select(),c=!0):c=!1}else c=!1;a.se=c}else a.Ra.Ya()&&(a.se=!0);a.se?(a.zc=new (Zc(Xc,a.nk.options,!0))(a.Ra,a.Da),a.zc.uh(a.ib,a.Ln),a.zc.bd(a.Wb,a.ib),c=!0):c=!1}else c=!1;if(c=!c)if(a.O)c=Sg(a.O);else if(c=a.Da)c=a.Da,c=c.options.Za&&c.options.Za.bd;c&&(a.Se=new Mg(a.Da),a.Og=!0,a.Se.uh())}vb()}a.Wb=b}
g.xk=function(a){Wa(a)?this.cancel():(this.me=!0,ag(),Tg(this.Da),this.Da.Pg&&this.Da.resize(),He(!!this.O),Lc(this.Da),this.Wb=a,Xe(),Je=!0,this.Ra&&this.Ra.select(),ab(a)?wb(this,a):(a.type.toLowerCase()!="touchstart"&&a.type.toLowerCase()!="pointerdown"||a.pointerType=="mouse"||ub(a,this),this.jo=new r(a.clientX,a.clientY),this.Ln=a.altKey||a.ctrlKey||a.metaKey,this.cn(a)))};
g.cn=function(a){this.ij=u(document,"mousemove",null,this.xf.bind(this));this.jj=u(document,"mouseup",null,this.Ji.bind(this));a.preventDefault();a.stopPropagation()};g.xf=function(a){Rg(this,a);this.Og?this.Se.bd(this.ib):this.se?this.zc.bd(this.Wb,this.ib):this.Ng&&Jg(this.vd,this.Wb,this.ib);a.preventDefault();a.stopPropagation()};
g.Ji=function(a){Rg(this,a);vb();if(this.Oi)console.log("Trying to end a gesture recursively.");else{this.Oi=!0;if(this.Ng)Kg(this.vd,a,this.ib);else if(this.se)this.zc.Bg(a,this.ib);else if(this.Og)this.Se.Bg(this.ib);else if(this.Mb&&!this.le)this.Mb.nr&&this.Mb.nr(),this.Mb.select&&this.Mb.select();else if(Vg(this)){var b=this.Tf,c=this.Wb;If(b)&&b.Ie(c);Wg(this)}else!this.Sf||this.le||Vg(this)?this.Sf||this.Mb||this.Tf||this.le||(b=this.nk,M&&Pg(M),b=this.Da||b,E(new (H("click"))(null,b.id,"workspace"))):
(this.O&&this.O.ee?this.Ra.isEnabled()&&($c||F(!0),tg(Ug(this.O,this.Ra))):(b=new (H("click"))(this.Sf,this.Da.id,"block"),E(b)),Wg(this),F(!1));a.preventDefault();a.stopPropagation();this.dispose()}};g.cancel=function(){this.Oi||(vb(),this.Ng?Kg(this.vd,this.Wb,this.ib):this.se?this.zc.Bg(this.Wb,this.ib):this.Og&&this.Se.Bg(this.ib),this.dispose())};
function wb(a,b){a.Ra?(Wg(a),He(!!a.O),a.Ra.rh(b)):a.Mb?a.Mb.rh(b):a.Da&&!a.O&&(He(),a.Da.rh(b));b.preventDefault();b.stopPropagation();a.dispose()}function Xg(a,b,c){if(a.me)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");a.Da||(a.Da=c);a.Wb=b;a.xk(b)}function Yg(a,b,c){if(a.me)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");a.O||(a.O=c);Xg(a,b,c.g)}function Wg(a){a.Ra&&!a.O&&mg(a.Ra)}
function Zg(a,b){a.Sf||a.Mb||(a.Sf=b,b.Xa&&b!=b.rc()?$g(a,b.rc()):$g(a,b))}function $g(a,b){b.R?$g(a,b.getParent()):a.Ra=b}function Vg(a){return(a.Tf?If(a.Tf):!1)&&!a.le&&(!a.O||!a.O.ee)}g.Pa=function(){return this.Og||this.se||this.Ng};g.tf=function(){return this.zc?this.zc.tf():[]};function ah(){for(var a=xf(),b=0,c;c=a[b];b++)if(c.Va)return!0;return!1};function bh(){this.Tb=this.Eb=this.kk=null;this.type="marker"}function ch(a,b){var c=a.Eb;a.Eb=b;a.Tb&&a.Tb.lc(c,a.Eb)}bh.prototype.lc=function(){this.Tb&&this.Tb.lc(this.Eb,this.Eb)};bh.prototype.lb=function(){this.Tb&&this.Tb.lb()};bh.prototype.dispose=function(){this.Tb&&this.Tb.dispose()};function dh(){dh.i.constructor.call(this);this.type="cursor"}I(dh,bh);dh.prototype.next=function(){var a=this.Eb;if(!a)return null;for(a=a.next();a&&a.next()&&(a.getType()=="next"||a.getType()=="block");)a=a.next();a&&ch(this,a);return a};dh.prototype.Hd=function(){var a=this.Eb;if(!a)return null;if(a.getType()=="previous"||a.getType()=="output")a=a.next();(a=a.Hd())&&ch(this,a);return a};
dh.prototype.md=function(){var a=this.Eb;if(!a)return null;for(a=a.md();a&&a.md()&&(a.getType()=="next"||a.getType()=="block");)a=a.md();a&&ch(this,a);return a};dh.prototype.Pd=function(){var a=this.Eb;if(!a)return null;(a=a.Pd())&&a.getType()=="block"&&(a=a.md()||a);a&&ch(this,a);return a};C(Pc,"default",dh);function eh(a){this.$c=this.Sb=null;this.Sg=Object.create(null);this.g=a}g=eh.prototype;g.sf=function(){return this.Sb};g.Ig=function(a){return this.Sg[a]||null};g.pd=function(a){a?(this.g.sa.appendChild(a),this.$c=a):this.$c=null};g.Wd=function(a){a?this.g.sa&&(this.$c?this.g.sa.insertBefore(a,this.$c):this.g.sa.appendChild(a)):this.ld=null};
g.dispose=function(){for(var a=Object.keys(this.Sg),b=0,c;c=a[b];b++){var d=this.Sg[c];if(d)d.dispose(),delete this.Sg[c];else throw Error("Marker with ID "+c+" does not exist. Can only unregister markers that exist.");}this.Sg=null;this.Sb&&(this.Sb.dispose(),this.Sb=null)};var fh,gh=null,hh=null,ih="",jh="";function kh(a,b,c){lh();gh=a;hh=c;a=fh;a.style.direction=b?"rtl":"ltr";a.style.display="block";b=Fc;ih=b.na.nc();jh=b.cd().nc();z(a,ih);z(a,jh)}function lh(){if(gh){gh=null;var a=fh;a.style.display="none";a.style.left="";a.style.top="";hh&&hh();hh=null;a.textContent="";ih&&(kc(a,ih),ih="");jh&&(kc(a,jh),jh="");Lc(Fc)}}function mh(a,b,c){fh.style.left=a+"px";fh.style.top=b+"px";fh.style.height=c+"px"};function nh(a,b,c){this.Ea=this.$f;this.ap=this.gp=null;this.zb=new Da(0,0);this.h=this.xl=this.Le=this.Sa=this.xa=this.Gb=this.ld=this.$c=null;c&&this.ge(c);Id(this,a);b&&(this.gp=b)}g=nh.prototype;g.$f=null;g.name=void 0;g.disposed=!1;g.io=50;g.l=null;g.gd=!0;g.ae=!0;g.jk=null;g.Qh=!0;g.gg=!1;g.ge=function(a){var b=a.tooltip;typeof b=="string"&&(b=db(a.tooltip));b&&this.He(b)};g.C=function(){!this.h&&this.l&&this.l.j&&this.l.j.K&&(this.h=this.l.j.na.C());return this.h};g.D=function(){return this.l};
g.init=function(){this.Gb||(this.Gb=y(Xb,{},null),this.isVisible()||(this.Gb.style.display="none"),this.l.I().appendChild(this.Gb),this.Af(),this.Oe(),this.He(this.ap),Se(oh(this)),this.xl=u(oh(this),"mousedown",this,this.Od))};g.Af=function(){ph(this);qh(this)};function ph(a){a.xa=y(cc,{rx:a.C().Rh,ry:a.C().Rh,x:0,y:0,height:a.zb.height,width:a.zb.width,"class":"blocklyFieldRect"},a.Gb)}
function qh(a){a.Sa=y(ec,{"class":"blocklyText"},a.Gb);a.C().Lj&&a.Sa.setAttribute("dominant-baseline","central");a.Le=document.createTextNode("");a.Sa.appendChild(a.Le)}g.Nk=function(a){Id(this,a.textContent)};g.dispose=function(){wc===this&&Jc();gh==this&&lh();We(oh(this));this.xl&&v(this.xl);A(this.Gb);this.disposed=!0};
g.Oe=function(){var a=this.Gb;this.Qh&&a&&(this.l.wb()?(z(a,"blocklyEditableText"),kc(a,"blocklyNonEditableText"),a.style.cursor=this.zm):(z(a,"blocklyNonEditableText"),kc(a,"blocklyEditableText"),a.style.cursor=""))};function If(a){return!!a.l&&a.l.wb()&&!!a.Ie&&typeof a.Ie==="function"}g.isVisible=function(){return this.ae};g.ra=function(a){if(this.ae!=a){this.ae=a;var b=this.I();b&&(b.style.display=a?"block":"none")}};g.I=function(){return this.Gb};g.Fa=function(){};
g.Be=function(){this.Le&&(this.Le.nodeValue=rh(this));var a=this.C(),b=this.xa?this.C().ag:0,c=b*2,d=a.Sh,e=0;this.Sa&&(e=qc(this.Sa,a.Ue+"pt",a.Ve,a.Te),c+=e);this.xa&&(d=Math.max(d,a.Dm));this.zb.height=d;this.zb.width=c;sh(this,b,e);th(this)};function sh(a,b,c){if(a.Sa){var d=a.C(),e=a.zb.height/2;a.Sa.setAttribute("x",a.l.m?a.zb.width-c-b:b);a.Sa.setAttribute("y",d.Lj?e:e-d.Sh/2+d.Gm)}}
function th(a){a.xa&&(a.xa.setAttribute("width",a.zb.width),a.xa.setAttribute("height",a.zb.height),a.xa.setAttribute("rx",a.C().Rh),a.xa.setAttribute("ry",a.C().Rh))}g.getSize=function(){if(!this.isVisible())return new Da(0,0);this.gd?(this.Be(),this.gd=!1):this.ae&&this.zb.width==0&&(console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead."),this.Be());return this.zb};
function Ec(a){if(a.xa)b=a.xa.getBoundingClientRect(),a=Ga(a.xa),d=b.width,b=b.height;else{var b=ng(a.l),c=a.l.j.scale;a=Ga(oh(a));var d=b.width*c;b=b.height*c;La?(a.x+=1.5*c,a.y+=1.5*c):Ia||Ha||(a.x-=.5*c,a.y-=.5*c);d+=1*c;b+=1*c}return new wa(a.y,a.y+b,a.x,a.x+d)}function rh(a){var b=uh(a);if(!b)return"\u00a0";b.length>a.io&&(b=b.substring(0,a.io-2)+"\u2026");b=b.replace(/\s/g,"\u00a0");a.l&&a.l.m&&(b+="\u200f");return b}
function uh(a){if(a.Sk){var b=a.Sk.call(a);if(b!==null)return String(b)}return String(a.Ea)}g.Rg=function(){this.gd=!0;this.h=null};function vh(a){a.gd=!0;a.l&&a.l.K&&(a.l.U(),a.l.Ka(),a.vm())}function Id(a,b){if(b!==null){var c=a.qf(b);b=wh(a,b,c);if(!(b instanceof Error)){if(c=a.gp)if(c=c.call(a,b),b=wh(a,b,c),b instanceof Error)return;c=a.l;if(!c||!c.disposed){var d=a.Ea;d===b?a.zg(b):(c&&D==0&&E(new (H("change"))(c,"field",a.name||null,d,b)),a.zg(b),a.gd&&vh(a))}}}}
function wh(a,b,c){if(c===null)return a.un(),a.gd&&vh(a),Error();c!==void 0&&(b=c);return b}g.qf=function(a){return a===null||a===void 0?null:a};g.zg=function(a){this.Ea=a;this.gd=!0};g.un=function(){};g.Od=function(a){if(this.l&&this.l.j&&(a=this.l.j.Cd(a))){if(a.me)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");a.Tf||(a.Tf=this)}};g.He=function(a){a||a===""||(a=this.l);var b=oh(this);b?b.cc=a:this.ap=a};function oh(a){return a.jk||a.I()}
g.Fc=function(){for(var a=null,b=this.l,c=b.v,d=0;d<b.v.length;d++)for(var e=c[d],f=e.ba,h=0;h<f.length;h++)if(f[h]===this){a=e;break}return a};g.Wn=function(){return!1};g.pd=function(a){a?(this.Gb.appendChild(a),this.$c=a):this.$c=null};g.Wd=function(a){a?(this.Gb.appendChild(a),this.ld=a):this.ld=null};g.vm=function(){var a=this.l.j;a.Hf&&this.$c&&a.sf().lc();a.Hf&&this.ld&&a.Ig("local_marker_1").lc()};function xh(a,b,c){this.ii=null;xh.i.constructor.call(this,a,null,c);c||(this.ii=b||null)}I(xh,nh);xh.prototype.$f="";xh.M=function(a){var b=db(a.text);return new xh(b,void 0,a)};xh.prototype.Qh=!1;xh.prototype.ge=function(a){xh.i.ge.call(this,a);this.ii=a["class"]};xh.prototype.Af=function(){qh(this);this.ii&&z(this.Sa,this.ii)};xh.prototype.qf=function(a){return a===null||a===void 0?null:String(a)};C(Rc,"field_label",xh);function yh(a,b,c,d){if(a!=5&&!b)throw Error("Value inputs and statement inputs must have non-empty name.");this.type=a;this.name=b;this.l=c;this.connection=d;this.ba=[]}g=yh.prototype;g.align=-1;g.ae=!0;g.D=function(){return this.l};function zh(a,b,c){Ah(a,a.ba.length,b,c)}
function Ah(a,b,c,d){if(b<0||b>a.ba.length)throw Error("index "+b+" out of bounds.");if(!(c||c==""&&d))return b;typeof c=="string"&&(c=Vf({type:"field_label",text:c}));if(c.l)throw Error("Field already bound to a block.");c.l=a.l;a.l.K&&(c.init(),c.Fa());c.name=d;c.ra(a.isVisible());c.Vl&&(b=Ah(a,b,c.Vl));a.ba.splice(b,0,c);++b;c.rm&&(b=Ah(a,b,c.rm));a.l.K&&(a.l=a.l,a.l.U(),a.l.Ka());return b}g.isVisible=function(){return this.ae};
g.ra=function(a){if(this.ae!=a){this.ae=a;for(var b=0,c;c=this.ba[b];b++)c.ra(a);if(this.connection){this.connection=this.connection;if(a)Bh(this.connection);else if(b=this.connection,Ch(b,!1),b.J)for(b=nb(b.H(),!1),c=0;c<b.length;c++){for(var d=b[c],e=d.oc(!0),f=0;f<e.length;f++)Ch(e[f],!1);d=lg(d);for(f=0;f<d.length;f++)d[f].ra(!1)}if(b=this.connection.H())b.I().style.display=a?"block":"none"}}};g.Rg=function(){for(var a=0,b;b=this.ba[a];a++)b.Rg()};
g.De=function(a){if(!this.connection)throw Error("This input does not have a connection.");this.connection.De(a);return this};g.ph=function(a){if(!this.connection)throw Error("This input does not have a connection.");this.connection.ph(a)};g.uf=function(){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.uf()};g.init=function(){if(this.l.j.K)for(var a=0;a<this.ba.length;a++)this.ba[a].init()};
g.dispose=function(){for(var a=0,b;b=this.ba[a];a++)b.dispose();this.connection&&this.connection.dispose();this.l=null};function sf(a,b,c){if(Dh&&typeof Dh.prototype[b]!="undefined")throw Error('Block prototypeName "'+b+'" conflicts with Blockly.Generator members.');this.id=c&&!a.Hb(c)?c:fb();a.ck[this.id]=this;this.F=this.B=this.o=null;this.v=[];this.fd=void 0;this.disabled=!1;this.cc="";this.contextMenu=!0;this.Mc=null;this.Xc=[];this.xn=this.lo=this.rk=!0;this.fe=this.R=!1;this.kc={text:null,Go:!1,size:new Da(160,80)};this.np=new r(0,0);this.j=a;this.Xa=a.Id;this.m=a.m;this.Ef=!1;this.Gc=void 0;this.K=null;if(b){this.type=
b;c=Jf[b];if(!c||typeof c!="object")throw TypeError("Unknown block type: "+b);kd(this,c)}a.ci(this);a.ud[this.type]||(a.ud[this.type]=[]);a.ud[this.type].push(this);(a=$c)||F(!0);b=ad;try{typeof this.init=="function"&&(ad=!1,this.init(),ad=b),D==0&&E(new (H("create"))(this))}finally{a||F(!1),ad=b}this.Lq=this.fd;if(typeof this.onchange=="function"){if((a=this.onchange)&&typeof a!="function")throw Error("onchange must be a function.");this.ah&&lb(this.j.Ha,this.ah);if(this.onchange=a)this.ah=a.bind(this),
wf(this.j,this.ah)}}g=sf.prototype;g.data=null;g.disposed=!1;g.Rb="#000000";g.Je="";
g.dispose=function(a){if(this.j){this.ah&&lb(this.j.Ha,this.ah);Pd(this,a);D==0&&E(new (H("delete"))(this));D++;try{if(this.j){this.j.pj(this);var b=this.j;b.ud[this.type].splice(b.ud[this.type].indexOf(this),1);b.ud[this.type].length||delete b.ud[this.type];delete this.j.ck[this.id];this.j=null}M==this&&(M=null);for(var c=this.Xc.length-1;c>=0;c--)this.Xc[c].dispose(!1);c=0;for(var d;d=this.v[c];c++)d.dispose();this.v.length=0;var e=this.oc(!0);c=0;for(var f;f=e[c];c++)f.dispose()}finally{D--,this.disposed=
!0}}};function Pd(a,b){if(a.o){var c=null;a.o.isConnected()&&(c=a.o.J,a.o.disconnect());if(c&&b){a:{b=null;for(var d=0;d<a.v.length;d++){var e=a.v[d].connection;if(e&&e.type==1&&e.J){if(b){a=null;break a}b=e}}a=b}a&&a.isConnected()&&!a.H().R&&(a=a.J,a.disconnect(),cf(a,c,!1)==0?c.connect(a):a.Il(c))}}else a.F&&(c=null,a.F.isConnected()&&(c=a.F.J,a.F.disconnect()),d=ob(a),b&&d&&!d.R&&(a=a.B.J,a.disconnect(),c&&cf(c,a,!1)==0&&c.connect(a)))}
g.oc=function(){var a=[];this.o&&a.push(this.o);this.F&&a.push(this.F);this.B&&a.push(this.B);for(var b=0,c;c=this.v[b];b++)c.connection&&a.push(c.connection);return a};g.Ti=function(a){for(var b=this.B;b;){var c=b.H();if(!c||a&&c.R)return b;b=c.B}return null};g.Ka=function(){};g.getParent=function(){return this.Mc};function Od(a,b){for(var c=0,d;d=a.v[c];c++)if(d.connection&&d.connection.H()==b)return d;return null}
function Eh(a){do{var b=a;a=a.getParent();if(!a)return null}while(ob(a)==b);return a}function ob(a){return a.B&&a.B.H()}g.rc=function(){var a=this;do{var b=a;a=b.Mc}while(a);return b};function pd(a,b){if(!b)return a.Xc;b=[];for(var c=0,d;d=a.v[c];c++)d.connection&&(d=d.connection.H())&&b.push(d);(a=ob(a))&&b.push(a);return b}
g.xj=function(a){if(a!=this.Mc){if(this.Mc){lb(this.Mc.Xc,this);if(this.F&&this.F.isConnected())throw Error("Still connected to previous block.");if(this.o&&this.o.isConnected())throw Error("Still connected to parent block.");this.Mc=null}else this.j.pj(this);(this.Mc=a)?a.Xc.push(this):this.j.ci(this)}};function nb(a,b){var c=[a];a=pd(a,b);for(var d,e=0;d=a[e];e++)c.push.apply(c,nb(d,b));return c}g.Kc=function(){return this.rk&&!this.R&&!(this.j&&this.j.options.readOnly)};
g.Ya=function(){return this.lo&&!this.R&&!(this.j&&this.j.options.readOnly)};g.uj=function(a){this.lo=a};g.lm=function(a){this.R=a};g.xb=function(){return this.Ef};g.To=function(a){this.Ef=a};g.wb=function(){return this.xn&&!(this.j&&this.j.options.readOnly)};g.im=function(a){this.xn=a;a=0;for(var b;b=this.v[a];a++)for(var c=0,d;d=b.ba[c];c++)d.Oe()};
g.Qk=function(a,b){var c=this.oc(!0);a=a.oc(!0);if(c.length!=a.length)throw Error("Connection lists did not match in length.");for(var d=0;d<a.length;d++)if(a[d]==b)return c[d];return null};g.He=function(a){this.cc=a};g.Pk=function(){return this.Rb};g.Pf=function(a){this.Rb=pb(a).Kg};g.qd=function(a){this.Je=a};
function Ed(a,b){if(typeof b!=="string")throw TypeError("Blockly.Block.prototype.getField expects a string with the field name but received "+(b===void 0?"nothing":b+" of type "+typeof b)+" instead");for(var c=0,d;d=a.v[c];c++)for(var e=0,f;f=d.ba[e];e++)if(f.name===b)return f;return null}function Fd(a){for(var b=0,c;c=a.v[b];b++)for(var d=0;c.ba[d];d++);return[]}function nf(a,b){return(a=Ed(a,b))?a.Ea:null}
g.yj=function(a,b){if(a){b===void 0&&(b=null);if(!this.F){if(this.o)throw Error("Remove output connection prior to adding previous connection.");this.F=this.Qg(4)}this.F.De(b)}else if(this.F){if(this.F.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.F.dispose();this.F=null}};
g.vj=function(a,b){if(a)b===void 0&&(b=null),this.B||(this.B=this.Qg(3)),this.B.De(b);else if(this.B){if(this.B.isConnected())throw Error("Must disconnect next statement before removing connection.");this.B.dispose();this.B=null}};
g.jm=function(a,b){if(a){b===void 0&&(b=null);if(!this.o){if(this.F)throw Error("Remove previous connection prior to adding output connection.");this.o=this.Qg(2)}this.o.De(b)}else if(this.o){if(this.o.isConnected())throw Error("Must disconnect output value before removing connection.");this.o.dispose();this.o=null}};g.Ge=function(a){this.fd!=a&&(E(new (H("change"))(this,"inline",null,this.fd,a)),this.fd=a)};
function Uf(a){if(a.fd!=void 0)return a.fd;for(var b=1;b<a.v.length;b++)if(a.v[b-1].type==5&&a.v[b].type==5)return!1;for(b=1;b<a.v.length;b++)if(a.v[b-1].type==1&&a.v[b].type==5)return!0;return!1}g.isEnabled=function(){return!this.disabled};g.Pc=function(a){this.isEnabled()!=a&&(E(new (H("change"))(this,"disabled",null,this.disabled,!a)),this.disabled=!a)};function Fh(a){for(a=Eh(a);a;){if(a.disabled)return!0;a=Eh(a)}return!1}g.isCollapsed=function(){return this.fe};
g.Ee=function(a){this.fe!=a&&(E(new (H("change"))(this,"collapsed",null,this.fe,a)),this.fe=a)};
g.toString=function(a,b){function c(m){var p=m.jf;!p&&m.J&&(p=m.J.jf);return!!p&&(p.indexOf("Boolean")!=-1||p.indexOf("Number")!=-1)}function d(){h&&h.getType()==k.getType()&&h.N==k.N&&(h=null)}var e=[];b=b||"?";var f=Af;Af=!0;for(var h=Ef(this),k=h;h;){switch(h.getType()){case "input":var l=h.N;h.Hd()?c(l)&&e.push("("):e.push(b);break;case "field":l=h.N,l.name!="_TEMP_COLLAPSED_FIELD"&&e.push(uh(l))}l=h;h=l.Hd()||l.next();if(!h){h=l.Pd();for(d();h&&!h.next();)h=h.Pd(),d(),h&&h.getType()=="input"&&
c(h.N)&&e.push(")");h&&(h=h.next())}}Af=f;for(b=2;b<e.length;b++)e[b-2]=="("&&e[b]==")"&&(e[b-2]=e[b-1],e.splice(b-1,2));e=e.reduce(function(m,p){return m+(m.substr(-1)=="("||p==")"?"":" ")+p},"");e=e.trim()||"???";a&&e.length>a&&(e=e.substring(0,a-3)+"...");return e};function Gh(a,b){var c=[],d;for(d in b)a[d]!==void 0&&c.push(d);if(c.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(c));kd(a,b)}
function Hh(a,b){var c=Vf(b);return!c&&b.alt?typeof b.alt=="string"?(b=Ih(b.alt))?Hh(a,b):null:Hh(a,b.alt):c}function Jh(a){return a=="input_value"||a=="input_statement"||a=="input_dummy"}function Ih(a){return(a=a.trim())?{type:"field_label",text:a}:null}g.Uc=function(a,b){var c=null;if(a==1||a==3)c=this.Qg(a);a=new yh(a,b,this,c);this.v.push(a);return a};
g.Mf=function(a,b){for(var c=0,d;d=this.v[c];c++)if(d.name==a)return d.dispose(),this.v.splice(c,1),!0;if(b)return!1;throw Error("Input not found: "+a);};function L(a,b){for(var c=0,d;d=a.v[c];c++)if(d.name==b)return d;return null}function Kh(a,b){return(a=L(a,b))&&a.connection&&a.connection.H()}g.Qf=function(a){this.kc.text!=a&&(E(new (H("change"))(this,"comment",null,this.kc.text,a)),this.kc.text=a)};g.Uo=function(){};g.Z=function(){return this.np};
g.moveBy=function(a,b){if(this.Mc)throw Error("Block has parent.");var c=new (H("move"))(this);this.np.translate(a,b);Nd(c);E(c)};g.Qg=function(a){return new $e(this,a)};function Lh(){this.uc=[];this.Ce=this.Oa=this.fj=this.bj=this.aj=this.ki=this.cj=this.ne=this.Nl=null}g=Lh.prototype;
g.U=function(a){var b=document.createElement("div");b.className="blocklyMenu goog-menu blocklyNonSelectable";b.tabIndex=0;this.Ce&&b.setAttribute("role",this.Ce);this.Oa=b;for(var c=0,d;d=this.uc[c];c++)b.appendChild(d.wa());this.cj=u(b,"mouseover",this,this.Eq,!0);this.ki=u(b,"click",this,this.zq,!0);this.aj=u(b,"mouseenter",this,this.Cq,!0);this.bj=u(b,"mouseleave",this,this.Dq,!0);this.fj=u(b,"keydown",this,this.Aq);a.appendChild(b)};
g.focus=function(){var a=this.Oa;a&&(a.focus({preventScroll:!0}),z(a,"blocklyFocused"))};g.oh=function(a){this.Ce=a};g.dispose=function(){this.cj&&(v(this.cj),this.cj=null);this.ki&&(v(this.ki),this.ki=null);this.aj&&(v(this.aj),this.aj=null);this.bj&&(v(this.bj),this.bj=null);this.fj&&(v(this.fj),this.fj=null);for(var a=0,b;b=this.uc[a];a++)b.dispose();this.Oa=null};
function Mh(a,b){for(var c=a.Oa;b&&b!=c;){if(lc(b,"blocklyMenuItem"))for(var d=0,e;e=a.uc[d];d++)if(e.Oa==b)return e;b=b.parentElement}return null}
g.vc=function(a){var b=this.ne;b&&(b.vc(!1),this.ne=null);if(a){a.vc(!0);this.ne=a;b=this.Oa;var c=a.Oa,d=Ga(c),e=Ga(b);var f=Fa(b,"borderLeftWidth");Fa(b,"borderRightWidth");var h=Fa(b,"borderTopWidth");Fa(b,"borderBottomWidth");f=d.x-e.x-parseFloat(f);d=d.y-e.y-parseFloat(h);c=new Da(c.offsetWidth,c.offsetHeight);e=b.clientHeight-c.height;h=b.scrollLeft;var k=b.scrollTop;h+=Math.min(f,Math.max(f-(b.clientWidth-c.width),0));k+=Math.min(d,Math.max(d-e,0));f=new r(h,k);b.scrollLeft=f.x;b.scrollTop=
f.y;Ze(b,"activedescendant",a.Wa())}};function Nh(a,b,c){b+=c;for(var d;d=a.uc[b];){if(d.isEnabled()){a.vc(d);break}b+=c}}g.Eq=function(a){(a=Mh(this,a.target))&&(a.isEnabled()?this.ne!=a&&this.vc(a):this.vc(null))};g.zq=function(a){var b=this.Nl;this.Nl=null;b&&typeof a.clientX=="number"&&ta(b,new r(a.clientX,a.clientY))<1||(a=Mh(this,a.target))&&a.isEnabled()&&a.kg&&a.kg(a)};g.Cq=function(){this.focus()};g.Dq=function(){if(this.Oa){var a=this.Oa;a&&(a.blur(),kc(a,"blocklyFocused"));this.vc(null)}};
g.Aq=function(a){if(this.uc.length&&!(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)){var b=this.ne;switch(a.keyCode){case 13:case 32:b&&b.isEnabled()&&b.kg&&b.kg(b);break;case 38:b=this.uc.indexOf(this.ne);Nh(this,b<0?this.uc.length:b,-1);break;case 40:Nh(this,this.uc.indexOf(this.ne),1);break;case 33:case 36:Nh(this,-1,1);break;case 34:case 35:Nh(this,this.uc.length,-1);break;default:return}a.preventDefault();a.stopPropagation()}};
g.getSize=function(){var a=this.Oa,b=Ea(a);b.height=a.scrollHeight;return b};var Oh=0;function Ph(a,b){this.tg=a;this.Ea=b;this.Ci=!0;this.Oa=null;this.dm=!1;this.Ce=null;this.Nn=this.ik=this.hk=!1;this.kg=null}g=Ph.prototype;
g.wa=function(){var a=document.createElement("div");a.id="blockly-"+(Oh++).toString(36);this.Oa=a;a.className="blocklyMenuItem goog-menuitem "+(this.Ci?"":"blocklyMenuItemDisabled goog-menuitem-disabled ")+(this.ik?"blocklyMenuItemSelected goog-option-selected ":"")+(this.Nn?"blocklyMenuItemHighlight goog-menuitem-highlight ":"")+(this.dm?"blocklyMenuItemRtl goog-menuitem-rtl ":"");var b=document.createElement("div");b.className="blocklyMenuItemContent goog-menuitem-content";if(this.hk){var c=document.createElement("div");
c.className="blocklyMenuItemCheckbox goog-menuitem-checkbox";b.appendChild(c)}c=this.tg;typeof this.tg=="string"&&(c=document.createTextNode(this.tg));b.appendChild(c);a.appendChild(b);this.Ce&&a.setAttribute("role",this.Ce);Ze(a,"selected",this.hk&&this.ik||!1);Ze(a,"disabled",!this.Ci);return a};g.dispose=function(){this.Oa=null};g.Wa=function(){return this.Oa.id};g.oh=function(a){this.Ce=a};
g.vc=function(a){this.Nn=a;var b=this.Oa;b&&this.isEnabled()&&(a?(z(b,"blocklyMenuItemHighlight"),z(b,"goog-menuitem-highlight")):(kc(b,"blocklyMenuItemHighlight"),kc(b,"goog-menuitem-highlight")))};g.isEnabled=function(){return this.Ci};g.Pc=function(a){this.Ci=a};function Qh(a,b,c){a.kg=b.bind(c)};var P={si:null,pb:null,show:function(a,b,c){kh(P,c,P.dispose);if(b.length){var d=P.dr(b,c);P.pb=d;P.er(d,a,c);setTimeout(function(){d.focus()},1);P.si=null}else P.lb()},dr:function(a,b){var c=new Lh;c.oh("menu");for(var d=0,e;e=a[d];d++){var f=new Ph(e.text);f.dm=b;f.oh("menuitem");c.uc.push(f);f.Pc(e.enabled);e.enabled&&Qh(f,function(){P.lb();this.ta(this.scope)},e)}return c},er:function(a,b,c){var d=document.body;var e=document.documentElement;d=new r(d.scrollLeft||e.scrollLeft,d.scrollTop||e.scrollTop);
d=new wa(d.y,document.documentElement.clientHeight+d.y,d.x,document.documentElement.clientWidth+d.x);var f=new wa(b.clientY+d.top,b.clientY+d.top,b.clientX+d.left,b.clientX+d.left);P.mq(a);b=a.getSize();c&&(f.left+=b.width,f.right+=b.width,d.left+=b.width,d.right+=b.width);e=f.bottom+b.height>=d.bottom?f.top-b.height:f.bottom;c?(c=Math.max(f.right-b.width,d.left),c=Math.min(c,d.right-b.width)):(c=Math.min(f.left,d.right-b.width),c=Math.max(c,d.left));e<0?mh(c,0,b.height+e):mh(c,e,b.height);a.focus()},
mq:function(a){a.U(fh);var b=a.Oa;z(b,"blocklyContextMenu");u(b,"contextmenu",null,Va);a.focus()},lb:function(){gh==P&&lh();P.si=null},dispose:function(){P.pb&&(P.pb.dispose(),P.pb=null)},ps:function(a,b){return function(){D++;try{var c=vd(b,a.j),d=a.Z();d.x=a.m?d.x-28:d.x+28;d.y+=56;c.moveBy(d.x,d.y)}finally{D--}D==0&&!c.R&&E(new (H("create"))(c));c.select()}}};function Rh(){Sh=this;this.$b=Object.create(null)}var Sh=null;Rh.prototype.register=function(a){if(this.$b[a.id])throw Error('Menu item with ID "'+a.id+'" is already registered.');this.$b[a.id]=a};Rh.prototype.unregister=function(a){if(!this.$b[a])throw Error('Menu item with ID "'+a+'" not found.');delete this.$b[a]};Rh.prototype.getItem=function(a){return this.$b[a]||null};
function Th(a,b){var c=[],d=Sh.$b;Object.keys(d).forEach(function(e){e=d[e];if(a==e.Lb){var f=e.za(b);f!="hidden"&&(e={text:typeof e.jb=="function"?e.jb(b):e.jb,enabled:f=="enabled",ta:e.ta,scope:b,weight:e.weight},c.push(e))}});c.sort(function(e,f){return e.weight-f.weight});return c}new Rh;function Uh(a,b,c){Uh.i.constructor.call(this,c);this.po=a;this.no=b}I(Uh,Rd);Uh.prototype.type="selected";Uh.prototype.P=function(){var a=Uh.i.P.call(this);a.oldElementId=this.po;a.newElementId=this.no;return a};Uh.prototype.M=function(a){Uh.i.M.call(this,a);this.po=a.oldElementId;this.no=a.newElementId};C(Qc,"selected",Uh);function Vh(a,b){Vh.i.constructor.call(this,a,b);this.Cc=a.j.ri[b];this.nn=a.j.ri[ma[b]];this.Ae=new r(0,0);this.td=Wh;this.J=null}I(Vh,$e);var Wh=-1;g=Vh.prototype;g.dispose=function(){Vh.i.dispose.call(this);this.td==1&&Xh(this.Cc,this,this.y)};g.D=function(){return Vh.i.D.call(this)};g.H=function(){return Vh.i.H.call(this)};function gf(a,b){var c=a.x-b.x;a=a.y-b.y;return Math.sqrt(c*c+a*a)}
function Yh(a,b){if(!a.l.j.Pa()){var c=a.l.rc();if(!c.Xa){var d=!1;if(!c.Ya()){c=b.D().rc();if(!c.Ya())return;b=a;d=!0}var e=M==c;e||c.bi();var f=b.x+28+Math.floor(Math.random()*10)-a.x,h=b.y+28+Math.floor(Math.random()*10)-a.y;d&&(h=-h);c.m&&(f=b.x-28-Math.floor(Math.random()*10)-a.x);c.moveBy(f,h);e||c.jh()}}}
g.moveTo=function(a,b){if(this.td==Wh){var c=this.Cc;c.ya.splice(Zh(c,b),0,this);this.td=1}else this.td==1&&(Xh(this.Cc,this,this.y),c=this.Cc,c.ya.splice(Zh(c,b),0,this));this.x=a;this.y=b};g.moveBy=function(a,b){this.moveTo(this.x+a,this.y+b)};function $h(a,b){a.moveTo(b.x+a.Ae.x,b.y+a.Ae.y)}function ai(a,b,c){a.Ae.x=b;a.Ae.y=c}
function bi(a){var b=a.J.x-a.x,c=a.J.y-a.y;if(b!=0||c!=0){a=a.H();var d=a.I();if(!d)throw Error("block is not rendered.");d=Xa(d);a.I().setAttribute("transform","translate("+(d.x-b)+","+(d.y-c)+")");rg(a,-b,-c)}}
g.closest=function(a,b){var c=this.nn;if(c.ya.length){var d=this.y,e=this.x;this.x=e+b.x;this.y=d+b.y;var f=Zh(c,this.y);b=null;for(var h=a,k,l=f-1;l>=0&&Math.abs(c.ya[l].y-this.y)<=a;)k=c.ya[l],cf(this,k,!0,h)==0&&(b=k,h=gf(k,this)),l--;for(;f<c.ya.length&&Math.abs(c.ya[f].y-this.y)<=a;)k=c.ya[f],cf(this,k,!0,h)==0&&(b=k,h=gf(k,this)),f++;this.x=e;this.y=d;a={connection:b,nj:h}}else a={connection:null,nj:a};return a};
function Ch(a,b){b&&a.td==1||!b&&a.td==0||a.l.Xa||(b?(b=a.Cc,b.ya.splice(Zh(b,a.y),0,a),a.td=1):(a.td==1&&Xh(a.Cc,a,a.y),a.td=0))}function Bh(a){Ch(a,!0);var b=[];if(a.type!=1&&a.type!=3)return b;if(a=a.H()){if(a.isCollapsed()){var c=[];a.o&&c.push(a.o);a.B&&c.push(a.B);a.F&&c.push(a.F)}else c=a.oc(!0);for(var d=0;d<c.length;d++)b.push.apply(b,Bh(c[d]));b.length||(b[0]=a)}return b}
g.Il=function(a){var b=this.D();if(ad){var c=$c;setTimeout(function(){b.disposed||b.getParent()||(F(c),Yh(this,a),F(!1))}.bind(this),250)}};g.wk=function(a,b){Vh.i.wk.call(this,a,b);a.K&&a.U();b.K&&(zd(b),b.U(),b.I().style.display="block")};g.kh=function(){Vh.i.kh.call(this);var a=this.H();a&&(a.ed(),a.U(!1),a=this.D(),a.K&&a.U())};g.mo=function(a){return ci(this.nn,this,a)};
g.oi=function(a){Vh.i.oi.call(this,a);var b=this.D();a=a.D();var c=b.K,d=a.K;c&&zd(b);d&&zd(a);c&&d&&(this.type==3||this.type==4?a.U():b.U());if(b=Od(b,a))b=b.isVisible(),a.I().style.display=b?"block":"none"};g.zo=function(){!this.isConnected()||this.J&&cf(this,this.J,!1)==0||(Pd(bf(this)?this.H():this.l),this.l.Ka())};function di(){di.i.constructor.call(this)}I(di,dh);g=di.prototype;g.next=function(){var a=this.Eb;if(!a)return null;(a=ei(this,a,this.wm))&&ch(this,a);return a};g.Hd=function(){return this.next()};g.md=function(){var a=this.Eb;if(!a)return null;(a=fi(this,a,this.wm))&&ch(this,a);return a};g.Pd=function(){return this.md()};function ei(a,b,c){if(!b)return null;var d=b.Hd()||b.next();if(c(d))return d;if(d)return ei(a,d,c);b=gi(a,b.Pd());return c(b)?b:b?ei(a,b,c):null}
function fi(a,b,c){if(!b)return null;var d=b.md();d=d?hi(a,d):b.Pd();return c(d)?d:d?fi(a,d,c):null}g.wm=function(a){var b=!1;a=a&&a.getType();if(a=="output"||a=="input"||a=="field"||a=="next"||a=="previous"||a=="workspace")b=!0;return b};function gi(a,b){if(!b)return null;var c=b.next();return c?c:gi(a,b.Pd())}function hi(a,b){if(!b.Hd())return b;for(b=b.Hd();b.next();)b=b.next();return hi(a,b)}C(Pc,"basicCursor",di);function ii(){ii.i.constructor.call(this)}I(ii,di);ii.prototype.wm=function(a){var b=!1,c=a&&a.getType();a&&(a=a.N,c=="field"&&a&&a.Wn()&&If(a)&&(b=!0));return b};function Q(a,b,c){this.u=y(Xb,{},null);this.u.Dh="";this.style=ji(a.na.C(),null);this.ua=a.na.co(this.u,this.style);this.Zl=this.K=!1;this.j=a;this.F=this.B=this.o=null;this.Hh=ib()&&!!a.Bb;var d=this.ua.Aa;d.cc=this;Se(d);Q.i.constructor.call(this,a,b,c);this.u.dataset?this.u.dataset.id=this.id:Ha&&this.u.setAttribute("data-id",this.id)}I(Q,sf);g=Q.prototype;g.height=0;g.width=0;g.Jj=null;
g.ed=function(){if(!this.j.K)throw TypeError("Workspace is headless.");for(var a=0,b;b=this.v[a];a++)b.init();b=lg(this);for(a=0;a<b.length;a++)ki(b[a]);this.Fa();hg(this.ua,"blocklyDraggable",this.Ya());a=this.I();this.j.options.readOnly||this.rq||!a||u(a,"mousedown",this,this.Od);this.rq=!0;a.parentNode||this.j.sa.appendChild(a)};
g.select=function(){if(this.R&&this.getParent())this.getParent().select();else if(M!=this){var a=null;if(M){a=M.id;D++;try{Pg(M)}finally{D--}}a=new (H("selected"))(a,this.id,this.j.id);E(a);M=this;this.bi()}};function Pg(a){if(M==a){var b=new (H("selected"))(a.id,null,a.j.id);b.Ua=a.j.id;E(b);M=null;a.jh()}}g.yb=null;g.jc=null;g.kp=null;function lg(a){var b=[];a.yb&&b.push(a.yb);a.jc&&b.push(a.jc);a.kp&&b.push(a.kp);return b}
g.xj=function(a){var b=this.Mc;if(a!=b){oc();Q.i.xj.call(this,a);pc();var c=this.I();if(!this.j.dl&&c){var d=this.Z();a?(a.I().appendChild(c),a=this.Z(),rg(this,a.x-d.x,a.y-d.y)):b&&(this.j.sa.appendChild(c),this.translate(d.x,d.y));this.Fa()}}};g.Z=function(){var a=0,b=0,c=this.Hh?this.j.Bb.Dc:null,d=this.I();if(d){do{var e=Xa(d);a+=e.x;b+=e.y;this.Hh&&this.j.Bb.Dc.firstChild==d&&(e=this.j.Bb.Rk(),a+=e.x,b+=e.y);d=d.parentNode}while(d&&d!=this.j.sa&&d!=c)}return new r(a,b)};
g.moveBy=function(a,b){if(this.Mc)throw Error("Block has parent.");var c=D==0;if(c)var d=new (H("move"))(this);var e=this.Z();this.translate(e.x+a,e.y+b);rg(this,a,b);c&&(Nd(d),E(d));Ad(this.j)};g.translate=function(a,b){this.I().setAttribute("transform","translate("+a+","+b+")")};g.moveTo=function(a){var b=this.Z();this.moveBy(a.x-b.x,a.y-b.y)};g.zl=function(a){this.Hh?this.j.Bb.Me(a.x,a.y):(this.u.Dh="translate("+a.x+","+a.y+")",this.u.setAttribute("transform",this.u.Dh+this.u.sh))};
function li(a){if(a.j&&!a.j.Pa()&&!a.getParent()&&!a.Xa){var b=a.j.Vb;if(b&&b.rr){var c=b.pm,d=c/2,e=a.Z();b=Math.round((e.x-d)/c)*c+d-e.x;c=Math.round((e.y-d)/c)*c+d-e.y;b=Math.round(b);c=Math.round(c);b==0&&c==0||a.moveBy(b,c)}}}g.Gg=function(){var a=this.Z(),b=ng(this);if(this.m){var c=a.x-b.width;var d=a.x}else c=a.x,d=a.x+b.width;return new wa(a.y,a.y+b.height,c,d)};g.Rg=function(){this.ua.rg=this.j.na.C();for(var a=0,b;b=this.v[a];a++)b.Rg()};
g.Ee=function(a){this.fe!=a&&(Q.i.Ee.call(this,a),a?this.K&&this.U():mi(this))};function mi(a){for(var b=a.isCollapsed(),c=0,d;d=a.v[c];c++)d.name!="_TEMP_COLLAPSED_INPUT"&&d.ra(!b);if(b){d=lg(a);for(c=0;b=d[c];c++)b.ra(!1);c=a.toString(30);(d=Ed(a,"_TEMP_COLLAPSED_FIELD"))?Id(d,c):(d=L(a,"_TEMP_COLLAPSED_INPUT")||a.Uc(5,"_TEMP_COLLAPSED_INPUT"),zh(d,new xh(c),"_TEMP_COLLAPSED_FIELD"))}else zd(a),a.Mf("_TEMP_COLLAPSED_INPUT")}
g.Od=function(a){var b=this.j&&this.j.Cd(a);if(b){if(b.me)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");Zg(b,this);b.Wb=a}};g.showHelp=function(){var a=typeof this.zf=="function"?this.zf():this.zf;a&&window.open(a)};g.rh=function(a){if(this.j.options.readOnly||!this.contextMenu)var b=null;else b=Th("block",{block:this}),this.nq&&this.nq(b);b&&b.length&&(P.show(a,b,this.m),P.si=this)};
function rg(a,b,c){if(a.K){for(var d=a.oc(!1),e=0;e<d.length;e++)d[e].moveBy(b,c);d=lg(a);for(e=0;e<d.length;e++)ni(d[e]);for(e=0;e<a.Xc.length;e++)rg(a.Xc[e],b,c)}}g.Vd=function(a){if(a){var b=this.I();b.Dh="";b.sh="";hf=hf.concat(this.oc(!0));z(this.u,"blocklyDragging")}else hf=[],kc(this.u,"blocklyDragging");for(b=0;b<this.Xc.length;b++)this.Xc[b].Vd(a)};g.uj=function(a){Q.i.uj.call(this,a);hg(this.ua,"blocklyDraggable",a)};g.im=function(a){Q.i.im.call(this,a);a=lg(this);for(var b=0;b<a.length;b++)a[b].Oe()};
g.lm=function(a){Q.i.lm.call(this,a);this.Fa()};g.To=function(a){this.Ef!=a&&(this.Ef=a)&&(this.Pf(this.j.na.C().Jp),hg(this.ua,"blocklyInsertionMarker",!0))};g.I=function(){return this.u};
g.dispose=function(a,b){if(this.j){Pe=Oe=null;Xe();We(this.ua.Aa);oc();var c=this.j;M==this&&(Pg(this),oi(this.j));P.si==this&&P.lb();if(b&&this.K){Pd(this,a);b=this.j;var d=this.I();b.Pb.play("delete");var e=sg(b,d);d=d.cloneNode(!0);d.Gr=e.x;d.Hr=e.y;d.setAttribute("transform","translate("+e.x+","+e.y+")");B(b).appendChild(d);d.an=d.getBBox();Yf(d,b.m,new Date,b.scale)}this.K=!1;if(this.Jj){for(var f in this.Jj)clearTimeout(this.Jj[f]);this.Jj=null}f=lg(this);for(b=0;b<f.length;b++)f[b].dispose();
Q.i.dispose.call(this,!!a);A(this.u);Ad(c);this.u=null;pc()}};g.Fa=function(){this.ua.Fa(this);for(var a=lg(this),b=0;b<a.length;b++)a[b].Fa();for(a=0;b=this.v[a];a++)for(var c=0,d;d=b.ba[c];c++)d.Fa()};function zd(a){var b=pd(a,!1);a.Fa();if(!a.isCollapsed()){a=0;for(var c;c=b[a];a++)c.K&&zd(c)}}g.wq=function(){return this.jc};
g.Qf=function(a){if(!ka.Comment)throw Error("Missing require for Blockly.Comment");this.kc.text!=a&&(Q.i.Qf.call(this,a),a=a!=null,!!this.jc==a?this.jc.Ms():(a?this.jc=new ka.Comment(this):(this.jc.dispose(),this.jc=null),this.K&&(this.U(),this.Ka())))};g.Uo=function(a){this.yb&&this.yb!==a&&this.yb.dispose();a&&(a.A=this,this.yb=a,ki(a));this.K&&(this.U(),this.Ka())};g.Pc=function(a){this.isEnabled()!=a&&(Q.i.Pc.call(this,a),this.K&&!Fh(this)&&zd(this))};g.vc=function(a){this.K&&this.ua.cp(a)};
g.bi=function(){hg(this.ua,"blocklySelected",!0)};g.jh=function(){hg(this.ua,"blocklySelected",!1)};g.hm=function(a){hg(this.ua,"blocklyDraggingDelete",a)};g.Pk=function(){return this.style.Yc};g.Pf=function(a){Q.i.Pf.call(this,a);a=pi(this.j.na.C(),this.Rb);this.ua.qd(a.style);this.style=a.style;this.Je=a.name;this.Fa()};g.qd=function(a){var b=ji(this.j.na.C(),a);this.Je=a;if(b)this.Gc=b.Gc,this.ua.qd(b),this.Rb=b.Yc,this.style=b,this.Fa();else throw Error("Invalid style name: "+a);};
function mg(a){do{var b=a.I(),c=b.parentNode,d=c.childNodes;d[d.length-1]!==b&&c.appendChild(b);a=a.getParent()}while(a)}g.yj=function(a,b){Q.i.yj.call(this,a,b);this.K&&(this.U(),this.Ka())};g.vj=function(a,b){Q.i.vj.call(this,a,b);this.K&&(this.U(),this.Ka())};g.jm=function(a,b){Q.i.jm.call(this,a,b);this.K&&(this.U(),this.Ka())};g.Ge=function(a){Q.i.Ge.call(this,a);this.K&&(this.U(),this.Ka())};g.Mf=function(a,b){a=Q.i.Mf.call(this,a,b);this.K&&(this.U(),this.Ka());return a};
g.Uc=function(a,b){a=Q.i.Uc.call(this,a,b);this.K&&(this.U(),this.Ka());return a};function yd(a,b){a.F&&Ch(a.F,b);a.o&&Ch(a.o,b);if(a.B){Ch(a.B,b);var c=a.B.H();c&&yd(c,b)}if(!a.fe)for(c=0;c<a.v.length;c++){var d=a.v[c].connection;d&&(Ch(d,b),(d=d.H())&&yd(d,b))}}g.oc=function(a){var b=[];if(a||this.K)if(this.o&&b.push(this.o),this.F&&b.push(this.F),this.B&&b.push(this.B),a||!this.fe){a=0;for(var c;c=this.v[a];a++)c.connection&&b.push(c.connection)}return b};
g.Ti=function(a){return Q.i.Ti.call(this,a)};g.Qk=function(a,b){return Q.i.Qk.call(this,a,b)};g.Qg=function(a){return new Vh(this,a)};g.Ka=function(){if(this.j&&!this.j.Pa()){var a=this.rc();if(!a.Xa)for(var b=this.oc(!1),c=0,d;d=b[c];c++){d.isConnected()&&bf(d)&&d.H().Ka();for(var e=d.mo(28),f=0,h;h=e[f];f++)d.isConnected()&&h.isConnected()||h.D().rc()!=a&&(bf(d)?Yh(h,d):Yh(d,h))}}};
function tg(a){var b=$c;setTimeout(function(){F(b);li(a);F(!1)},125);setTimeout(function(){F(b);a.Ka();F(!1)},250)}g.getParent=function(){return Q.i.getParent.call(this)};g.rc=function(){return Q.i.rc.call(this)};
g.U=function(a){if(!this.Zl){this.Zl=!0;try{this.K=!0;oc();this.isCollapsed()&&mi(this);this.j.na.U(this);var b=this.Z();this.F&&$h(this.F,b);this.o&&$h(this.o,b);for(var c=0;c<this.v.length;c++){var d=this.v[c].connection;d&&($h(d,b),d.isConnected()&&bi(d))}this.B&&($h(this.B,b),this.B.isConnected()&&bi(this.B));if(a!==!1){var e=this.getParent();e?e.U(!0):Ad(this.j)}pc();this.vm()}finally{this.Zl=!1}}};g.vm=function(){this.j.Hf&&this.ua.wg&&this.j.sf().lc();this.j.Hf&&this.ua.ul&&this.j.Ig("local_marker_1").lc()};
g.pd=function(a){this.ua.pd(a)};g.Wd=function(a){this.ua.Wd(a)};function ng(a){var b=a.height,c=a.width,d=ob(a);d&&(d=ng(d),a=a.j.na.C().Nj,b+=d.height-a,c=Math.max(c,d.width));return{height:b,width:c}};function qi(){this.ya=[]}function ri(a,b,c){if(!a.ya.length)return-1;var d=Zh(a,c);if(d>=a.ya.length)return-1;c=b.y;for(var e=d;e>=0&&a.ya[e].y==c;){if(a.ya[e]==b)return e;e--}for(e=d;e<a.ya.length&&a.ya[e].y==c;){if(a.ya[e]==b)return e;e++}return-1}function Zh(a,b){if(!a.ya.length)return 0;for(var c=0,d=a.ya.length;c<d;){var e=Math.floor((c+d)/2);if(a.ya[e].y<b)c=e+1;else if(a.ya[e].y>b)d=e;else{c=e;break}}return c}
function Xh(a,b,c){b=ri(a,b,c);if(b==-1)throw Error("Unable to find connection in connectionDB.");a.ya.splice(b,1)}function ci(a,b,c){function d(m){var p=f-e[m].x,t=h-e[m].y;Math.sqrt(p*p+t*t)<=c&&l.push(e[m]);return t<c}var e=a.ya,f=b.x,h=b.y;a=0;for(var k=b=e.length-2;a<k;)e[k].y<h?a=k:b=k,k=Math.floor((a+b)/2);var l=[];b=a=k;if(e.length){for(;a>=0&&d(a);)a--;do b++;while(b<e.length&&d(b))}return l};function si(a,b){si.i.constructor.call(this,b);this.$o=a}I(si,Rd);si.prototype.type="theme_change";si.prototype.P=function(){var a=si.i.P.call(this);a.themeName=this.$o;return a};si.prototype.M=function(a){si.i.M.call(this,a);this.$o=a.themeName};C(Qc,"theme_change",si);function ti(a,b,c,d,e){ti.i.constructor.call(this,d);this.ec=a;this.dc=b;this.scale=c;this.$g=e}I(ti,Rd);ti.prototype.type="viewport_change";ti.prototype.P=function(){var a=ti.i.P.call(this);a.viewTop=this.ec;a.viewLeft=this.dc;a.scale=this.scale;a.oldScale=this.$g;return a};ti.prototype.M=function(a){ti.i.M.call(this,a);this.ec=a.viewTop;this.dc=a.viewLeft;this.scale=a.scale;this.$g=a.oldScale};C(Qc,"viewport_change",ti);function ui(a){this.g=a}function vi(a){var b=0,c=0;a&&(b=a.Ed(),c=a.kb);return new Da(b,c)}function wi(a){var b=vi(xi(a.g,!0));return{width:b.width,height:b.height,position:a.g.Ab}}function yi(a){var b=vi(a.g.oa);return{width:b.width,height:b.height,position:a.g.Ab}}function zi(a){var b=0,c=yi(a),d=wi(a),e=!!a.g.oa;a=!!xi(a.g,!0);var f=(e?c.position:d.position)==2;e&&f?b=c.width:a&&f&&(b=d.width);return{top:0,left:b}}
function Hg(a,b){b=b?a.g.scale:1;var c=Ai(a.g),d=yi(a),e=wi(a),f=a.g.oa?d.position:e.position;if(a.g.oa){if(f==2||f==3)c.width-=d.width}else!xi(a.g,!0)||f!=2&&f!=3||(c.width-=e.width);return{height:c.height/b,width:c.width/b,top:-a.g.scrollY/b,left:-a.g.scrollX/b}}
ui.prototype.Gi=function(){var a=this.g.scale;var b=[].concat(this.g.Ch);if(b.length){for(var c=b[0].Gg(),d=1;d<b.length;d++){var e=b[d];e.xb&&e.xb()||(e=e.Gg(),e.top<c.top&&(c.top=e.top),e.bottom>c.bottom&&(c.bottom=e.bottom),e.left<c.left&&(c.left=e.left),e.right>c.right&&(c.right=e.right))}b=c}else b=new wa(0,0,0,0);return{height:(b.bottom-b.top)*a,width:(b.right-b.left)*a,top:b.top*a,left:b.left*a}};
ui.prototype.Dd=function(a,b,c){a=a?this.g.scale:1;var d=b||Hg(this,!1);c=c||this.Gi();if(Ng(this.g)&&Og(this.g))b={};else{b=Ng(this.g);var e=Og(this.g),f=d||Hg(this,!1);var h={};e||(h.top=f.top,h.bottom=f.top+f.height);b||(h.left=f.left,h.right=f.left+f.width);b=h}h=c.top+c.height;e=c.left+c.width;f=d.width;var k=d.height;var l=f/2,m=k/2;d=Math.min(c.top-m,h-k);h=Math.max(h+m,c.top+k);k=Math.min(c.left-l,e-f);c=Math.max(e+l,c.left+f);d=b.top!==void 0?b.top:d;e=b.left!==void 0?b.left:k;return{top:d/
a,left:e/a,width:((b.right!==void 0?b.right:c)-e)/a,height:((b.bottom!==void 0?b.bottom:h)-d)/a}};ui.prototype.qc=function(){var a=yi(this),b=wi(this),c=Ai(this.g),d=zi(this),e=Hg(this),f=this.Gi(),h=this.Dd(!1,e,f);return{qs:f.height,ts:f.width,ss:f.top,rs:f.left,scrollHeight:h.height,scrollWidth:h.width,scrollTop:h.top,scrollLeft:h.left,rb:e.height,cb:e.width,ec:e.top,dc:e.left,sb:d.top,gb:d.left,Hs:c.height,Is:c.width,Ls:a.width,Ks:a.height,Ab:a.position,ws:b.width,vs:b.height}};
C(Wc,"default",ui);function Bi(a,b){this.O=b;Bi.i.constructor.call(this,a)}I(Bi,ui);Bi.prototype.Gi=function(){try{var a=this.g.sa.getBBox()}catch(c){a={height:0,y:0,width:0,x:0}}var b=this.g.scale;return{height:a.height*b,width:a.width*b,top:a.y*b,left:a.x*b}};Bi.prototype.Dd=function(a,b,c){b=c||this.Gi();c=this.O.Ye*this.g.scale;a=a?this.g.scale:1;return{height:(b.height+2*c)/a,width:(b.width+b.left+c)/a,top:0,left:0}};function Ci(a){var b=de;this.g=a;this.Ah=b;this.wh=[];this.xd=Object.create(null)}g=Ci.prototype;g.cd=function(){return this.Ah};g.qh=function(a){var b=this.Ah;this.Ah=a;if(a=Di(this.g))b&&kc(a,b.nc()),z(a,this.Ah.nc());for(b=0;a=this.wh[b];b++)Ei(a);He()};g.subscribe=function(a,b,c){this.xd[b]||(this.xd[b]=[]);this.xd[b].push({element:a,propertyName:c});a.style[c]=""};
g.unsubscribe=function(a){if(a)for(var b=Object.keys(this.xd),c=0,d;d=b[c];c++){for(var e=this.xd[d],f=e.length-1;f>=0;f--)e[f].element===a&&e.splice(f,1);this.xd[d].length||delete this.xd[d]}};g.dispose=function(){this.xd=this.wh=this.Ah=null};function Fi(a,b){Fi.i.constructor.call(this,a,b);this.Ri=!1;this.Cb=Object.create(null);this.Wo=this.gh=0;this.Un=this.Ml=null}I(Fi,Qg);g=Fi.prototype;g.xk=function(a){this.Un=this.Da.options.va&&this.Da.options.va.Fo;Fi.i.xk.call(this,a);!this.Oi&&Ab(a)&&Gi(this,a)};g.cn=function(a){this.Ml=u(document,"mousedown",null,this.Fq.bind(this),!0);this.ij=u(document,"mousemove",null,this.xf.bind(this),!0);this.jj=u(document,"mouseup",null,this.Ji.bind(this),!0);a.preventDefault();a.stopPropagation()};
g.Fq=function(a){!this.Pa()&&Ab(a)&&(Gi(this,a),this.Ri&&vb())};g.xf=function(a){if(this.Pa())zb(a)&&!yb(a)||Fi.i.xf.call(this,a);else if(this.Ri){if(Ab(a)){this.Cb[xb(a)]=Hi(this,a);var b=Object.keys(this.Cb);if(this.Un&&b.length===2){b=Object.keys(this.Cb);b=ta(this.Cb[b[0]],this.Cb[b[1]])/this.Wo;if(this.gh>0&&this.gh<Infinity){var c=b-this.gh;c=c>0?c*5:c*6;var d=this.Da,e=bb(a,B(d),Ee(d));d.zoom(e.x,e.y,c)}this.gh=b;a.preventDefault()}else Fi.i.xf.call(this,a)}vb()}else Fi.i.xf.call(this,a)};
g.Ji=function(a){if(Ab(a)&&!this.Pa()){var b=xb(a);this.Cb[b]&&delete this.Cb[b];Object.keys(this.Cb).length<2&&(this.Cb=Object.create(null),this.gh=0)}!this.Ri||this.Pa()?zb(a)&&!yb(a)||Fi.i.Ji.call(this,a):(a.preventDefault(),a.stopPropagation(),this.dispose())};g.dispose=function(){Fi.i.dispose.call(this);this.Ml&&v(this.Ml)};function Gi(a,b){a.Cb[xb(b)]=Hi(a,b);var c=Object.keys(a.Cb);c.length==2&&(a.Wo=ta(a.Cb[c[0]],a.Cb[c[1]]),a.Ri=!0,b.preventDefault())}
function Hi(a,b){return a.Da?new r(b.changedTouches?b.changedTouches[0].pageX:b.pageX,b.changedTouches?b.changedTouches[0].pageY:b.pageY):null};function Ii(a){this.Rl=a;this.hg=Object.create(null)}g=Ii.prototype;g.jl=null;g.dispose=function(){this.hg=this.Rl=null};g.load=function(a,b){if(a.length){try{var c=new n.Audio}catch(k){return}for(var d,e=0;e<a.length;e++){var f=a[e],h=f.match(/\.(\w+)$/);if(h&&c.canPlayType("audio/"+h[1])){d=new n.Audio(f);break}}d&&d.play&&(this.hg[b]=d)}};g.preload=function(){for(var a in this.hg){var b=this.hg[a];b.volume=.01;var c=b.play();c!==void 0?c.then(b.pause).catch(function(){}):b.pause();if(Oa||Qa)break}};
g.play=function(a,b){var c=this.hg[a];c?(a=new Date,this.jl!=null&&a-this.jl<100||(this.jl=a,c=Oa||Na?c:c.cloneNode(),c.volume=b===void 0?1:b,c.play())):this.Rl&&this.Rl.Pb.play(a,b)};
function Ji(a,b,c){Ji.i.constructor.call(this,a);this.qb=new (Zc(Wc,a,!0))(this);this.qc=a.qc||this.qb.qc.bind(this.qb);this.nh=a.nh||Ki;this.Zc=new Db;var d=[];d[1]=new qi;d[2]=new qi;d[3]=new qi;d[4]=new qi;this.ri=d;b&&(this.Bb=b);c&&(this.Re=c);this.Ij=!!this.Re&&ib();this.Ki=[];this.Pb=new Ii(a.$a);this.Vb=this.options.Uk?new ae(this.options.Uk,a.Gn):null;this.tc=new eh(this);this.sm=Object.create(null);this.Bn=Object.create(null);Li&&Mi&&Ni(this,"VARIABLE",Mi);Oi&&Pi&&(Ni(this,"PROCEDURE",Pi),
wf(this,Qi));this.Ta=this.options.$a?this.options.$a.Ta:new Ci(this);this.Ta.wh.push(this);c=this.options.qj||"geras";a=this.cd();b=this.options.rj;c=new (Yc(Sc,c))(c);c.init(a,b);this.na=c;this.gk=null;this.Hf=!1;this.Ch=[];this.yk=[];this.fk=new Da(0,0)}I(Ji,wd);g=Ji.prototype;g.sj=null;g.K=!0;g.hd=!0;g.Id=!1;g.Pg=!1;g.bm=!0;g.scrollX=0;g.scrollY=0;g.vn=null;g.scale=1;g.El=1;g.wo=0;g.so=0;g.Wf=null;g.W=null;g.O=null;g.oa=null;g.Va=null;g.Bb=null;g.Re=null;g.Ij=!1;g.Ni=!1;g.bl=null;g.Zn=null;
g.S=null;g.Tn=null;g.cl=!0;g.pd=function(a){this.tc.pd(a)};g.Wd=function(a){this.tc.Wd(a)};g.Ig=function(a){return this.tc?this.tc.Ig(a):null};g.sf=function(){return this.tc?this.tc.sf():null};g.cd=function(){return this.Ta.cd()};g.qh=function(a){a||(a=de);this.Ta.qh(a)};function Ei(a){a.u&&a.na.Yl(a.u,a.cd());Ri(kf(a).filter(function(b){return!!b.Je}));Si(a);a.oa&&Ei(a.oa);a.isVisible()&&a.ra(!0);a=new (H("theme_change"))(a.cd().name,a.id);E(a)}
function Ri(a){for(var b=0,c;c=a[b];b++){var d=c.Je;if(d&&(c.qd(d),c.yb)){var e=c.yb.g;if(e&&kf(e)){var f=kf(e);for(d=0;c=f[d];d++)c.qd(c.Je);if(c=xi(e))for(e=kf(c.g),d=0;c=e[d];d++)c.qd(c.Je)}}}}function Ee(a){if(a.cl){var b=B(a).getScreenCTM();b&&(a.Tn=b.inverse(),a.cl=!1)}return a.Tn}g.Gh=function(){this.cl=!0};g.isVisible=function(){return this.hd};
function sg(a,b){var c=0,d=0,e=1;if(a.sa.contains(b)||a.sd.contains(b))e=a.scale;do{var f=Xa(b);if(b==a.sa||b==a.sd)e=1;c+=f.x*e;d+=f.y*e;b=b.parentNode}while(b&&b!=B(a));return new r(c,d)}function Ai(a){a=a.fk;return new Da(a.width,a.height)}function Di(a){if(!a.bl)for(var b=a.u;b;){if((" "+(b.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")!=-1){a.bl=b;break}b=b.parentNode}return a.bl}
g.wa=function(a){this.u=y(Xb,{"class":"blocklyWorkspace"},null);a&&(this.Qa=y(cc,{height:"100%",width:"100%","class":a},this.u),a=="blocklyMainBackground"&&this.Vb?this.Qa.style.fill="url(#"+this.Vb.wf.id+")":this.Ta.subscribe(this.Qa,"workspaceBackgroundColour","fill"));this.sa=y(Xb,{"class":"blocklyBlockCanvas"},this.u);this.sd=y(Xb,{"class":"blocklyBubbleCanvas"},this.u);this.Id||(u(this.u,"mousedown",this,this.Od,!1,!0),u(this.u,"wheel",this,this.cr));this.options.Hn&&(this.oa=new (Zc(Tc,this.options,
!0))(this));this.Vb&&this.Vb.update(this.scale);Ti(this);var b=Zc(Pc,this.options);b&&(a=this.tc,b=new b,a.Sb&&a.Sb.Tb&&a.Sb.Tb.dispose(),a.Sb=b,a.Sb&&(b=a.Sb,b=new Ui(a.g,a.g.na.C(),b),a.Sb.Tb=b,a.pd(a.Sb.Tb.wa())));this.na.wa(this.u,this.cd());return this.u};
g.dispose=function(){this.K=!1;this.Va&&this.Va.cancel();this.u&&(A(this.u),this.u=null);this.sd=this.sa=null;this.oa&&(this.oa.dispose(),this.oa=null);this.O&&(this.O.dispose(),this.O=null);this.Wf&&(this.Wf.dispose(),this.Wf=null);this.W&&(this.W.dispose(),this.W=null);this.Mh&&(this.Mh.dispose(),this.Mh=null);this.Pb&&(this.Pb.dispose(),this.Pb=null);this.Vb&&(this.Vb.dispose(),this.Vb=null);this.na.dispose();this.tc&&(this.tc.dispose(),this.tc=null);Ji.i.dispose.call(this);if(this.Ta){var a=this.Ta,
b=a.wh.indexOf(this);if(b<0)throw Error("Cannot unsubscribe a workspace that hasn't been subscribed.");a.wh.splice(b,1);this.Ta.unsubscribe(this.Qa);this.options.$a||(this.Ta.dispose(),this.Ta=null)}this.Bn=this.sm=this.ri=null;this.options.$a||(a=B(this))&&a.parentNode&&A(a.parentNode);this.sj&&(v(this.sj),this.sj=null)};g.If=function(a,b){return new Q(this,a,b)};
function Vi(a,b){var c=new ke({parentWorkspace:a,rtl:a.m,oneBasedIndex:a.options.kj,renderer:a.options.qj,rendererOverrides:a.options.rj,move:{scrollbars:!0}});c.Ab=a.options.Ab;a.O=new (Zc(Vc,a.options,!0))(c);a.O.ee=!1;a.O.g.ra(!0);return a.O.wa(b)}function xi(a,b){return a.O||b?a.O:a.oa?xi(a.oa):null}function Ad(a){a.bm&&a.K&&(a.W&&a.W.resize(),a.Gh())}
g.resize=function(){this.oa&&this.oa.position();this.O&&this.O.position();var a=Jb(this.Zc,Lb);var b=this.qb;b={jp:Hg(b),Wj:zi(b),Dr:yi(b)};for(var c=[],d=0,e;e=a[d];d++)e.position(b,c),(e=e.Gg())&&c.push(e);this.W&&this.W.resize();this.Gh();Ti(this)};function Tg(a){var b=document.documentElement;var c=window;b=Ha&&c.pageYOffset!=b.scrollTop?new r(b.scrollLeft,b.scrollTop):new r(c.pageXOffset||b.scrollLeft,c.pageYOffset||b.scrollTop);sa(a.Zn,b)||(a.Zn=b,a.Gh(),Ti(a))}
function Wi(a,b,c){B(a);b&&(a.fk.width=b);c&&(a.fk.height=c)}function B(a){if(!a.gk)for(var b=a.u;b;){if(b.tagName=="svg"){a.gk=b;break}b=b.parentNode}return a.gk}function oe(a){if(D==0){var b=a.scale,c=-a.scrollY,d=-a.scrollX;if(!(b==a.El&&Math.abs(c-a.wo)<1&&Math.abs(d-a.so)<1)){var e=new (H("viewport_change"))(c,d,b,a.id,a.El);a.El=b;a.wo=c;a.so=d;E(e)}}}
g.translate=function(a,b){if(this.Ij&&this.Ni)this.Re.Me(a,b);else{var c="translate("+a+","+b+") scale("+this.scale+")";this.sa.setAttribute("transform",c);this.sd.setAttribute("transform",c)}if(this.Bb){c=this.Bb;var d=this.scale;c.Ud=d;var e=a.toFixed(0),f=b.toFixed(0);c.hn.x=parseInt(e,10);c.hn.y=parseInt(f,10);c.Dc.setAttribute("transform","translate("+e+","+f+") scale("+d+")")}this.Vb&&this.Vb.moveTo(a,b);oe(this)};
function Ge(a){if(a.Ij){a.Ni=!1;var b=a.Re.Rk();a.Re.ji(a.u);b="translate("+b.x+","+b.y+") scale("+a.scale+")";a.sa.setAttribute("transform",b);a.sd.setAttribute("transform",b)}}
function Fe(a){if(a.Ij&&!a.Ni){a.Ni=!0;var b=a.sa.previousSibling,c=parseInt(B(a).getAttribute("width"),10),d=parseInt(B(a).getAttribute("height"),10),e=Xa(a.sa),f=a.Re,h=a.sa,k=a.sd,l=a.scale;if(f.ea.childNodes.length)throw Error("Already dragging a block.");f.Wl=b;h.setAttribute("transform","translate(0, 0) scale("+l+")");k.setAttribute("transform","translate(0, 0) scale("+l+")");f.ea.setAttribute("width",c);f.ea.setAttribute("height",d);f.ea.appendChild(h);f.ea.appendChild(k);f.ea.style.display=
"block";a.Re.Me(e.x,e.y)}}g.Ed=function(){var a=this.qc();return a?a.cb/this.scale:0};g.ra=function(a){this.hd=a;if(this.u)if(this.W&&this.W.Fe(a),xi(this)&&xi(this).Fe(a),B(this).style.display=a?"block":"none",this.oa&&this.oa.ra(a),a){a=kf(this);for(var b=a.length-1;b>=0;b--)a[b].Rg();this.U();this.oa&&this.oa.position()}else He(!0)};g.U=function(){for(var a=kf(this),b=a.length-1;b>=0;b--)a[b].U(!1);if(this.Va)for(a=this.Va.tf(),b=0;b<a.length;b++)a[b].U(!1);b=this.tc;b.g.Hf&&b.$c&&b.g.sf().lc()};
function Xi(a){for(var b=K,c=0,d;d=b.Ki[c];c++)d.vc(!1);b.Ki.length=0;if(d=a?b.Hb(a):null)b.Ki.indexOf(d)==-1&&b.Ki.push(d),d.vc(!0)}
function Yi(a){var b=Zi;if(a.K&&b.tagName&&!(b.getElementsByTagName("block").length>=(isNaN(a.options.Tg)?Infinity:a.options.Tg-kf(a).length)))if(a.Va&&a.Va.cancel(),b.tagName.toLowerCase()=="comment"){D++;try{var c=ka.os.Nk(b),d=parseInt(b.getAttribute("x"),10),e=parseInt(b.getAttribute("y"),10);isNaN(d)||isNaN(e)||(a.m&&(d=-d),c.moveBy(d+50,e+50))}finally{D--}D==0&&ka.ns.us(c);c.select()}else{D++;try{var f=vd(b,a),h=parseInt(b.getAttribute("x"),10),k=parseInt(b.getAttribute("y"),10);if(!isNaN(h)&&
!isNaN(k)){a.m&&(h=-h);do{b=!1;var l=kf(a);c=0;for(var m;m=l[c];c++){var p=m.Z();if(Math.abs(h-p.x)<=1&&Math.abs(k-p.y)<=1){b=!0;break}}if(!b){var t=f.oc(!1);c=0;for(var x;x=t[c];c++)if(x.closest(28,new r(h,k)).connection){b=!0;break}}b&&(h=a.m?h-28:h+28,k+=56)}while(b);f.moveBy(h,k)}}finally{D--}D==0&&!f.R&&E(new (H("create"))(f));f.select()}}function Si(a){(a=a.Id?a.S:a)&&!a.Va&&a.oa&&xi(a.oa)&&a.oa.Fs()}g.Nf=function(a,b){Ji.i.Nf.call(this,a,b);Si(this)};g.nf=function(a){Ji.i.nf.call(this,a);Si(this)};
g.Bd=function(a,b,c){a=Ji.i.Bd.call(this,a,b,c);Si(this);return a};function Ti(a){var b=Jb(a.Zc,Mb);a.yk=[];for(var c=0,d;d=b[c];c++){var e=d.getClientRect();e&&a.yk.push({component:d,hq:e})}}function pg(a,b){for(var c=0,d;d=a.yk[c];c++)if(d.hq.contains(b.clientX,b.clientY))return d.component;return null}g.Od=function(a){var b=this.Cd(a);b&&Xg(b,a,this)};g.uh=function(a,b){a=bb(a,B(this),Ee(this));a.x/=this.scale;a.y/=this.scale;this.vn=ua(b,a)};g.Pa=function(){return this.Va!=null&&this.Va.Pa()};
g.Ya=function(){return this.options.Za&&!!this.options.Za.scrollbars||this.options.Za&&this.options.Za.Xf||this.options.Za&&this.options.Za.bd||this.options.va&&this.options.va.Xf||this.options.va&&this.options.va.Fo};function Ng(a){var b=!!a.W;return a.Ya()&&(!b||b&&!!a.W.ga)}function Og(a){var b=!!a.W;return a.Ya()&&(!b||b&&!!a.W.X)}
g.cr=function(a){if(ah())a.preventDefault(),a.stopPropagation();else{var b=this.options.va&&this.options.va.Xf,c=this.options.Za&&this.options.Za.Xf;if(b||c){var d=cb(a);!b||!a.ctrlKey&&c?(b=this.scrollX-d.x,c=this.scrollY-d.y,a.shiftKey&&!d.x&&(b=this.scrollX-d.y,c=this.scrollY),this.scroll(b,c)):(d=-d.y/50,b=bb(a,B(this),Ee(this)),this.zoom(b.x,b.y,d));a.preventDefault()}}};g.rh=function(a){if(!this.options.readOnly&&!this.Id){var b=Th("workspace",{j:this});this.kq&&this.kq(b,a);P.show(a,b,this.m)}};
function Lc(a){if(a.options.$a)Lc(a.options.$a);else{Fc=a;document.activeElement&&document.activeElement.blur&&document.activeElement.blur();try{B(a).focus({preventScroll:!0})}catch(b){try{B(a).parentNode.setActive()}catch(c){B(a).parentNode.focus({preventScroll:!0})}}}}
g.zoom=function(a,b,c){c=Math.pow(this.options.va.mr,c);var d=this.scale*c;if(this.scale!=d){d>this.options.va.Ug?c=this.options.va.Ug/this.scale:d<this.options.va.Xg&&(c=this.options.va.Xg/this.scale);var e=this.sa.getCTM(),f=B(this).createSVGPoint();f.x=a;f.y=b;f=f.matrixTransform(e.inverse());a=f.x;b=f.y;e=e.translate(a*(1-c),b*(1-c)).scale(c);this.scrollX=e.e;this.scrollY=e.f;this.setScale(d)}};
g.setScale=function(a){this.options.va.Ug&&a>this.options.va.Ug?a=this.options.va.Ug:this.options.va.Xg&&a<this.options.va.Xg&&(a=this.options.va.Xg);this.scale=a;He(!1);this.O&&(this.O.Xl(),Ti(this));this.Vb&&this.Vb.update(this.scale);a=this.qc();this.scrollX-=a.gb;this.scrollY-=a.sb;a.dc+=a.gb;a.ec+=a.sb;this.scroll(this.scrollX,this.scrollY);if(this.W)if(this.O){var b=this.W;b.ga&&ze(b.ga,a);b.X&&Be(b.X,a)}else b=this.W,b.ga&&Ae(b.ga,a),b.X&&Ce(b.X,a)};
function $i(a){return a.options.$a?$i(a.options.$a):a.scale}g.scroll=function(a,b){He(!0);var c=this.qc();a=Math.min(a,-c.scrollLeft);b=Math.min(b,-c.scrollTop);var d=c.scrollTop+Math.max(0,c.scrollHeight-c.rb);a=Math.max(a,-(c.scrollLeft+Math.max(0,c.scrollWidth-c.cb)));b=Math.max(b,-d);this.scrollX=a;this.scrollY=b;this.W&&this.W.set(-(a+c.scrollLeft),-(b+c.scrollTop),!1);a+=c.gb;b+=c.sb;this.translate(a,b)};
function Ki(a){var b=this.qc();typeof a.x=="number"&&(this.scrollX=-(b.scrollLeft+(b.scrollWidth-b.cb)*a.x));typeof a.y=="number"&&(this.scrollY=-(b.scrollTop+(b.scrollHeight-b.rb)*a.y));this.translate(this.scrollX+b.gb,this.scrollY+b.sb)}g.Hb=function(a){return Ji.i.Hb.call(this,a)};g.qa=function(a){return Ji.i.qa.call(this,a)};g.ci=function(a){this.Ch.push(a);Ji.i.ci.call(this,a)};g.pj=function(a){lb(this.Ch,a);Ji.i.pj.call(this,a)};g.bb=function(a){var b=!this.bm&&a;this.bm=a;b&&Ad(this)};
g.clear=function(){this.bb(!1);Ji.i.clear.call(this);this.Ch=[];this.bb(!0)};function aj(a,b){if(typeof b!="function")throw TypeError("Button callbacks must be functions.");a.Bn.CREATE_VARIABLE=b}function Ni(a,b,c){if(typeof c!="function")throw TypeError("Toolbox category callbacks must be functions.");a.sm[b]=c}
g.Cd=function(a){var b=a.type=="mousedown"||a.type=="touchstart"||a.type=="pointerdown",c=this.Va;return c?b&&c.me?(console.warn("Tried to start the same gesture twice."),c.cancel(),null):c:b?this.Va=new Fi(a,this):null};function oi(a){a.Va&&a.Va.cancel()};function bj(a){var b="blockly";typeof b=="string"&&(b=document.getElementById(b)||document.querySelector(b));if(!document.contains(b))throw Error("Error: container is not in current document");a=new ke(a||{});var c=document.createElement("div");c.className="injectionDiv";c.tabIndex=0;Ze(c,"label",q.WORKSPACE_ARIA_LABEL);b.appendChild(c);b=cj(c,a);var d=new Xd(c),e=new yf(c),f=dj(b,a,d,e);ej(f);Fc=f;fj(f);c.addEventListener("focusin",function(){Fc=f});return f}
function cj(a,b){a.setAttribute("dir","LTR");var c=b.Gq,d=b.dh;if(!Zd){Zd=!0;var e=$d.join("\n");$d.length=0;c&&(c=d.replace(/[\\/]$/,""),e=e.replace(/<<<PATH>>>/g,c),c=document.createElement("style"),c.id="blockly-common-style",c.appendChild(document.createTextNode(e)),document.head.insertBefore(c,document.head.firstChild))}a=y(dc,{xmlns:"http://www.w3.org/2000/svg","xmlns:html":"http://www.w3.org/1999/xhtml","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1","class":"blocklySvg",tabindex:"0"},
a);c=y(Rb,{},a);e=b.Gn;c=y(ac,{id:"blocklyGridPattern"+String(Math.random()).substring(2),patternUnits:"userSpaceOnUse"},c);e.length>0&&e.spacing>0?(y(Zb,{stroke:e.colour},c),e.length>1&&y(Zb,{stroke:e.colour},c)):y(Zb,{},c);b.Uk=c;return a}
function dj(a,b,c,d){b.$a=null;b=new Ji(b,c,d);c=b.options;b.scale=c.va.yr;a.appendChild(b.wa("blocklyMainBackground"));z(Di(b),b.na.nc());z(Di(b),b.cd().nc());!c.Hn&&c.jd&&(d=Vi(b,dc),mc(d,a));if(c.Kn){if(!gj)throw Error("Missing require for Blockly.Trashcan");b.Wf=new gj(b);d=b.Wf.wa();b.u.insertBefore(d,b.sa)}if(c.va&&c.va.controls){if(!ka.bq)throw Error("Missing require for Blockly.ZoomControls");b.Mh=new ka.bq(b);c=b.Mh.wa();b.u.appendChild(c)}b.Ta.subscribe(a,"workspaceBackgroundColour","background-color");
b.translate(0,0);wf(b,hj(b));fj(b);fh||(fh=document.createElement("div"),fh.className="blocklyWidgetDiv",(Cc||document.body).appendChild(fh));Bc();Qe||(Qe=document.createElement("div"),Qe.className="blocklyTooltipDiv",(Cc||document.body).appendChild(Qe));return b}function ij(a){var b=a.qb;if(!(Ng(b.g)&&Og(b.g)||a.Pa())){b=b.Dd(!0);for(var c=[].concat(a.Ch),d=0,e;e=c[d];d++)ug(a,b,e)}}
function hj(a){return function(b){var c=a.qb;if(!(Ng(c.g)&&Og(c.g)||a.Pa()))if(bd.indexOf(b.type)!==-1){c=c.Dd(!0);var d=null;switch(b.type){case "create":case "move":(d=a.Hb(b.Y))&&(d=d.rc())}if(d){var e=$c;F(b.group);ug(a,c,d)&&!b.group&&console.warn("Moved object in bounds but there was no event group. This may break undo.");e!==null&&F(e)}}else b.type==="viewport_change"&&b.scale>b.$g&&ij(a)}}
function ug(a,b,c){var d=c.Gg(),e=rc(b.top,d.top,b.top+b.height-(d.bottom-d.top))-d.top,f=b.left;b=b.left+b.width-(d.right-d.left);a.m?f=Math.min(b,f):b=Math.max(f,b);return(a=rc(f,d.left,b)-d.left)||e?(c.moveBy(a,e),!0):!1}
function ej(a){var b=a.options,c=B(a);u(c.parentNode,"contextmenu",null,function(e){Wa(e)||e.preventDefault()});c=u(window,"resize",null,function(){He(!0);fj(a);ij(a)});a.sj=c;jj();if(b.jd){c=a.oa;var d=xi(a,!0);c?c.init():d&&(d.init(a),d.show(b.jd),typeof d.Ro=="function"&&d.Ro())}b.Kn&&a.Wf.init();b.va&&b.va.controls&&a.Mh.init();b.Za&&b.Za.scrollbars?(a.W=new le(a,b.Za.scrollbars===!0||!!b.Za.scrollbars.Yk,b.Za.scrollbars===!0||!!b.Za.scrollbars.vertical,"blocklyMainWorkspaceScrollbar"),a.W.resize()):
a.nh({x:.5,y:.5});b.Iq&&kj(b.dh,a)}function jj(){la||(u(document,"scroll",null,function(){for(var a=xf(),b=0,c;c=a[b];b++)c.Gh&&c.Gh()}),u(document,"keydown",null,lj),Cb(document,"touchend",null,vb),Cb(document,"touchcancel",null,vb),Oa&&u(window,"orientationchange",document,function(){fj(Fc)}));la=!0}
function kj(a,b){function c(){for(;e.length;)v(e.pop());d.preload()}var d=b.Pb;d.load([a+"click.mp3",a+"click.wav",a+"click.ogg"],"click");d.load([a+"disconnect.wav",a+"disconnect.mp3",a+"disconnect.ogg"],"disconnect");d.load([a+"delete.mp3",a+"delete.ogg",a+"delete.wav"],"delete");var e=[];e.push(u(document,"mousemove",null,c,!0));e.push(u(document,"touchstart",null,c,!0))};function mj(a){this.hp="";this.Po=Object.create(null);if(a){a=a.split(",");for(var b=0;b<a.length;b++)this.Po[a[b]]=!0}this.reset()}mj.prototype.reset=function(){this.Cc=Object.create(null);this.on=Object.create(null);this.aa=null};mj.prototype.nm=function(a){this.aa=a};
mj.prototype.getName=function(a,b){var c=a;b=="VARIABLE"&&(this.aa?a=(a=this.aa.vf(a))?a.name:null:(console.warn("Deprecated call to Blockly.Names.prototype.getName without defining a variable map. To fix, add the following code in your generator's init() function:\nBlockly.YourGeneratorName.nameDB_.setVariableMap(workspace.getVariableMap());"),a=null),a&&(c=a));a=c.toLowerCase();var d=b=="VARIABLE"||b=="DEVELOPER_VARIABLE"?this.hp:"";b in this.Cc||(this.Cc[b]=Object.create(null));var e=this.Cc[b];
if(a in e)return d+e[a];c?(c=encodeURI(c.replace(/ /g,"_")).replace(/[^\w]/g,"_"),"0123456789".indexOf(c[0])!=-1&&(c="my_"+c)):c=q.UNNAMED_KEY||"unnamed";for(var f="";this.on[c+f]||c+f in this.Po;)f=f?f+1:2;c+=f;this.on[c]=!0;b=(b=="VARIABLE"||b=="DEVELOPER_VARIABLE"?this.hp:"")+c;e[a]=b.substr(d.length);return b};var Oi={};function nj(a){var b=rf(a,"procedures_defnoreturn").map(function(c){return c.yq()});a=rf(a,"procedures_defreturn").map(function(c){return c.yq()});b.sort(oj);a.sort(oj);return[b,a]}function oj(a,b){return a[0].localeCompare(b[0],void 0,{sensitivity:"base"})}
function Pi(a){function b(f,h){for(var k=0;k<f.length;k++){var l=f[k][0],m=f[k][1],p=J("block");p.setAttribute("type",h);p.setAttribute("gap",16);var t=J("mutation");t.setAttribute("name",l);p.appendChild(t);for(l=0;l<m.length;l++){var x=J("arg");x.setAttribute("name",m[l]);t.appendChild(x)}c.push(p)}}var c=[];if(Jf.procedures_defnoreturn){var d=J("block");d.setAttribute("type","procedures_defnoreturn");d.setAttribute("gap",16);var e=J("field");e.setAttribute("name","NAME");e.appendChild(document.createTextNode(q.PROCEDURES_DEFNORETURN_PROCEDURE));
d.appendChild(e);c.push(d)}Jf.procedures_defreturn&&(d=J("block"),d.setAttribute("type","procedures_defreturn"),d.setAttribute("gap",16),e=J("field"),e.setAttribute("name","NAME"),e.appendChild(document.createTextNode(q.PROCEDURES_DEFRETURN_PROCEDURE)),d.appendChild(e),c.push(d));Jf.procedures_ifreturn&&(d=J("block"),d.setAttribute("type","procedures_ifreturn"),d.setAttribute("gap",16),c.push(d));c.length&&c[c.length-1].setAttribute("gap",24);a=nj(a);b(a[0],"procedures_callnoreturn");b(a[1],"procedures_callreturn");
return c}
function pj(a){for(var b=[],c=rf(a,"procedures_mutatorarg"),d=0,e;e=c[d];d++)b.push(nf(e,"NAME"));c=J("xml");d=J("block");d.setAttribute("type","procedures_mutatorarg");e=J("field");e.setAttribute("name","NAME");a:if(b.length){for(var f="",h=14,k="x";;){for(var l=!1,m=0;m<b.length;m++)if(b[m].toLowerCase()==k){l=!0;break}if(!l){b=k;break a}h++;h==25&&(h=0,f=Number(f)+1);k="ijkmnopqrstuvwxyzabcdefgh".charAt(h)+f}b=void 0}else b="x";e.appendChild(document.createTextNode(b));d.appendChild(e);c.appendChild(d);
if(b=ee(c)){if(!a.options.jd)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(je(b)){if(!a.oa)throw Error("Existing toolbox has no categories.  Can't change mode.");a.options.jd=b;a.oa.U(b)}else{if(!a.O)throw Error("Existing toolbox has categories.  Can't change mode.");a.options.jd=b;a.O.show(b)}}else if(a.options.jd)throw Error("Can't nullify an existing toolbox.");}
function Qi(a){if(a.type=="bubble_open"&&a.ek==="mutator"&&a.Ff){a=(fd[a.Ua]||null).Hb(a.Y);var b=a.type;if(b=="procedures_defnoreturn"||b=="procedures_defreturn")a=a.yb.g,pj(a),wf(a,qj)}}function qj(a){a.type!="create"&&a.type!="delete"&&a.type!="change"||pj(fd[a.Ua]||null)};function rj(){sj=this;this.$b=Object.create(null);this.Gf=Object.create(null)}var sj,tj={Shift:16,Control:17,Alt:18,Meta:91};rj.prototype.register=function(a,b){if(this.$b[a.name]&&!b)throw Error('Shortcut with name "'+a.name+'" already exists.');this.$b[a.name]=a};
rj.prototype.unregister=function(a){if(!this.$b[a])return console.warn('Keyboard shortcut with name "'+a+'" not found.'),!1;for(var b in this.Gf){var c=b,d=this.Gf[c],e=d.indexOf(a);e>-1&&(d.splice(e,1),d.length==0&&delete this.Gf[c])}delete this.$b[a];return!0};function R(a,b){var c=sj;a=String(a);var d=c.Gf[a];if(d)throw Error('Shortcut with name "'+b+'" collides with shortcuts '+d.toString());c.Gf[a]=[b]}
function uj(a,b){var c="";if(b){for(var d=ld(tj),e=0,f;f=b[e];e++)if(d.indexOf(f)<0)throw Error(f+" is not a valid modifier key.");for(var h in tj)b.indexOf(tj[h])>-1&&(c!=""&&(c+="+"),c+=h)}c!=""&&a?c=c+"+"+a:a&&(c=a.toString());return c}new rj;function mf(a,b,c,d){this.j=a;this.name=b;this.type=c||"";this.pe=d||fb();E(new (H("var_create"))(this))}mf.prototype.Wa=function(){return this.pe};function vj(a,b){return a.name.localeCompare(b.name,void 0,{sensitivity:"base"})};var Li={};function nd(a){var b=kf(a);a=Object.create(null);for(var c=0;c<b.length;c++){var d=Fd(b[c]);if(d)for(var e=0;e<d.length;e++){var f=d[e],h=f.Wa();h&&(a[h]=f)}}b=[];for(h in a)b.push(a[h]);return b}var wj={};function Mi(a){var b=[],c=document.createElement("button");c.setAttribute("text","%{BKY_NEW_VARIABLE}");c.setAttribute("callbackKey","CREATE_VARIABLE");aj(a,function(d){xj(d.As())});b.push(c);a=yj(a);return b=b.concat(a)}
function yj(a){a=a.Ii("");var b=[];if(a.length>0){var c=a[a.length-1];if(Jf.variables_set){var d=J("block");d.setAttribute("type","variables_set");d.setAttribute("gap",Jf.math_change?8:24);d.appendChild(zj(c));b.push(d)}Jf.math_change&&(d=J("block"),d.setAttribute("type","math_change"),d.setAttribute("gap",Jf.variables_get?20:8),d.appendChild(zj(c)),c=td('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),d.appendChild(c),b.push(d));if(Jf.variables_get){a.sort(vj);
c=0;for(var e;e=a[c];c++)d=J("block"),d.setAttribute("type","variables_get"),d.setAttribute("gap",8),d.appendChild(zj(e)),b.push(d)}}return b}function xj(a){function b(c){Aj(c,function(d){if(d){var e=Bj(d,a);if(e){if(e.type=="")var f=q.VARIABLE_ALREADY_EXISTS.replace("%1",e.name);else f=q.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,f=f.replace("%1",e.name).replace("%2",e.type);of(f,function(){b(d)})}else a.Bd(d,"")}})}b("")}
function Aj(a,b){Cj(q.NEW_VARIABLE_TITLE,a,function(c){c&&(c=c.replace(/[\s\xa0]+/g," ").trim(),c==q.RENAME_VARIABLE||c==q.NEW_VARIABLE)&&(c=null);b(c)})}function Bj(a,b){b=b.aa.rf();a=a.toLowerCase();for(var c=0,d;d=b[c];c++)if(d.name.toLowerCase()==a)return d;return null}function zj(a){var b=J("field");b.setAttribute("name","VAR");b.setAttribute("id",a.Wa());b.setAttribute("variabletype",a.type);b.appendChild(document.createTextNode(a.name));return b}
function Bd(a,b){a=a.rf();var c=[];if(b.length!=a.length)for(var d=0;d<a.length;d++){var e=a[d];b.indexOf(e)==-1&&c.push(e)}return c};var Fc=null,M=null,hf=[],Zi=null,Dj=null,Ej=null,Cc=null;function fj(a){for(;a.options.$a;)a=a.options.$a;var b=B(a),c=Ai(a),d=b.parentNode;if(d){var e=d.offsetWidth;d=d.offsetHeight;c.width!=e&&(b.setAttribute("width",e+"px"),Wi(a,e,null));c.height!=d&&(b.setAttribute("height",d+"px"),Wi(a,null,d));a.resize()}}
function lj(a){var b=Fc;if(b&&!(Wa(a)||b.K&&!b.isVisible()))a:{var c=sj,d="";for(e in tj)a.getModifierState(e)&&(d!=""&&(d+="+"),d+=e);d!=""&&a.keyCode?d=d+"+"+a.keyCode:a.keyCode&&(d=a.keyCode.toString());d=c.Gf[d]||[];var e=0;for(var f;f=d[e];e++)if(f=c.$b[f],(!f.za||f.za(b))&&f.ta&&f.ta(b,a,f))break a}}function Fj(a){a.j.Id||(F(!0),He(),a.o?a.dispose(!1,!0):a.dispose(!0,!0),F(!1))}
function Gj(a){if(a.Ef)a=null;else{for(var b=qd(a,!0),c=0,d;d=b.childNodes[c];c++)if(d.nodeName.toLowerCase()=="next"){b.removeChild(d);break}c=a.Z();b.setAttribute("x",a.m?-c.x:c.x);b.setAttribute("y",c.y);a={xml:b,source:a.j,Ir:mb(a,!0)}}a&&(Zi=a.xml,Dj=a.source,Ej=a.Ir)}function Hj(){if(!Zi)return!1;var a=Dj;a.Id&&(a=a.S);return Ej&&tf(a,Ej)?(F(!0),Yi(a),F(!1),!0):!1}
function He(a){Xe();lh();Kc();var b=!!a;Jb(Fc.Zc,Nb).forEach(function(c){!b&&c.Ub&&c.Ub&&c.Ub.isVisible()&&(c.Ub.lb(),Ij(c,!1))})}function of(a,b){alert(a);b&&b()}function pf(a,b){b(confirm(a))}function Cj(a,b,c){c(prompt(a,b))}
function Jj(a){return function(){var b=a.type?'Block "'+a.type+'": ':"";if(a.output&&a.previousStatement)throw Error(b+"Must not have both an output and a previousStatement.");a.style&&a.style.Gc&&(this.Gc=a.style.Gc,a.style=null);if(a.style&&a.colour)throw Error(b+"Must not have both a colour and a style.");if(a.style){var c=a.style;try{this.qd(c)}catch(x){console.warn(b+"Style does not exist: ",c)}}else if("colour"in a)if(a.colour===void 0)console.warn(b+"Undefined colour value.");else{c=a.colour;
try{this.Pf(c)}catch(x){console.warn(b+"Illegal colour value: ",c)}}for(c=0;a["message"+c]!==void 0;){var d=a["args"+c]||[],e=a["lastDummyAlign"+c],f=b;var h=eb(a["message"+c],!0);for(var k=d.length,l=[],m=0,p=0;p<h.length;p++){var t=h[p];if(typeof t=="number"){if(t<1||t>k)throw Error('Block "'+this.type+'": Message index %'+t+" out of range.");if(l[t])throw Error('Block "'+this.type+'": Message index %'+t+" duplicated.");l[t]=!0;m++}}if(m!=k)throw Error('Block "'+this.type+'": Message does not reference all '+
k+" arg(s).");k=[];for(l=0;l<h.length;l++){m=h[l];typeof m=="number"&&(m=d[m-1]);if(typeof m=="string"&&(m=Ih(m),!m))continue;k.push(m)}(d=k.length)&&!Jh(k[d-1].type)&&(d={type:"input_dummy"},e&&(d.align=e),k.push(d));e=[];for(d=0;h=k[d];d++)if(Jh(h.type)){l=h;m=f;p={LEFT:-1,RIGHT:1,CENTRE:0,CENTER:0};h=null;switch(l.type){case "input_value":h=this.Uc(1,l.name);break;case "input_statement":h=this.Uc(3,l.name);break;case "input_dummy":h=this.Uc(5,l.name||"")}h?(l.check&&h.De(l.check),l.align&&(p=p[l.align.toUpperCase()],
p===void 0?console.warn(m+"Illegal align value: ",l.align):(l=h,l.align=p,l.l.K&&(l.l=l.l,l.l.U())))):h=null;if(h){for(l=0;m=e[l];l++)zh(h,m[0],m[1]);e.length=0}}else(l=Hh(this,h))&&e.push([l,h.name]);c++}a.inputsInline!==void 0&&this.Ge(a.inputsInline);a.output!==void 0&&this.jm(!0,a.output);a.previousStatement!==void 0&&this.yj(!0,a.previousStatement);a.nextStatement!==void 0&&this.vj(!0,a.nextStatement);a.tooltip!==void 0&&(c=a.tooltip,c=db(c),this.He(c));a.enableContextMenu!==void 0&&(c=a.enableContextMenu,
this.contextMenu=!!c);a.helpUrl!==void 0&&(c=a.helpUrl,this.zf=db(c));typeof a.extensions=="string"&&(console.warn(b+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+a.type+"' block."),a.extensions=[a.extensions]);a.mutator!==void 0&&Mf(a.mutator,this,!0);b=a.extensions;if(Array.isArray(b))for(c=0;c<b.length;++c)Mf(b[c],this,!1)}}
function Kj(a){for(var b=0;b<a.length;b++){var c=a[b];if(c){var d=c.type;d==null||d===""?console.warn("Block definition #"+b+" in JSON array is missing a type attribute. Skipping."):(Jf[d]&&console.warn("Block definition #"+b+' in JSON array overwrites prior definition of "'+d+'".'),Jf[d]={init:Jj(c)})}else console.warn("Block definition #"+b+" in JSON array is "+c+". Skipping.")}};function Lj(a,b,c){typeof a!="function"&&(Mj(a),a=JSON.parse(JSON.stringify(a)));this.Wg=a;this.rm=this.Vl=this.Fi=null;a=this.Wg;if(Array.isArray(a)){for(var d=!1,e=0;e<a.length;e++){var f=a[e][0];typeof f=="string"?a[e][0]=db(f):(f.alt!=null&&(a[e][0].alt=db(f.alt)),d=!0)}if(!(d||a.length<2)){f=[];for(e=0;e<a.length;e++)f.push(a[e][0]);var h=xa(f);e=ya(f,h);d=za(f,h);if((e||d)&&!(h<=e+d)){e&&(this.Vl=f[0].substring(0,e-1));d&&(this.rm=f[0].substr(1-d));f=[];for(h=0;h<a.length;h++){var k=a[h][0],
l=a[h][1];k=k.substring(e,k.length-d);f[h]=[k,l]}this.Wg=f}}}this.Of=Tf(this,!1)[0];Lj.i.constructor.call(this,this.Of[1],b,c);this.Uf=this.ce=this.dd=this.pb=this.mh=null}I(Lj,nh);Lj.M=function(a){return new Lj(a.options,void 0,a)};Lj.prototype.Nk=function(a){Sf(this)&&Tf(this,!1);Id(this,a.textContent)};Lj.prototype.gg=!0;var Nj=Na?"\u25bc":"\u25be";g=Lj.prototype;g.zm="default";
g.Af=function(){!this.C().Fm||this.C().Fm&&!this.l.R?ph(this):this.jk=this.l.I();qh(this);this.dd=y(Yb,{},this.Gb);this.C().Cp?(this.Uf=y(Yb,{height:this.C().cg+"px",width:this.C().cg+"px"},this.Gb),this.Uf.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.C().Dp)):(this.ce=y(fc,{},this.Sa),this.ce.appendChild(document.createTextNode(this.l.m?Nj+" ":" "+Nj)),this.l.m?this.Sa.insertBefore(this.ce,this.Le):this.Sa.appendChild(this.ce));this.xa&&z(this.xa,"blocklyDropdownRect")};
g.Ie=function(a){this.Fk();this.pb.Nl=a&&typeof a.clientX==="number"?new r(a.clientX,a.clientY):null;this.pb.U(tc);z(this.pb.Oa,"blocklyDropdownMenu");if(this.C().Bp){a=this.l.R?this.l.getParent().Pk():this.l.Pk();var b=this.l.R?this.l.getParent().style.Ac:this.l.style.Ac;sc.style.backgroundColor=a;sc.style.borderColor=b}Dc(this,this.Gk.bind(this));this.pb.focus();this.mh&&this.pb.vc(this.mh);this.Fa()};
g.Fk=function(){var a=new Lh;a.oh("listbox");this.pb=a;var b=Tf(this,!1);this.mh=null;for(var c=0;c<b.length;c++){var d=b[c][0],e=b[c][1];if(typeof d=="object"){var f=new Image(d.width,d.height);f.src=d.src;f.alt=d.alt||"";d=f}d=new Ph(d,e);d.oh("option");d.dm=this.l.m;d.hk=!0;a.uc.push(d);d.ik=e==this.Ea;e==this.Ea&&(this.mh=d);Qh(d,this.Bq,this)}};g.Gk=function(){this.pb&&this.pb.dispose();this.mh=this.pb=null;this.Fa()};g.Bq=function(a){wc===this&&Kc();Id(this,a.Ea)};
function Sf(a){return typeof a.Wg=="function"}function Tf(a,b){return Sf(a)?(a.Fi&&b||(a.Fi=a.Wg.call(a),Mj(a.Fi)),a.Fi):a.Wg}g.qf=function(a){for(var b=!1,c=Tf(this,!0),d=0,e;e=c[d];d++)if(e[1]==a){b=!0;break}return b?a:(this.l&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.l.type+", Field name: "+this.name+", Value: "+a),null)};g.zg=function(a){Lj.i.zg.call(this,a);a=Tf(this,!0);for(var b=0,c;c=a[b];b++)c[1]==this.Ea&&(this.Of=c)};
g.Fa=function(){this.xa&&(this.xa.setAttribute("stroke",this.l.style.Ac),this.pb?this.xa.setAttribute("fill",this.l.style.Ac):this.xa.setAttribute("fill","transparent"));this.l&&this.ce&&(this.ce.style.fill=this.l.R?this.l.style.ni:this.l.style.Yc)};
g.Be=function(){this.Le.nodeValue="";this.dd.style.display="none";var a=this.Of&&this.Of[0];if(a&&typeof a=="object"){this.dd.style.display="";this.dd.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a.src);this.dd.setAttribute("height",a.height);this.dd.setAttribute("width",a.width);var b=Number(a.height);a=Number(a.width);var c=!!this.xa,d=Math.max(c?this.C().Em:0,b+10);c=c?this.C().ag:0;if(this.Uf)var e=Oj(this,a+c,d/2-this.C().cg/2);else{e=this.ce;var f=this.C().Ue,h=this.C().Ve,k=this.C().Te;
e=qc(e,f+"pt",h,k)}this.zb.width=a+e+c*2;this.zb.height=d;f=0;this.l.m?this.dd.setAttribute("x",c+e):(f=a+e,this.Sa.setAttribute("text-anchor","end"),this.dd.setAttribute("x",c));this.dd.setAttribute("y",d/2-b/2);sh(this,f+c,a+e)}else this.Le.nodeValue=rh(this),z(this.Sa,"blocklyDropdownText"),this.Sa.setAttribute("text-anchor","start"),a=!!this.xa,b=Math.max(a?this.C().Em:0,this.C().Sh),d=this.Sa,c=this.C().Ue,e=this.C().Ve,f=this.C().Te,d=qc(d,c+"pt",e,f),a=a?this.C().ag:0,c=0,this.Uf&&(c=Oj(this,
d+a,b/2-this.C().cg/2)),this.zb.width=d+c+a*2,this.zb.height=b,sh(this,a,d);th(this)};function Oj(a,b,c){if(!a.Uf)return 0;var d=a.xa?a.C().ag:0,e=a.C().Ep,f=a.C().cg;a.Uf.setAttribute("transform","translate("+(a.l.m?d:b+e)+","+c+")");return f+e}g.Sk=function(){if(!this.Of)return null;var a=this.Of[0];return typeof a=="object"?a.alt:a};
function Mj(a){if(!Array.isArray(a))throw TypeError("FieldDropdown options must be an array.");if(!a.length)throw TypeError("FieldDropdown options must not be an empty array.");for(var b=!1,c=0;c<a.length;++c){var d=a[c];Array.isArray(d)?typeof d[1]!="string"?(b=!0,console.error("Invalid option["+c+"]: Each FieldDropdown option id must be a string. Found "+d[1]+" in: ",d)):d[0]&&typeof d[0]!="string"&&typeof d[0].src!="string"&&(b=!0,console.error("Invalid option["+c+"]: Each FieldDropdown option must have a string label or image description. Found"+
d[0]+" in: ",d)):(b=!0,console.error("Invalid option["+c+"]: Each FieldDropdown option must be an array. Found: ",d))}if(b)throw TypeError("Found invalid FieldDropdown options.");}C(Rc,"field_dropdown",Lj);function Pj(a,b,c){Pj.i.constructor.call(this,a?a.j.id:void 0);this.Y=a?a.id:null;this.Ff=b;this.ek=c}I(Pj,Rd);Pj.prototype.type="bubble_open";Pj.prototype.P=function(){var a=Pj.i.P.call(this);a.isOpen=this.Ff;a.bubbleType=this.ek;a.blockId=this.Y;return a};Pj.prototype.M=function(a){Pj.i.M.call(this,a);this.Ff=a.isOpen;this.ek=a.bubbleType;this.Y=a.blockId};C(Qc,"bubble_open",Pj);function Qj(a){this.A=a;this.mb=null}g=Qj.prototype;g.iq=!0;g.$h=17;g.Vc=null;g.Li=null;
function ki(a){if(!a.mb){a.mb=y(Xb,{"class":"blocklyIconGroup"},null);a.A.Xa&&z(a.mb,"blocklyIconGroupReadonly");var b=a.mb;y(cc,{"class":"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},b);y($b,{"class":"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},b);
y(Pb,{"class":"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},b);a.A.I().appendChild(a.mb);u(a.mb,"mouseup",a,a.Zk);a.Oe()}}g.dispose=function(){A(this.mb);this.mb=null;this.ra(!1);this.A=null};g.Oe=function(){};g.isVisible=function(){return!!this.Vc};g.Zk=function(a){this.A.j.Pa()||this.A.Xa||ab(a)||this.ra(!this.isVisible())};g.Fa=function(){this.isVisible()&&this.Vc.Pf(this.A.style.Yc)};function og(a,b){a.Li=b;a.isVisible()&&(a=a.Vc,a.Ba=b,a.$l&&xg(a))}
function ni(a){var b=a.A.Z(),c=Xa(a.mb);b=new r(b.x+c.x+a.$h/2,b.y+c.y+a.$h/2);sa(a.Li,b)||og(a,b)};function Rj(a){Rj.i.constructor.call(this,null);this.No=a}I(Rj,Qj);g=Rj.prototype;g.g=null;g.Zf=0;g.Ih=0;g.Zk=function(a){this.A.wb()&&Qj.prototype.Zk.call(this,a)};
function Sj(a){a.yh=y(dc,{x:yg,y:yg},null);if(a.No.length)for(var b=J("xml"),c=0,d;d=a.No[c];c++){var e=J("block");e.setAttribute("type",d);b.appendChild(e)}else b=null;c=new ke({disable:!1,parentWorkspace:a.A.j,media:a.A.j.options.dh,rtl:a.A.m,renderer:a.A.j.options.qj,rendererOverrides:a.A.j.options.rj});c.Ab=a.A.m?3:2;if(d=!!b)c.jd=ee(b);a.g=new Ji(c);a.g.Pg=!0;wf(a.g,hd);b=d?Vi(a.g,Xb):null;c=a.g.wa("blocklyMutatorBackground");b&&c.insertBefore(b,a.g.sa);a.yh.appendChild(c);return a.yh}
g.Oe=function(){Rj.i.Oe.call(this);this.A.Xa||(this.A.wb()?this.mb&&kc(this.mb,"blocklyIconGroupReadonly"):(this.ra(!1),this.mb&&z(this.mb,"blocklyIconGroupReadonly")))};
function Tj(a){var b=2*yg,c=a.g.sa.getBBox(),d=c.width+c.x,e=c.height+b*3,f=xi(a.g);if(f){var h=f.g.qb.Dd();e=Math.max(e,h.height+20);d+=f.Ed()}a.A.m&&(d=-c.x);d+=b*3;if(Math.abs(a.Zf-d)>b||Math.abs(a.Ih-e)>b)a.Zf=d,a.Ih=e,zg(a.Vc,d+b,e+b),a.yh.setAttribute("width",a.Zf),a.yh.setAttribute("height",a.Ih),Wi(a.g,a.Zf,a.Ih);a.A.m&&a.g.sa.setAttribute("transform","translate("+a.Zf+",0)");a.g.resize()}g.Tq=function(){this.g&&Ti(this.g)};
g.ra=function(a){if(a!=this.isVisible())if(E(new (H("bubble_open"))(this.A,a,"mutator")),a){this.Vc=new vg(this.A.j,Sj(this),this.A.ua.Aa,this.Li);Fg(this.Vc,this.A.id);this.Vc.yl=this.Tq.bind(this);var b=this.g.options.jd;a=xi(this.g);b&&(a.init(this.g),a.show(b));this.Oc=this.A.xg(this.g);b=nb(this.Oc,!1);for(var c=0,d;d=b[c];c++)d.U();this.Oc.uj(!1);this.Oc.rk=!1;a?(b=a.la*2,a=this.Oc.m?a.Ed()+b:b):a=b=16;this.A.m&&(a=-a);this.Oc.moveBy(a,b);if(this.A.fm){var e=this,f=this.A;f.fm(this.Oc);this.Bj=
function(){f.fm(e.Oc)};wf(this.A.j,this.Bj)}Tj(this);wf(this.g,this.Mr.bind(this));this.Fa()}else this.yh=null,this.g.dispose(),this.Oc=this.g=null,this.Vc.dispose(),this.Vc=null,this.Ih=this.Zf=0,this.Bj&&(lb(this.A.j.Ha,this.Bj),this.Bj=null)};
g.Mr=function(a){if(!(a.hl||a.type=="change"&&a.element=="disabled")){if(!this.g.Pa()){a=this.g.qa(!1);for(var b=0,c;c=a[b];b++){var d=c.Z();d.y<20&&c.moveBy(0,20-d.y);if(c.m){var e=-20,f=xi(this.g);f&&(e-=f.Ed());d.x>e&&c.moveBy(e-d.x,0)}else d.x<20&&c.moveBy(20-d.x,0)}}if(this.Oc.j==this.g){F(!0);c=this.A;a=(a=c.Xb())&&sd(a);b=c.K;c.K=!1;c.og(this.Oc);c.K=b;c.ed();c.K&&c.U();b=(b=c.Xb())&&sd(b);if(a!=b){E(new (H("change"))(c,"mutation",null,a,b));var h=$c;setTimeout(function(){F(h);c.Ka();F(!1)},
250)}this.g.Pa()||Tj(this);F(!1)}}};g.dispose=function(){this.A.yb=null;Qj.prototype.dispose.call(this)};function Uj(a,b,c){if(a&&a.D().j){c=L(b,c).connection;var d=a.H();d&&d!=b||c.J==a||(c.isConnected()&&c.disconnect(),c.connect(a))}};Kj([{type:"logic_boolean",message0:"%1",args0:[{type:"field_dropdown",name:"BOOL",options:[["%{BKY_LOGIC_BOOLEAN_TRUE}","TRUE"],["%{BKY_LOGIC_BOOLEAN_FALSE}","FALSE"]]}],output:"Boolean",colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_LOGIC_BOOLEAN_TOOLTIP}",helpUrl:"%{BKY_LOGIC_BOOLEAN_HELPURL}"},{type:"controls_if",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],previousStatement:null,
nextStatement:null,colour:"%{BKY_LOGIC_HUE}",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",mutator:"controls_if_mutator",extensions:["controls_if_tooltip"]},{type:"logic_compare",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A"},{type:"field_dropdown",name:"OP",options:[["=","EQ"],["\u2260","NEQ"],["\u200f<","LT"],["\u200f\u2264","LTE"],["\u200f>","GT"],["\u200f\u2265","GTE"]]},{type:"input_value",name:"B"}],inputsInline:!0,output:"Boolean",colour:"%{BKY_LOGIC_HUE}",helpUrl:"%{BKY_LOGIC_COMPARE_HELPURL}",
extensions:["logic_compare","logic_op_tooltip"]},{type:"logic_operation",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Boolean"},{type:"field_dropdown",name:"OP",options:[["%{BKY_LOGIC_OPERATION_AND}","AND"],["%{BKY_LOGIC_OPERATION_OR}","OR"]]},{type:"input_value",name:"B",check:"Boolean"}],inputsInline:!0,output:"Boolean",colour:"%{BKY_LOGIC_HUE}",helpUrl:"%{BKY_LOGIC_OPERATION_HELPURL}",extensions:["logic_op_tooltip"]},{type:"logic_negate",message0:"%{BKY_LOGIC_NEGATE_TITLE}",args0:[{type:"input_value",
name:"BOOL",check:"Boolean"}],output:"Boolean",colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_LOGIC_NEGATE_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NEGATE_HELPURL}"},{type:"logic_ternary",message0:"%{BKY_LOGIC_TERNARY_CONDITION} %1",args0:[{type:"input_value",name:"IF",check:"Boolean"}],message1:"%{BKY_LOGIC_TERNARY_IF_TRUE} %1",args1:[{type:"input_value",name:"THEN"}],message2:"%{BKY_LOGIC_TERNARY_IF_FALSE} %1",args2:[{type:"input_value",name:"ELSE"}],output:null,colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_LOGIC_TERNARY_TOOLTIP}",
helpUrl:"%{BKY_LOGIC_TERNARY_HELPURL}",extensions:["logic_ternary"]}]);
Kj([{type:"controls_if_if",message0:"%{BKY_CONTROLS_IF_IF_TITLE_IF}",nextStatement:null,enableContextMenu:!1,colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_CONTROLS_IF_IF_TOOLTIP}"},{type:"controls_if_elseif",message0:"%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}",previousStatement:null,nextStatement:null,enableContextMenu:!1,colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}"},{type:"controls_if_else",message0:"%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}",previousStatement:null,enableContextMenu:!1,
colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_CONTROLS_IF_ELSE_TOOLTIP}"}]);Lf("logic_op_tooltip",Qf({EQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}",NEQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}",LT:"%{BKY_LOGIC_COMPARE_TOOLTIP_LT}",LTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}",GT:"%{BKY_LOGIC_COMPARE_TOOLTIP_GT}",GTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}",AND:"%{BKY_LOGIC_OPERATION_TOOLTIP_AND}",OR:"%{BKY_LOGIC_OPERATION_TOOLTIP_OR}"}));
(function(a,b,c,d){var e='Error when registering mutator "'+a+'": ';Pf(e,b.ad,"domToMutation");Pf(e,b.Xb,"mutationToDom");var f=Of(b,e);if(c&&typeof c!="function")throw Error('Extension "'+a+'" is not a function');Lf(a,function(){if(f){if(!Rj)throw Error(e+"Missing require for Blockly.Mutator");this.Uo(new Rj(d||[]))}Gh(this,b);c&&c.apply(this)})})("controls_if_mutator",{Fb:0,mc:0,Ej:!0,Xb:function(){if(!this.Fb&&!this.mc)return null;var a=J("mutation");this.Fb&&a.setAttribute("elseif",this.Fb);this.mc&&
a.setAttribute("else",1);return a},ad:function(a){this.Fb=parseInt(a.getAttribute("elseif"),10)||0;this.mc=parseInt(a.getAttribute("else"),10)||0;this.ir()},xg:function(a){var b=a.If("controls_if_if");b.ed();for(var c=b.B,d=1;d<=this.Fb;d++){var e=a.If("controls_if_elseif");e.ed();c.connect(e.F);c=e.B}this.mc&&(a=a.If("controls_if_else"),a.ed(),c.connect(a.F));return b},og:function(a){a=a.B.H();this.mc=this.Fb=0;for(var b=[null],c=[null],d=null;a&&!a.xb();){switch(a.type){case "controls_if_elseif":this.Fb++;
b.push(a.Jr);c.push(a.qm);break;case "controls_if_else":this.mc++;d=a.qm;break;default:throw TypeError("Unknown block type: "+a.type);}a=a.B&&a.B.H()}this.fp();this.Oo(b,c,d)},fm:function(a){a=a.B.H();for(var b=1;a;){switch(a.type){case "controls_if_elseif":var c=L(this,"IF"+b),d=L(this,"DO"+b);a.Jr=c&&c.connection.J;a.qm=d&&d.connection.J;b++;break;case "controls_if_else":d=L(this,"ELSE");a.qm=d&&d.connection.J;break;default:throw TypeError("Unknown block type: "+a.type);}a=a.B&&a.B.H()}},ir:function(){var a=
[null],b=[null],c=null;L(this,"ELSE")&&(c=L(this,"ELSE").connection.J);for(var d=1;L(this,"IF"+d);){var e=L(this,"DO"+d);a.push(L(this,"IF"+d).connection.J);b.push(e.connection.J);d++}this.fp();this.Oo(a,b,c)},fp:function(){L(this,"ELSE")&&this.Mf("ELSE");for(var a=1;L(this,"IF"+a);)this.Mf("IF"+a),this.Mf("DO"+a),a++;for(a=1;a<=this.Fb;a++)zh(this.Uc(1,"IF"+a).De("Boolean"),q.CONTROLS_IF_MSG_ELSEIF),zh(this.Uc(3,"DO"+a),q.CONTROLS_IF_MSG_THEN);this.mc&&zh(this.Uc(3,"ELSE"),q.CONTROLS_IF_MSG_ELSE)},
Oo:function(a,b,c){for(var d=1;d<=this.Fb;d++)Uj(a[d],this,"IF"+d),Uj(b[d],this,"DO"+d);Uj(c,this,"ELSE")}},null,["controls_if_elseif","controls_if_else"]);Lf("controls_if_tooltip",function(){this.He(function(){if(this.Fb||this.mc){if(!this.Fb&&this.mc)return q.CONTROLS_IF_TOOLTIP_2;if(this.Fb&&!this.mc)return q.CONTROLS_IF_TOOLTIP_3;if(this.Fb&&this.mc)return q.CONTROLS_IF_TOOLTIP_4}else return q.CONTROLS_IF_TOOLTIP_1;return""}.bind(this))});
var Vj={onchange:function(a){this.fh||(this.fh=[null,null]);var b=Kh(this,"A"),c=Kh(this,"B");b&&c&&!ef(b.o,c.o)&&(F(a.group),a=this.fh[0],a!==b&&(Pd(b),!a||a.disposed||a.R||L(this,"A").connection.connect(a.o)),b=this.fh[1],b!==c&&(Pd(c),!b||b.disposed||b.R||L(this,"B").connection.connect(b.o)),this.Ka(),F(!1));this.fh[0]=Kh(this,"A");this.fh[1]=Kh(this,"B")}};Lf("logic_compare",function(){Gh(this,Vj)});
(function(a,b){if(!b||typeof b!="object")throw Error('Error: Mixin "'+a+'" must be a object');Lf(a,function(){Gh(this,b)})})("logic_ternary",{Mo:null,onchange:function(a){var b=Kh(this,"THEN"),c=Kh(this,"ELSE"),d=this.o.J;if((b||c)&&d)for(var e=0;e<2;e++){var f=e==1?b:c;f&&!ef(f.o,d)&&(F(a.group),d===this.Mo?(Pd(this),d.D().Ka()):(Pd(f),f.Ka()),F(!1))}this.Mo=d}});function Wj(a,b,c){this.Vo=!0;Wj.i.constructor.call(this,a,b,c);this.hj=this.gj=this.Jb=null;this.Ei=!1;this.g=null}I(Wj,nh);Wj.prototype.$f="";Wj.M=function(a){var b=db(a.text);return new Wj(b,void 0,a)};g=Wj.prototype;g.gg=!0;g.zm="text";g.ge=function(a){Wj.i.ge.call(this,a);typeof a.spellcheck=="boolean"&&(this.Vo=a.spellcheck)};
g.Af=function(){if(this.C().Hm){for(var a=0,b=0,c=0,d;d=this.l.v[c];c++){for(var e=0;d.ba[e];e++)a++;d.connection&&b++}this.Ei=a<=1&&this.l.o&&!b}else this.Ei=!1;this.Ei?this.jk=this.l.I():ph(this);qh(this)};g.qf=function(a){return a===null||a===void 0?null:String(a)};g.un=function(){if(this.Cf){this.fl=!1;var a=this.Ea;this.Ea=this.Jb.bp;this.l&&D==0&&E(new (H("change"))(this.l,"field",this.name||null,a,this.Ea))}};g.zg=function(a){this.fl=!0;this.Ea=a;this.Cf||(this.gd=!0)};
g.Fa=function(){this.l&&this.C().Hm&&(this.xa?this.xa.setAttribute("stroke",this.l.style.Ac):this.l.ua.Aa.setAttribute("fill",this.C().Cm))};g.Be=function(){Wj.i.Be.call(this);if(this.Cf){Xj(this);var a=this.Jb;this.fl?(kc(a,"blocklyInvalidInput"),Ze(a,"invalid",!1)):(z(a,"blocklyInvalidInput"),Ze(a,"invalid",!0))}};g.Ie=function(a,b){this.g=this.l.j;a=b||!1;!a&&(Ta||Na||Oa)?Yj(this):(kh(this,this.l.m,this.Lr.bind(this)),this.Jb=this.xm(),this.Cf=!0,a||(this.Jb.focus({preventScroll:!0}),this.Jb.select()))};
function Yj(a){Cj(q.CHANGE_VALUE_TITLE,uh(a),function(b){b!==null&&Id(this,b)}.bind(a))}
g.xm=function(){var a=fh;z(oh(this),"editing");var b=document.createElement("input");b.className="blocklyHtmlInput";b.setAttribute("spellcheck",this.Vo);var c=$i(this.g),d=this.C().Ue*c+"pt";a.style.fontSize=d;b.style.fontSize=d;d=4*c+"px";if(this.Ei){d=Ec(this);d=(d.bottom-d.top)/2+"px";var e=this.l.getParent()?this.l.getParent().style.Ac:this.l.style.Ac;b.style.border=1*c+"px solid "+e;a.style.borderRadius=d;a.style.transition="box-shadow 0.25s ease 0s";this.C().Fp&&(a.style.boxShadow="rgba(255, 255, 255, 0.3) 0px 0px 0px "+
4*c+"px")}b.style.borderRadius=d;a.appendChild(b);b.value=b.defaultValue=String(this.Ea);b.bp=this.Ea;b.xo=null;Xj(this);this.gj=u(b,"keydown",this,this.Jl);this.hj=u(b,"input",this,this.Wq);return b};g.Lr=function(){this.Cf=!1;this.fl=!0;vh(this);this.Vq&&this.Vq(this.Ea);this.gj&&(v(this.gj),this.gj=null);this.hj&&(v(this.hj),this.hj=null);var a=fh.style;a.width="auto";a.height="auto";a.fontSize="";a.transition="";a.boxShadow="";this.Jb=null;kc(oh(this),"editing")};
g.Jl=function(a){if(a.keyCode==13)lh(),Kc();else if(a.keyCode==27)Id(this,this.Jb.bp),lh(),Kc();else if(a.keyCode==9){lh();Kc();var b=this.l,c=!a.shiftKey,d=new ii;ch(d,Bf(this));var e=d.Eb;c?d.next():d.md();(c=d.Eb)&&c!==e&&(e=c.N,If(e)&&e.Ie(void 0),b.j.Hf&&ch(b.j.sf(),c));a.preventDefault()}};g.Wq=function(){var a=this.Jb.value;a!==this.Jb.xo&&(this.Jb.xo=a,F(!0),Id(this,a),vh(this),Xj(this),F(!1))};
function Xj(a){var b=fh,c=Ec(a);b.style.width=c.right-c.left+"px";b.style.height=c.bottom-c.top+"px";a=new r(a.l.m?c.right-b.offsetWidth:c.left,c.top);b.style.left=a.x+"px";b.style.top=a.y+"px"}g.Wn=function(){return!0};g.Sk=function(){return this.Cf&&this.Jb?this.Jb.value:null};C(Rc,"field_input",Wj);function Zj(a,b,c){this.jn=!1;this.ej=0;this.Nr=360;this.tj=15;Zj.i.constructor.call(this,a,b,c);this.dj=this.li=this.mi=this.Wi=this.Fg=this.yn=null}I(Zj,Wj);Zj.prototype.$f=0;Zj.M=function(a){return new Zj(a.angle,void 0,a)};g=Zj.prototype;g.gg=!0;g.Af=function(){Zj.i.Af.call(this);this.Yo=y(fc,{},null);this.Yo.appendChild(document.createTextNode("\u00b0"));this.Sa.appendChild(this.Yo)};g.Be=function(){Zj.i.Be.call(this);ak(this)};
g.Ie=function(a){Zj.i.Ie.call(this,a,Ta||Na||Oa);this.Fk();tc.appendChild(this.yn);a=this.l.style.Ac;sc.style.backgroundColor=this.l.style.Yc;sc.style.borderColor=a;Dc(this,this.Gk.bind(this));ak(this)};
g.Fk=function(){var a=y(dc,{xmlns:"http://www.w3.org/2000/svg","xmlns:html":"http://www.w3.org/1999/xhtml","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",height:"100px",width:"100px"},null);a.style.touchAction="none";var b=y(Pb,{cx:50,cy:50,r:49,"class":"blocklyAngleCircle"},a);this.Fg=y($b,{"class":"blocklyAngleGauge"},a);this.Wi=y(Zb,{x1:50,y1:50,"class":"blocklyAngleLine"},a);for(var c=0;c<360;c+=15)y(Zb,{x1:99,y1:50,x2:99-(c%45==0?10:5),y2:50,"class":"blocklyAngleMarks",transform:"rotate("+
c+",50,50)"},a);this.mi=u(a,"click",this,this.Jq);this.li=u(b,"click",this,this.Co,!0,!0);this.dj=u(b,"mousemove",this,this.Co,!0,!0);this.yn=a};g.Gk=function(){this.mi&&(v(this.mi),this.mi=null);this.li&&(v(this.li),this.li=null);this.dj&&(v(this.dj),this.dj=null);this.Wi=this.Fg=null};g.Jq=function(){wc===this&&Jc();lh()};
g.Co=function(a){var b=this.Fg.ownerSVGElement.getBoundingClientRect(),c=a.clientX-b.left-50;a=a.clientY-b.top-50;b=Math.atan(-a/c);isNaN(b)||(b=b*180/Math.PI,c<0?b+=180:a>0&&(b+=360),b=this.jn?this.ej+360-b:360-(this.ej-b),bk(this,b))};function bk(a,b){a.tj&&(b=Math.round(b/a.tj)*a.tj);b=ck(a,b);b!=a.Ea&&(a.gd=!0,a.Cf&&(a.Jb.value=String(b)),Id(a,b))}
function ak(a){if(a.Fg){var b=(Number(uh(a))+a.ej)%360*Math.PI/180,c=["M ",50,",",50],d=50,e=50;if(!isNaN(b)){var f=Number(a.jn),h=a.ej*Math.PI/180,k=Math.cos(h)*49,l=Math.sin(h)*-49;f&&(b=2*h-b);d+=Math.cos(b)*49;e-=Math.sin(b)*49;b=Math.abs(Math.floor((b-h)/Math.PI)%2);f&&(b=1-b);c.push(" l ",k,",",l," A ",49,",",49," 0 ",b," ",f," ",d,",",e," z")}a.Fg.setAttribute("d",c.join(""));a.Wi.setAttribute("x2",d);a.Wi.setAttribute("y2",e)}}
g.Jl=function(a){Zj.i.Jl.call(this,a);var b;a.keyCode===37?b=this.l.m?1:-1:a.keyCode===39?b=this.l.m?-1:1:a.keyCode===40?b=-1:a.keyCode===38&&(b=1);b&&(bk(this,this.Ea+b*this.tj),a.preventDefault(),a.stopPropagation())};g.qf=function(a){a=Number(a);return isNaN(a)||!isFinite(a)?null:ck(this,a)};function ck(a,b){b%=360;b<0&&(b+=360);b>a.Nr&&(b-=360);return b}var dk=".blocklyAngleCircle {,stroke: #444;,stroke-width: 1;,fill: #ddd;,fill-opacity: .8;,},.blocklyAngleMarks {,stroke: #444;,stroke-width: 1;,},.blocklyAngleGauge {,fill: #f88;,fill-opacity: .8;,pointer-events: none;,},.blocklyAngleLine {,stroke: #f00;,stroke-width: 2;,stroke-linecap: round;,pointer-events: none;,}".split(",");
if(Zd)throw Error("CSS already injected");Array.prototype.push.apply($d,dk);dk.length=0;C(Rc,"field_angle",Zj);function ek(a,b,c,d,e,f){this.Yg=-Infinity;this.Vg=Infinity;this.Lf=0;this.pk=null;ek.i.constructor.call(this,a,e,f);f||(fk(this,b),gk(this,c),hk(this,d),Id(this,this.Ea))}I(ek,Wj);ek.prototype.$f=0;ek.M=function(a){return new ek(a.value,void 0,void 0,void 0,void 0,a)};ek.prototype.gg=!0;ek.prototype.ge=function(a){ek.i.ge.call(this,a);fk(this,a.min);gk(this,a.max);hk(this,a.precision)};function fk(a,b){b==null?a.Yg=-Infinity:(b=Number(b),isNaN(b)||(a.Yg=b))}
function gk(a,b){b==null?a.Vg=Infinity:(b=Number(b),isNaN(b)||(a.Vg=b))}function hk(a,b){a.Lf=Number(b)||0;var c=String(a.Lf);c.indexOf("e")!=-1&&(c=a.Lf.toLocaleString("en-US",{maximumFractionDigits:20}));var d=c.indexOf(".");a.pk=d==-1?b?0:null:c.length-d-1}
ek.prototype.qf=function(a){if(a===null)return null;a=String(a);a=a.replace(/O/ig,"0");a=a.replace(/,/g,"");a=a.replace(/infinity/i,"Infinity");a=Number(a||0);if(isNaN(a))return null;a=Math.min(Math.max(a,this.Yg),this.Vg);this.Lf&&isFinite(a)&&(a=Math.round(a/this.Lf)*this.Lf);this.pk!=null&&(a=Number(a.toFixed(this.pk)));return a};ek.prototype.xm=function(){var a=ek.i.xm.call(this);this.Yg>-Infinity&&Ze(a,"valuemin",this.Yg);this.Vg<Infinity&&Ze(a,"valuemax",this.Vg);return a};
C(Rc,"field_number",ek);function Dh(a){this.Zg=a}g=Dh.prototype;g.bf=null;g.Tc=null;g.Mj="  ";g.sp=60;g.Zh=[];g.Pi=null;function ik(a,b){return b+a.replace(/(?!\n$)\n/g,"\n"+b)}
function jk(a,b){a.Pi===!1&&console.warn("Generator init was not called before blockToCode was called.");if(!b)return"";if(!b.isEnabled())return jk(a,ob(b));if(b.xb())return jk(a,pd(b,!1)[0]);var c=a[b.type];if(typeof c!="function")throw Error('Language "'+a.Zg+'" does not know how to generate code for block type "'+b.type+'".');c=c.call(b,b);if(Array.isArray(c)){if(!b.o)throw TypeError("Expecting string from statement block: "+b.type);return[a.gm(b,c[0]),c[1]]}if(typeof c=="string")return a.bf&&
!b.Ej&&(c=kk(a.bf,b)+c),a.Tc&&!b.Ej&&(c+=kk(a.Tc,b)),a.gm(b,c);if(c===null)return"";throw SyntaxError("Invalid code generated: "+c);}
function lk(a,b,c,d){if(isNaN(d))throw TypeError("Expecting valid order from block: "+b.type);var e=Kh(b,c);if(!e)return"";c=jk(a,e);if(c==="")return"";if(!Array.isArray(c))throw TypeError("Expecting tuple from value block: "+e.type);b=c[0];c=c[1];if(isNaN(c))throw TypeError("Expecting valid order from value block: "+e.type);if(!b)return"";e=!1;var f=Math.floor(d),h=Math.floor(c);if(f<=h&&(f!=h||f!=0&&f!=99))for(e=!0,f=0;f<a.Zh.length;f++)if(a.Zh[f][0]==d&&a.Zh[f][1]==c){e=!1;break}e&&(b="("+b+")");
return b}function mk(a,b){var c=S;a=Kh(a,b);b=jk(c,a);if(typeof b!="string")throw TypeError("Expecting code from statement block: "+(a&&a.type));b&&(b=ik(b,c.Mj));return b}function kk(a,b){b=b.id.replace(/\$/g,"$$$$");return a.replace(/%1/g,"'"+b+"'")}g.Tj="";function nk(a){var b=S;b.Tj+=a+","}g.init=function(){this.qk=Object.create(null);this.uq=Object.create(null)};g.gm=function(a,b){return b};g.finish=function(a){delete this.qk;delete this.uq;return a};g.So=function(a){return a};var S=new Dh("JavaScript");nk("break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,new,return,super,switch,this,throw,try,typeof,var,void,while,with,yield,enum,implements,interface,let,package,private,protected,public,static,await,null,true,false,arguments,"+Object.getOwnPropertyNames(n).join(","));S.Nm=0;S.gs=1.1;S.Yh=1.2;S.$e=2;S.bs=3;S.Wr=3;S.Rr=4.1;S.js=4.2;S.Rj=4.3;S.Oj=4.4;S.hs=4.5;S.ks=4.6;S.Xr=4.7;S.Pr=4.8;
S.Zr=5;S.Om=5.1;S.Yr=5.2;S.fs=5.3;S.Qm=6.1;S.Vh=6.2;S.Tr=7;S.Pm=8;S.$r=8;S.ds=8;S.Rp=9;S.Qr=10;S.Ur=11;S.Sr=12;S.Xh=13;S.Pj=14;S.Wh=15;S.Or=16;S.ls=17;S.Vr=18;S.Qj=99;S.Zh=[[S.$e,S.Yh],[S.$e,S.$e],[S.Yh,S.Yh],[S.Yh,S.$e],[S.Oj,S.Oj],[S.Om,S.Om],[S.Vh,S.Vh],[S.Xh,S.Xh],[S.Pj,S.Pj]];S.Pi=!1;
S.init=function(a){Object.getPrototypeOf(this).init.call(this);this.Md?this.Md.reset():this.Md=new mj(this.Tj);this.Md.nm(a.aa);for(var b=this.Md,c=nd(a),d=0;d<c.length;d++)b.getName(c[d].Wa(),"VARIABLE");b=this.Md;c=nj(a);c=c[0].concat(c[1]);for(d=0;d<c.length;d++)b.getName(c[d][0],"PROCEDURE");b=[];c=kf(a);d=Object.create(null);for(var e=0,f;f=c[e];e++){var h=f.ys;!h&&f.xq&&(h=f.xq,wj[f.type]||(console.warn("Function getDeveloperVars() deprecated. Use getDeveloperVariables() (block type '"+f.type+
"')"),wj[f.type]=!0));if(h)for(f=h(),h=0;h<f.length;h++)d[f[h]]=!0}d=Object.keys(d);for(c=0;c<d.length;c++)b.push(this.Md.getName(d[c],"DEVELOPER_VARIABLE"));a=nd(a);for(c=0;c<a.length;c++)b.push(this.Md.getName(a[c].Wa(),"VARIABLE"));b.length&&(this.qk.variables="var "+b.join(", ")+";");this.Pi=!0};S.finish=function(a){var b=ld(this.qk);a=Object.getPrototypeOf(this).finish.call(this,a);this.Pi=!1;this.Md.reset();return b.join("\n\n")+"\n\n\n"+a};S.So=function(a){return a+";\n"};
S.gr=function(a){a=a.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'");return"'"+a+"'"};S.Ds=function(a){return a.split(/\n/g).map(this.gr).join(" + '\\n' +\n")};
S.gm=function(a,b){var c="";if(!a.o||!a.o.J){var d=a.kc.text;d&&(d=Aa(d,this.sp-3),c+=ik(d+"\n","// "));for(var e=0;e<a.v.length;e++)if(a.v[e].type==1){var f=a.v[e].connection.H();if(f){d=[];f=nb(f,!0);for(var h=0;h<f.length;h++){var k=f[h].kc.text;k&&d.push(k)}d.length&&d.push("");(d=d.join("\n"))&&(c+=ik(d,"// "))}}}a=a.B&&a.B.H();a=jk(this,a);return c+b+a};
S.xs=function(a,b,c,d,e){c=c||0;e=e||this.Qj;a.j.options.kj&&c--;var f=a.j.options.kj?"1":"0";a=c>0?lk(this,a,b,this.Vh)||f:c<0?lk(this,a,b,this.Qm)||f:d?lk(this,a,b,this.Rj)||f:lk(this,a,b,e)||f;if(/^\s*-?\d+(\.\d+)?\s*$/.test(a))a=Number(a)+c,d&&(a=-a);else{if(c>0){a=a+" + "+c;var h=this.Vh}else c<0&&(a=a+" - "+-c,h=this.Qm);d&&(a=c?"-("+a+")":"-"+a,h=this.Rj);h=Math.floor(h);e=Math.floor(e);h&&e>=h&&(a="("+a+")")}return a};S.Cs={};S.controls_if=function(a){var b=0,c="";S.bf&&(c+=kk(S.bf,a));do{var d=lk(S,a,"IF"+b,S.Qj)||"false";var e=mk(a,"DO"+b);S.Tc&&(e=ik(kk(S.Tc,a),S.Mj)+e);c+=(b>0?" else ":"")+"if ("+d+") {\n"+e+"}";++b}while(L(a,"IF"+b));if(L(a,"ELSE")||S.Tc)e=mk(a,"ELSE"),S.Tc&&(e=ik(kk(S.Tc,a),S.Mj)+e),c+=" else {\n"+e+"}";return c+"\n"};
S.logic_compare=function(a){var b={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[nf(a,"OP")],c=b=="=="||b=="!="?S.Rp:S.Pm,d=lk(S,a,"A",c)||"0";a=lk(S,a,"B",c)||"0";return[d+" "+b+" "+a,c]};S.logic_operation=function(a){var b=nf(a,"OP")=="AND"?"&&":"||",c=b=="&&"?S.Xh:S.Pj,d=lk(S,a,"A",c);a=lk(S,a,"B",c);if(d||a){var e=b=="&&"?"true":"false";d||(d=e);a||(a=e)}else a=d="false";return[d+" "+b+" "+a,c]};S.logic_negate=function(a){var b=S.Oj;return["!"+(lk(S,a,"BOOL",b)||"true"),b]};
S.logic_boolean=function(a){return[nf(a,"BOOL")=="TRUE"?"true":"false",S.Nm]};S.logic_ternary=function(a){var b=lk(S,a,"IF",S.Wh)||"false",c=lk(S,a,"THEN",S.Wh)||"null";a=lk(S,a,"ELSE",S.Wh)||"null";return[b+" ? "+c+" : "+a,S.Wh]};var ok={am:"\u12a0\u121b\u122d\u129b",ar:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",be:"\u0431\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0456","be-tarask":"Tara\u0161kievica",bg:"\u0431\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438 \u0435\u0437\u0438\u043a",bn:"\u09ac\u09be\u0982\u09b2\u09be",br:"Brezhoneg",ca:"Catal\u00e0",cs:"\u010cesky",da:"Dansk",de:"Deutsch",el:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",en:"English",eo:"Esperanto",es:"Espa\u00f1ol",eu:"Euskara",fa:"\u0641\u0627\u0631\u0633\u06cc",
fi:"Suomi",fo:"F\u00f8royskt",fr:"Fran\u00e7ais",gl:"Galego",ha:"Hausa",he:"\u05e2\u05d1\u05e8\u05d9\u05ea",hi:"\u0939\u093f\u0928\u094d\u0926\u0940",hr:"Hrvatski",hu:"Magyar",hy:"\u0570\u0561\u0575\u0565\u0580\u0567\u0576",ia:"Interlingua",id:"Bahasa Indonesia",ig:"As\u1ee5s\u1ee5 Igbo",is:"\u00cdslenska",it:"Italiano",ja:"\u65e5\u672c\u8a9e",kab:"Taqbaylit",kn:"\u0c95\u0ca8\u0ccd\u0ca8\u0ca1",ko:"\ud55c\uad6d\uc5b4",lt:"Lietuvi\u0173",lv:"Latvie\u0161u",ms:"Bahasa Melayu",my:"\u1019\u103c\u1014\u103a\u1019\u102c\u1005\u102c",
nb:"Norsk (bokm\u00e5l)",nl:"Nederlands, Vlaams",pl:"Polski",pms:"Piemont\u00e8is",pt:"Portugu\u00eas","pt-br":"Portugu\u00eas Brasileiro",ro:"Rom\u00e2n\u0103",ru:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",sc:"Sardu",sk:"Sloven\u010dina",sl:"Sloven\u0161\u010dina",sq:"Shqip",sr:"\u0421\u0440\u043f\u0441\u043a\u0438","sr-latn":"Srpski",sv:"Svenska",th:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",ti:"\u1275\u130d\u122d\u129b",tr:"T\u00fcrk\u00e7e",uk:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",
ur:"\u0627\u064f\u0631\u062f\u064f\u0648\u202c",vi:"Ti\u1ebfng Vi\u1ec7t",yo:"\u00c8d\u00e8 Yor\u00f9b\u00e1","zh-hans":"\u7b80\u4f53\u4e2d\u6587","zh-hant":"\u6b63\u9ad4\u4e2d\u6587"},pk=window.BlocklyGamesLang,qk=window.BlocklyGamesLanguages,rk=["ar","fa","he","ur"].includes(pk),sk=/\.html$/.test(window.location.pathname),T=document.getElementById.bind(document);
function tk(a){try{if(a.lineno||a.colno){var b=Date.now();if(!(tk.Yn+1E4>b)){tk.Yn=b;var c=new XMLHttpRequest,d="error="+encodeURIComponent((a.error&&a.error.stack||a.message+" "+a.filename+" "+a.lineno+":"+a.colno).trim())+"&url="+encodeURIComponent(window.location);c.open("POST","/scripts/errorReporter.py");c.setRequestHeader("Content-Type","application/x-www-form-urlencoded");c.send(d);console.log("Error reported.")}}}catch(e){console.log(a.error)}}tk.Yn=0;sk||window.addEventListener("error",tk);
var U,uk=Math,vk=uk.floor,wk=Number,xk,yk=window.location.search.match(RegExp("[?&]level=([^&]+)"));xk=yk?decodeURIComponent(yk[1].replace(/\+/g,"%20")):"NaN";var zk=vk.call(uk,wk(xk));U=isNaN(zk)?1:Math.max(1,Math.min(zk,10));
function Ak(a){document.title=V("Games.name",!0)+(a&&" : ")+a;document.dir=rk?"rtl":"ltr";document.head.parentElement.setAttribute("lang",pk);if(a=T("languageMenu")){for(var b=[],c=ba(qk),d=c.next();!d.done;d=c.next())d=d.value,b.push([ok[d],d]);b.sort(function(e,f){return e[0]>f[0]?1:e[0]<f[0]?-1:0});a.options.length=0;b=ba(b);for(c=b.next();!c.done;c=b.next())d=ba(c.value),c=d.next().value,d=d.next().value,c=new Option(c,d),d===pk&&(c.selected=!0),a.options.add(c);a.options.length<=1&&(a.style.display=
"none")}for(a=1;a<=10;a++)b=T("level"+a),c=!!Bk(a),b&&c&&(b.className+=" level_done");(a=document.querySelector('meta[name="viewport"]'))&&screen.availWidth<725&&a.setAttribute("content","width=725, initial-scale=.35, user-scalable=no")}function Bk(a){var b=Ck;try{var c=window.localStorage[b+a]}catch(d){}return c}
function Dk(a,b){if(!a)throw TypeError("Element not found: "+a);typeof a==="string"&&(a=T(a));a.addEventListener("click",b,!0);a.addEventListener("touchend",function(c){c.preventDefault();b(c)},!0)}function Ek(a){a%=360;a<0&&(a+=360);return a}function V(a,b){var c=window.BlocklyGamesMsg[a];c===void 0&&(c="[Unknown message: "+a+"]");return b?Fk(c):c}function Fk(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")};S.bird_noWorm=function(){return["noWorm()",S.$e]};S.bird_heading=function(a){return"heading("+Number(nf(a,"ANGLE"))+", 'block_id_"+a.id+"');\n"};S.bird_position=function(a){return["get"+nf(a,"XY").charAt(0)+"()",S.$e]};S.bird_compare=function(a){var b=nf(a,"OP")==="LT"?"<":">",c=S.Pm,d=lk(S,a,"A",c)||"0";a=lk(S,a,"B",c)||"0";return[d+" "+b+" "+a,c]};S.bird_and=function(a){var b=S.Xh,c=lk(S,a,"A",b);a=lk(S,a,"B",b);c||a?(c||(c="true"),a||(a="true")):a=c="false";return[c+" && "+a,b]};
S.bird_ifElse=function(a){var b=lk(S,a,"CONDITION",S.Qj)||"false",c=mk(a,"DO");a=mk(a,"ELSE");return"if ("+b+") {\n"+c+"} else {\n"+a+"}\n"};Jf.controls_if.Sq=Jf.controls_if.init;Jf.controls_if.init=function(){this.Sq();this.yj(!1);this.vj(!1)};S.math_number=function(a){a=Number(nf(a,"NUM"));return[a,a>=0?S.Nm:S.Rj]};function Gk(){var a=V("Games.bird",!0),b="";var c='\n&nbsp;\n<button id="linkButton" title="'+V("Games.linkTooltip",!0)+'">\n  <img src="common/1x1.gif" class="link icon21">\n</button>\n';b&&(b=" &nbsp; "+b);a='\n<span id="title">\n  <a href="'+(sk?"index.html":"./")+"?lang="+pk+'">'+V("Games.name",!0)+"</a> : "+a+"\n</span>\n";if(U){var d=" &nbsp ";for(var e=1;e<=10;e++){var f="?lang="+pk+"&level="+e;d+=" ";d=e===U?d+('<span class="level_number level_done" id="level'+e+'">'+e+"</span>"):e===10?d+
('<a class="level_number" id="level'+e+'" href="'+f+'">'+e+"</a>"):d+('<a class="level_dot" id="level'+e+'" href="'+f+'"></a>')}}else d="";b='\n\n<table width="100%">\n  <tr>\n    <td>\n      <h1>\n        '+(a+"\n        "+d+'\n      </h1>\n    </td>\n    <td id="header_cta" class="farSide">\n      <select id="languageMenu"></select>\n      '+c+"\n      \n      "+b+'\n    </td>\n  </tr>\n</table>\n\n\n<div id="visualization">\n  <svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="svgBird" width="400px" height="400px">\n  </svg>\n</div>\n\n<table width=400>\n  <tr>\n    <td style="width: 190px;">\n    </td>\n    <td>\n      <button id="runButton" class="primary" title="')+
V("Games.runTooltip",!0)+'">\n        <img src="common/1x1.gif" class="run icon21"> '+V("Games.runProgram",!0)+'\n      </button>\n      <button id="resetButton" class="primary" style="display: none" title="'+V("Games.resetTooltip",!0)+'">\n        <img src="common/1x1.gif" class="stop icon21"> '+V("Games.resetProgram",!0)+"\n      </button>\n    </td>\n  </tr>\n</table>\n\n";c='<block type="bird_heading"></block>\n';U>=2&&(c+='<block type="bird_noWorm" disabled="'+(U===4||U===5)+'"></block>\n');
U>=4&&(c+='\n<block type="bird_compare">\n  <field name="OP">LT</field>\n  <value name="A">\n    <block type="bird_position" movable="false">\n      <field name="XY">X</field>\n    </block>\n  </value>\n  <value name="B">\n    <block type="math_number" movable="false">\n      <field name="NUM">50</field>\n    </block>\n  </value>\n</block>\n');U>=5&&(c+='\n<block type="bird_compare">\n  <field name="OP">LT</field>\n  <value name="A">\n    <block type="bird_position" movable="false">\n      <field name="XY">Y</field>\n    </block>\n  </value>\n  <value name="B">\n    <block type="math_number" movable="false">\n      <field name="NUM">50</field>\n    </block>\n  </value>\n</block>\n');
U>=8&&(c+='<block type="bird_and"></block>\n');return b+('<xml id="toolbox" xmlns="https://developers.google.com/blockly/xml">'+c+'</xml>\n<div id="blockly"></div>\n\n\n<div id="dialogShadow" class="dialogAnimate"></div>\n<div id="dialogBorder"></div>\n<div id="dialog"></div>\n\n\n<div id="dialogDone" class="dialogHiddenContent">\n  <div class="large">')+(V("Games.congratulations",!0)+'</div>\n  <div id="dialogLinesText" class="large"></div>\n  <pre id="containerCode"></pre>\n  <div id="dialogDoneText" class="large"></div>\n  <div id="dialogDoneButtons" class="farSide farSideButtons">\n    <button class="addHideHandler">'+
Fk(q.DIALOG_CANCEL)+'</button>\n    <button id="doneOk" class="secondary">'+Fk(q.DIALOG_OK)+'</button>\n  </div>\n</div>\n\n\n<div id="dialogAbort" class="dialogHiddenContent">\n  ')+(V("Games.helpAbort",!0)+'\n  <div class="farSide farSideButtons">\n    <button class="addHideHandler">'+Fk(q.DIALOG_CANCEL)+'</button>\n    <button id="abortOk" class="secondary">'+Fk(q.DIALOG_OK)+'</button>\n  </div>\n</div>\n\n\n<div id="dialogStorage" class="dialogHiddenContent">\n  <div id="containerStorage"></div>\n  \n<div class="farSide farSideButtons">\n  <button class="secondary addHideHandler">')+
(Fk(q.DIALOG_OK)+'</button>\n</div>\n\n</div>\n\n\n\n<div id="dialogHelp1" class="dialogHiddenContent">\n  <table><tr><td rowspan=2>\n    <img src="common/help.png">\n  </td><td>\n    <div class="farSide"><img src="bird/help_heading.png" class="mirrorImg" height=27 width=141></div>\n  </td></tr><tr><td>\n    ')+(V("Bird.helpHeading",!0)+'\n  </td></tr></table>\n</div>\n<div id="dialogHelp2" class="dialogHiddenContent">\n  <table><tr><td>\n    <img src="common/help.png">\n  </td><td>\n    '+V("Bird.helpHasWorm",
!0)+'\n  </td><td>\n    <img src="bird/help_up.png">\n  </td></tr></table>\n</div>\n<div id="dialogHelp4" class="dialogHiddenContent">\n  <table><tr><td>\n    <img src="common/help.png">\n  </td><td>\n    '+V("Bird.helpX",!0)+'\n  </td><td>\n    <img src="bird/help_up.png">\n  </td></tr></table>\n</div>\n<div id="dialogHelp5" class="dialogHiddenContent">\n  <table><tr><td>\n    <img src="bird/help_up.png">\n  </td><td>\n    '+V("Bird.helpElse",!0)+'\n  </td><td>\n    <img src="common/help.png">\n  </td></tr></table>\n</div>\n<div id="dialogHelp6" class="dialogHiddenContent">\n  <table><tr><td>\n    <img src="bird/help_up.png">\n  </td><td>\n    '+
V("Bird.helpElseIf",!0)+'\n  </td><td>\n    <img src="common/help.png">\n  </td></tr></table>\n</div>\n<div id="dialogHelp8" class="dialogHiddenContent">\n  <table><tr><td>\n    <img src="bird/help_up.png">\n  </td><td>\n    '+V("Bird.helpAnd",!0)+'\n  </td><td>\n    <img src="common/help.png">\n  </td></tr></table>\n</div>\n<div id="dialogMutatorHelp" class="dialogHiddenContent">\n  <table><tr><td>\n    <img src="bird/help_mutator.png" class="mirrorImg" height=58 width=107>\n  </td><td>\n    '+V("Bird.helpMutator",
!0)+"\n  </td></tr></table>\n</div>\n\n")};function Hk(){}Hk.prototype.Gl=function(){};Hk.prototype.Fl=function(){};Hk.prototype.Hl=function(){};function Ik(){Ik.i.constructor.call(this);this.Kj=!1}I(Ik,Hk);function jg(a,b,c){b instanceof Q?(b=!b.getParent()&&b.Kc(),a.Kj=b&&!c):a.Kj=b.Kc();return a.Kj};function Jk(a,b){Jk.i.constructor.call(this,b);this.Ff=a}I(Jk,Rd);Jk.prototype.type="trashcan_open";Jk.prototype.P=function(){var a=Jk.i.P.call(this);a.isOpen=this.Ff;return a};Jk.prototype.M=function(a){Jk.i.M.call(this,a);this.Ff=a.isOpen};C(Qc,"trashcan_open",Jk);function gj(a){gj.i.constructor.call(this);this.g=a;this.id="trashcan";this.Ad=[];this.Ub=null;this.g.options.$i<=0||(a=new ke({scrollbars:!0,parentWorkspace:this.g,rtl:this.g.m,oneBasedIndex:this.g.options.kj,renderer:this.g.options.qj,rendererOverrides:this.g.options.rj,move:{scrollbars:!0}}),a.Ab=this.g.Ab==3?2:3,this.Ub=new (Zc(Vc,this.g.options,!0))(a),wf(this.g,this.Uq.bind(this)))}I(gj,Ik);g=gj.prototype;g.df=47;g.Nh=44;g.Xe=16;g.Jm=20;g.Np=20;g.Uh=10;g.Uj=0;g.Vj=32;g.Ip=.1;g.Qi=!1;g.wl=0;
g.u=null;g.Fj=null;g.kl=0;g.Kd=0;g.Ui=0;g.Hj=0;g.Qn=!1;
g.wa=function(){this.u=y(Xb,{"class":"blocklyTrash"},null);var a=String(Math.random()).substring(2);var b=y(Qb,{id:"blocklyTrashBodyClipPath"+a},this.u);y(cc,{width:this.df,height:this.Nh,y:this.Xe},b);var c=y(Yb,{width:96,x:-this.Uj,height:124,y:-this.Vj,"clip-path":"url(#blocklyTrashBodyClipPath"+a+")"},this.u);c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.g.options.dh+"sprites.png");b=y(Qb,{id:"blocklyTrashLidClipPath"+a},this.u);y(cc,{width:this.df,height:this.Xe},b);this.Fj=
y(Yb,{width:96,x:-this.Uj,height:124,y:-this.Vj,"clip-path":"url(#blocklyTrashLidClipPath"+a+")"},this.u);this.Fj.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.g.options.dh+"sprites.png");Cb(this.u,"mousedown",this,this.eq);Cb(this.u,"mouseup",this,this.click);Cb(c,"mouseover",this,this.Qq);Cb(c,"mouseout",this,this.Oq);this.Yj();return this.u};
g.init=function(){this.g.options.$i>0&&(mc(this.Ub.wa(dc),B(this.g)),this.Ub.init(this.g));Eb(this.g.Zc,{component:this,weight:1,wd:[Nb,Ib,Mb,Lb]});this.Qn=!0;this.Rf(!1)};g.dispose=function(){Gb(this.g.Zc,"trashcan");this.u&&(A(this.u),this.u=null);this.g=this.Fj=null;clearTimeout(this.kl)};
g.position=function(a,b){if(this.Qn){var c=new Da(this.df,this.Nh+this.Xe);var d=this.Np;var e=this.Jm,f=this.g,h=f.W&&!!f.W.X;(a.Dr.position!==2?0:1)===0?(d=a.Wj.left+d,h&&f.m&&(d+=ne)):(d=a.Wj.left+a.jp.width-c.width-d,h&&!f.m&&(d-=ne));a=a.Wj.top+a.jp.height-c.height-e;f.W&&f.W.ga&&(a-=ne);d=new wa(a,a+c.height,d,d+c.width);c=this.Jm;f=d.left;a=d.right-d.left;e=d.bottom-d.top;h=0;for(var k;k=b[h];h++)d.left>k.right||d.right<k.left||d.top>k.bottom||d.bottom<k.top||(d=k.top-e-c,d=new wa(d,d+e,f,
f+a),h=-1);b=d;this.Hj=b.top;this.Ui=b.left;this.u.setAttribute("transform","translate("+this.Ui+","+this.Hj+")")}};g.Gg=function(){return new wa(this.Hj,this.Hj+this.Nh+this.Xe,this.Ui,this.Ui+this.df)};g.getClientRect=function(){if(!this.u)return null;var a=this.u.getBoundingClientRect(),b=a.top+this.Vj-this.Uh;a=a.left+this.Uj-this.Uh;return new wa(b,b+this.Xe+this.Nh+2*this.Uh,a,a+this.df+2*this.Uh)};g.Gl=function(){this.Rf(this.Kj)};g.Fl=function(){this.Rf(!1)};
g.Hl=function(){setTimeout(this.Rf.bind(this,!1),100)};g.Rf=function(a){this.Qi!=a&&(clearTimeout(this.kl),this.Qi=a,this.Yj())};g.Yj=function(){this.Kd+=this.Qi?.2:-.2;this.Kd=Math.min(Math.max(this.Kd,this.wl),1);Kk(this,this.Kd*45);this.u.style.opacity=.4+this.Kd*.4;this.Kd>this.wl&&this.Kd<1&&(this.kl=setTimeout(this.Yj.bind(this),20))};function Kk(a,b){var c=a.g.Ab==3;a.Fj.setAttribute("transform","rotate("+(c?-b:b)+","+(c?4:a.df-4)+","+(a.Xe-2)+")")}
g.click=function(){if(this.Ad.length&&(!this.Ub||!this.Ub.isVisible())){var a=this.Ad.map(td);this.Ub.show(a);Ij(this,!0)}};function Ij(a,b){a=new (H("trashcan_open"))(b,a.g.id);E(a)}g.eq=function(a){this.Ub&&this.Ub.isVisible()||!this.Ad.length||a.stopPropagation()};g.Qq=function(){this.Ad.length&&this.Rf(!0)};g.Oq=function(){this.Rf(!1)};
g.Uq=function(a){if(!(this.g.options.$i<=0)&&a.type=="delete"&&a.Jf.tagName&&a.Jf.tagName.toLowerCase()!="shadow"){for(var b=a=a.Jf.cloneNode(!0);b;){b.removeAttribute&&(b.removeAttribute("x"),b.removeAttribute("y"),b.removeAttribute("id"),b.removeAttribute("disabled"),b.nodeName=="comment"&&(b.removeAttribute("h"),b.removeAttribute("w"),b.removeAttribute("pinned")));var c=b.firstChild||b.nextSibling;if(!c)for(c=b.parentNode;c;){if(c.nextSibling){c=c.nextSibling;break}c=c.parentNode}b=c}a=sd(a);if(this.Ad.indexOf(a)==
-1){for(this.Ad.unshift(a);this.Ad.length>this.g.options.$i;)this.Ad.pop();this.wl=a=this.Ip;this.Qi||Kk(this,a*45)}}};function Lk(a){Lk.i.constructor.call(this);a.nh=this.pr.bind(this);var b=this.g=new Ji(a),c=new Bi(this.g,this);b.qb=c;b.qc=b.qb.qc.bind(b.qb);this.g.Id=!0;this.g.ra(this.hd);this.id=fb();this.m=!!a.m;this.Yd=a.Ab;this.Ik=[];this.Yi=[];this.lg=[];this.Ha=[];this.Tl=[];this.Vf=this.g.na.C().ai;this.S=null}I(Lk,Ik);g=Lk.prototype;g.ee=!0;g.hd=!1;g.ie=!0;g.la=8;g.Ye=Lk.prototype.la;g.Hp=Lk.prototype.Ye*3;g.Up=2.5;g.ka=0;g.kb=0;g.qq=70;
g.wa=function(a){this.u=y(a,{"class":"blocklyFlyout",style:"display: none"},null);this.Qa=y($b,{"class":"blocklyFlyoutBackground"},this.u);this.u.appendChild(this.g.wa());this.g.Ta.subscribe(this.Qa,"flyoutBackgroundColour","fill");this.g.Ta.subscribe(this.Qa,"flyoutOpacity","fill-opacity");return this.u};
g.init=function(a){this.S=a;this.g.S=a;this.g.W=new le(this.g,!1,!0,"blocklyFlyoutScrollbar",this.Up);this.lb();Array.prototype.push.apply(this.Ik,u(this.u,"wheel",this,this.Kr));this.ee||(this.Di=this.Jk.bind(this),wf(this.S,this.Di));Array.prototype.push.apply(this.Ik,u(this.Qa,"mousedown",this,this.Od));this.g.Cd=this.S.Cd.bind(this.S);this.g.nm(this.S.aa);var b=this.g;b.mj=new jf(b);Eb(a.Zc,{component:this,weight:1,wd:[Ib,Mb]})};
g.dispose=function(){this.lb();Gb(this.g.Zc,this.id);v(this.Ik);this.Di&&(lb(this.S.Ha,this.Di),this.Di=null);this.g&&(this.g.Ta.unsubscribe(this.Qa),this.g.S=null,this.g.dispose(),this.g=null);this.u&&(A(this.u),this.u=null);this.S=this.Qa=null};g.Ed=function(){return this.ka};g.isVisible=function(){return this.hd};g.ra=function(a){var b=a!=this.isVisible();this.hd=a;b&&(this.ee||Ti(this.g),this.Fh())};g.Fe=function(a){var b=a!=this.ie;this.ie=a;b&&this.Fh()};
g.Fh=function(){var a=this.ie?this.isVisible():!1;this.u.style.display=a?"block":"none";this.g.W.Fe(a)};g.lb=function(){if(this.isVisible()){this.ra(!1);for(var a=0,b;b=this.Ha[a];a++)v(b);this.Ha.length=0;this.Sd&&(lb(this.g.Ha,this.Sd),this.Sd=null)}};
g.show=function(a){this.g.bb(!1);this.lb();Mk(this);typeof a=="string"&&(a=Nk(this,a));this.ra(!0);a=he(a);a=Ok(this,a);Pk(this,a.lq,a.vq);this.Ha.push(u(this.Qa,"mouseover",this,function(){for(var b=this.g.qa(!1),c=0,d;d=b[c];c++)d.jh()}));this.ka=0;this.g.bb(!0);this.Xl();this.Jk();this.position();this.Sd=this.Xl.bind(this);wf(this.g,this.Sd)};
function Ok(a,b){var c=[],d=[];a.Tl.length=0;for(var e=a.Hp,f=0,h;h=b[f];f++){if(h.custom){var k=Nk(a,h.custom);k=he(k);b.splice.apply(b,[f,1].concat(k));h=b[f]}switch(h.kind.toUpperCase()){case "BLOCK":k=h;var l=k;h=null;var m=l.blockxml;m&&typeof m!="string"?h=m:m&&typeof m=="string"?(h=td(m),l.blockxml=h):l.type&&(h=J("xml"),h.setAttribute("type",l.type),h.setAttribute("disabled",l.disabled),l.blockxml=h);if(!h)throw Error("Error: Invalid block definition. Block definition must have blockxml or type.");
l=h;h=a;m=vd(l,h.g);m.isEnabled()||h.Tl.push(m);h=m;k=parseInt(k.gap||l.getAttribute("gap"),10);d.push(isNaN(k)?e:k);c.push({type:"block",block:h});break;case "SEP":k=d;l=e;h=parseInt(h.gap,10);!isNaN(h)&&k.length>0?k[k.length-1]=h:k.push(l);break;case "LABEL":k=Qk(a,h,!0);c.push({type:"button",button:k});d.push(e);break;case "BUTTON":k=Qk(a,h,!1),c.push({type:"button",button:k}),d.push(e)}}return{lq:c,vq:d}}
function Nk(a,b){b=a.g.S.sm[b]||null;if(typeof b!="function")throw TypeError("Couldn't find a callback function when opening a toolbox category.");a=b(a.g.S);if(!Array.isArray(a))throw new TypeError("Result of toolbox category callback must be an array.");return a}function Qk(a,b,c){if(!ka.Gp)throw Error("Missing require for Blockly.FlyoutButton");return new ka.Gp(a.g,a.S,b,c)}
function Mk(a){for(var b=a.g.qa(!1),c=0,d;d=b[c];c++)d.j==a.g&&d.dispose(!1,!1);for(c=0;c<a.Yi.length;c++)if(b=a.Yi[c])We(b),A(b);for(c=a.Yi.length=0;b=a.lg[c];c++)b.dispose();a.lg.length=0;a.g.mj.clear()}function Rk(a,b){return function(c){var d=a.S.Cd(c);d&&(Zg(d,b),Yg(d,c,a))}}g.Od=function(a){var b=this.S.Cd(a);b&&Yg(b,a,this)};
function Ug(a,b){var c=null;D++;var d=a.S.rf();a.S.bb(!1);try{var e=a.S;if(!b.I())throw Error("oldBlock is not rendered.");var f=qd(b,!0);e.bb(!1);var h=vd(f,e);if(!h.I())throw Error("block is not rendered.");var k=$a(e.sa),l=$a(a.g.sa),m=b.Z();m.scale(a.g.scale);var p=ua(va(l,m),k);p.scale(1/e.scale);h.moveBy(p.x,p.y);c=h}finally{D--}He();b=Bd(a.S,d);if(D==0){F(!0);for(d=0;d<b.length;d++)e=b[d],E(new (H("var_create"))(e));E(new (H("create"))(c))}a.ee?a.lb():a.Jk();return c}
g.Jk=function(){for(var a=this.g.qa(!1),b=0,c;c=a[b];b++)if(this.Tl.indexOf(c)==-1)for(var d=tf(this.S,mb(c));c;)c.Pc(d),c=ob(c)};
g.Xl=function(){this.Sd&&lb(this.g.Ha,this.Sd);this.g.scale=this.S.scale;for(var a=0,b=this.g.qa(!1),c=0,d;d=b[c];c++){var e=ng(d).width;d.o&&(e-=this.Vf);a=Math.max(a,e)}for(c=0;d=this.lg[c];c++)a=Math.max(a,d.width);a+=this.Ye*1.5+this.Vf;a*=this.g.scale;a+=ne;if(this.ka!=a){for(c=0;d=b[c];c++){if(this.m){e=d.Z().x;var f=a/this.g.scale-this.Ye;d.o||(f-=this.Vf);d.moveBy(f-e,0)}d.Cn&&(e=d.Cn,f=d,d=ng(f),e.setAttribute("width",d.width),e.setAttribute("height",d.height),f=f.Z(),e.setAttribute("y",
f.y),e.setAttribute("x",this.m?f.x-d.width:f.x))}if(this.m)for(c=0;d=this.lg[c];c++)b=d.zs().y,d.moveTo(a/this.g.scale-d.width-this.Ye-this.Vf,b);this.S.Ab!=this.Yd||this.Yd!=2||this.S.oa||this.S.translate(this.S.scrollX+a,this.S.scrollY);this.ka=a;this.position();Ti(this.S)}this.Sd&&wf(this.g,this.Sd)};function Sg(a){return a.g.W?a.g.W.isVisible():!1};function Sk(a){Sk.i.constructor.call(this,a)}I(Sk,Lk);g=Sk.prototype;g.pr=function(a){if(this.isVisible()){var b=this.g.qb,c=b.Dd(),d=Hg(b);b=zi(b);typeof a.y=="number"&&(this.g.scrollY=-(c.top+(c.height-d.height)*a.y));this.g.translate(this.g.scrollX+b.left,this.g.scrollY+b.top)}};
g.position=function(){if(this.isVisible()&&this.S.isVisible()){var a=Hg(this.S.qb);this.kb=a.height;var b=this.ka-this.la;a=a.height-2*this.la;var c=this.Yd==3,d=b+this.la;d=["M "+(c?d:0)+",0"];d.push("h",c?-b:b);d.push("a",this.la,this.la,0,0,c?0:1,c?-this.la:this.la,this.la);d.push("v",Math.max(0,a));d.push("a",this.la,this.la,0,0,c?0:1,c?this.la:-this.la,this.la);d.push("h",c?b:-b);d.push("z");this.Qa.setAttribute("d",d.join(" "));this.isVisible()?(c=this.S.qb,b=zi(c),a=Hg(c),c=yi(c),c=this.S.Ab==
this.Yd?this.S.oa?this.Yd==2?c.width:a.width-this.ka:this.Yd==2?0:a.width:this.Yd==2?0:a.width+b.left-this.ka):c=0;b=this.ka;a=this.kb;this.u.setAttribute("width",b);this.u.setAttribute("height",a);Wi(this.g,b,a);this.u.tagName=="svg"?nc(this.u,"translate("+c+"px,0px)"):this.u.setAttribute("transform","translate("+c+",0)");if(b=this.g.W)b.wj(c,0),b.resize(),b.ga&&b.ga.setPosition(b.ga.position.x,b.ga.position.y),b.X&&b.X.setPosition(b.X.position.x,b.X.position.y)}};
g.Ro=function(){var a=this.g.W;a.X&&a.X.set(0,!0)};g.Kr=function(a){var b=cb(a);if(b.y){var c=this.g.qb,d=c.Dd();b=Hg(c).top-d.top+b.y;c=this.g.W;c.X&&c.X.set(b,!0);lh();Kc()}a.preventDefault();a.stopPropagation()};
function Pk(a,b,c){a.g.scale=a.S.scale;for(var d=a.Ye,e=a.m?d:d+a.Vf,f=0,h;h=b[f];f++)if(h.type=="block"){h=h.block;for(var k=nb(h,!1),l=0,m;m=k[l];l++)m.Xa=!0;h.U();l=h.I();k=ng(h);m=h.o?e-a.Vf:e;h.moveBy(m,d);var p=a,t=h,x=k,G=f;m=y(cc,{"fill-opacity":0,x:a.m?m-k.width:m,y:d,height:x.height,width:x.width},null);m.cc=t;Se(m);p.g.sa.insertBefore(m,t.I());t.Cn=m;p.Yi[G]=m;p=a;p.Ha.push(u(l,"mousedown",null,Rk(p,h)));p.Ha.push(u(m,"mousedown",null,Rk(p,h)));p.Ha.push(Cb(l,"mouseenter",h,h.bi));p.Ha.push(Cb(l,
"mouseleave",h,h.jh));p.Ha.push(Cb(m,"mouseenter",h,h.bi));p.Ha.push(Cb(m,"mouseleave",h,h.jh));d+=k.height+c[f]}else h.type=="button"&&(k=a,l=h.button,m=e,p=d,t=l.wa(),l.moveTo(m,p),l.show(),k.Ha.push(u(t,"mousedown",k,k.Od)),k.lg.push(l),d+=h.button.height+c[f])}g.getClientRect=function(){if(!this.u||this.ee||!this.isVisible())return null;var a=this.u.getBoundingClientRect(),b=a.left;return this.Yd==2?new wa(-1E9,1E9,-1E9,b+a.width):new wa(-1E9,1E9,b,1E9)};C(Vc,"default",Sk);function Tk(a,b){for(var c=0,d=0;d<b.length;d++)for(var e=b[d];e;)setTimeout(e.Ee.bind(e,a),c),e=ob(e),c+=10}function Uk(a,b){if(a.Kc())Array.prototype.push.apply(b,nb(a,!1));else{a=pd(a,!1);for(var c=0;c<a.length;c++)Uk(a[c],b)}}function Vk(a){var b=[];a=a.qa(!0);for(var c=0;c<a.length;c++)Uk(a[c],b);return b}function Wk(a,b){F(b);var c=a.shift();c&&(c.j?(c.dispose(!1,!0),setTimeout(Wk,10,a,b)):Wk(a,b));F(!1)}
Sh.register({jb:function(){return q.UNDO},za:function(a){return a.j.Ne.length>0?"enabled":"disabled"},ta:function(a){vf(a.j,!1)},Lb:"workspace",id:"undoWorkspace",weight:1});Sh.register({jb:function(){return q.REDO},za:function(a){return a.j.ih.length>0?"enabled":"disabled"},ta:function(a){vf(a.j,!0)},Lb:"workspace",id:"redoWorkspace",weight:2});
Sh.register({jb:function(){return q.CLEAN_UP},za:function(a){return a.j.Ya()?a.j.qa(!1).length>1?"enabled":"disabled":"hidden"},ta:function(a){a=a.j;a.bb(!1);F(!0);for(var b=a.qa(!0),c=0,d=0,e;e=b[d];d++)if(e.Ya()){var f=e.Z();e.moveBy(-f.x,c-f.y);li(e);c=e.Z().y+ng(e).height+a.na.C().dg}F(!1);a.bb(!0)},Lb:"workspace",id:"cleanWorkspace",weight:3});
Sh.register({jb:function(){return q.COLLAPSE_ALL},za:function(a){if(a.j.options.collapse){a=a.j.qa(!1);for(var b=0;b<a.length;b++)for(var c=a[b];c;){if(!c.isCollapsed())return"enabled";c=ob(c)}return"disabled"}return"hidden"},ta:function(a){Tk(!0,a.j.qa(!0))},Lb:"workspace",id:"collapseWorkspace",weight:4});
Sh.register({jb:function(){return q.EXPAND_ALL},za:function(a){if(a.j.options.collapse){a=a.j.qa(!1);for(var b=0;b<a.length;b++)for(var c=a[b];c;){if(c.isCollapsed())return"enabled";c=ob(c)}return"disabled"}return"hidden"},ta:function(a){Tk(!1,a.j.qa(!0))},Lb:"workspace",id:"expandWorkspace",weight:5});
Sh.register({jb:function(a){if(a.j)return a=Vk(a.j).length,a==1?q.DELETE_BLOCK:q.DELETE_X_BLOCKS.replace("%1",String(a))},za:function(a){if(a.j)return Vk(a.j).length>0?"enabled":"disabled"},ta:function(a){if(a.j){oi(a.j);var b=Vk(a.j),c=fb();b.length<2?Wk(b,c):pf(q.DELETE_ALL_BLOCKS.replace("%1",b.length),function(d){d&&Wk(b,c)})}},Lb:"workspace",id:"workspaceDelete",weight:6});
Sh.register({jb:function(){return q.DUPLICATE_BLOCK},za:function(a){a=a.block;return!a.Xa&&a.Kc()&&a.Ya()?(uf(a.j)?tf(a.j,mb(a,!0)):1)?"enabled":"disabled":"hidden"},ta:function(a){if(a.block){a=a.block;var b=Zi,c=Dj;Gj(a);Yi(a.j);Zi=b;Dj=c}},Lb:"block",id:"blockDuplicate",weight:1});
Sh.register({jb:function(a){return a.block.jc?q.REMOVE_COMMENT:q.ADD_COMMENT},za:function(a){a=a.block;return Ha||a.Xa||!a.j.options.jq||a.isCollapsed()||!a.wb()?"hidden":"enabled"},ta:function(a){a=a.block;a.jc?a.Qf(null):a.Qf("")},Lb:"block",id:"blockComment",weight:2});
Sh.register({jb:function(a){return Uf(a.block)?q.EXTERNAL_INPUTS:q.INLINE_INPUTS},za:function(a){a=a.block;if(!a.Xa&&a.Ya()&&!a.isCollapsed())for(var b=1;b<a.v.length;b++)if(a.v[b-1].type!=3&&a.v[b].type!=3)return"enabled";return"hidden"},ta:function(a){a.block.Ge(!Uf(a.block))},Lb:"block",id:"blockInline",weight:3});
Sh.register({jb:function(a){return a.block.isCollapsed()?q.EXPAND_BLOCK:q.COLLAPSE_BLOCK},za:function(a){a=a.block;return!a.Xa&&a.Ya()&&a.j.options.collapse?"enabled":"hidden"},ta:function(a){a.block.Ee(!a.block.isCollapsed())},Lb:"block",id:"blockCollapseExpand",weight:4});
Sh.register({jb:function(a){return a.block.isEnabled()?q.DISABLE_BLOCK:q.ENABLE_BLOCK},za:function(a){a=a.block;return!a.Xa&&a.j.options.disable&&a.wb()?Fh(a)?"disabled":"enabled":"hidden"},ta:function(a){a=a.block;var b=$c;b||F(!0);a.Pc(!a.isEnabled());b||F(!1)},Lb:"block",id:"blockDisable",weight:5});
Sh.register({jb:function(a){var b=a.block;a=nb(b,!1).length;(b=ob(b))&&(a-=nb(b,!1).length);return a==1?q.DELETE_BLOCK:q.DELETE_X_BLOCKS.replace("%1",String(a))},za:function(a){return!a.block.Xa&&a.block.Kc()?"enabled":"hidden"},ta:function(a){F(!0);a.block&&Fj(a.block);F(!1)},Lb:"block",id:"blockDelete",weight:6});
Sh.register({jb:function(){return q.HELP},za:function(a){a=a.block;return(typeof a.zf=="function"?a.zf():a.zf)?"enabled":"hidden"},ta:function(a){a.block.showHelp()},Lb:"block",id:"blockHelp",weight:7});function W(a,b){return" "+a+","+b+" "}function Xk(a,b){return" "+a+b.join("")}function Yk(a,b){return" M "+a+","+b+" "}function N(a,b){return" m "+a+","+b+" "}function Zk(a,b){return" l "+a+","+b+" "}function O(a,b){return" "+a+" "+b+" "}function $k(a,b,c){return"a "+b+" "+b+" "+a+c};function al(){this.yc=0;this.Vp=3;this.Ob=5;this.Mm=8;this.fb=10;this.Vm=this.Ob;this.jg=15;this.cf=5;this.ai=8;this.Qp=15;this.Nj=4;this.Pp=12;this.wp=16;this.vp=this.Bm=this.jg;this.la=8;this.Zp=this.eg=15;this.Tm=0;this.Um=20;this.pp=4;this.$p=this.Ob;this.aq=this.fb;this.rp=this.Ob;this.qp=this.fb;this.ym=!1;this.Xp=15;this.Yp=100;this.Wp=15;this.dg=24;this.yp=14.5;this.xp=this.jg+11;this.Ap=2;this.zp=this.dg;this.Sm=N(0,0);this.Lp=12;this.Mp=6;this.Ue=11;this.Ve="normal";this.Te="sans-serif";
this.Gm=this.Sh=-1;this.Rh=4;this.Dm=16;this.ag=5;this.Cm="#fff";this.Lj=!Ha&&!Ia;this.Em=this.Dm;this.Cp=this.Bp=this.Fm=!1;this.Ep=this.ag;this.cg=12;this.Dp="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";
this.Fp=!1;this.oj=String(Math.random()).substring(2);this.Bi="";this.Hk=null;this.tn="";this.vg=this.pn=this.vk=null;this.Am="#cc0a0a";this.Km="#4286f4";this.Ph=100;this.Wm=5;this.Oh=10;this.tp=2;this.up=4;this.Hm=!1;this.Jp="#000000";this.Im=.2;this.Rm={Tp:1,Ze:2}}g=al.prototype;
g.init=function(){this.We=this.ol();this.Ze=this.ql();this.af=this.tl();this.Sj=this.rl();var a=this.la;this.Th={width:a,height:a,Sl:$k("0 0,0",a,W(-a,a)),lj:$k("0 0,0",a,W(a,a))};a=this.la;this.fg={tm:N(0,a)+$k("0 0,1",a,W(a,-a)),Fr:$k("0 0,1",a,W(a,a)),fq:$k("0 0,1",a,W(-a,a)),dk:$k("0 0,1",a,W(-a,-a)),lr:a}};
g.qh=function(){this.ei=Object.create(null);var a=document.createElement("span");a.style.font=this.Ve+" "+(this.Ue+"pt ")+this.Te;a.textContent="Hg";var b=document.createElement("div");b.style.width="1px";b.style.height=0;var c=document.createElement("div");c.style.display="flex";c.style.position="fixed";c.style.top=0;c.style.left=0;c.appendChild(a);c.appendChild(b);document.body.appendChild(c);try{var d={};c.style.alignItems="baseline";d.hc=b.offsetTop-a.offsetTop;c.style.alignItems="flex-end";d.height=
b.offsetTop-a.offsetTop}finally{document.body.removeChild(c)}a=d;this.Sh=a.height;this.Gm=a.hc};function pi(a,b){var c="auto_"+b;a.ei[c]||(a.ei[c]=bl({colourPrimary:b}));return{style:a.ei[c],name:c}}function ji(a,b){return a.ei[b||""]||(b&&b.indexOf("auto_")==0?pi(a,b.substring(5)).style:bl({colourPrimary:"#000000"}))}
function bl(a){var b={};a&&kd(b,a);a=pb(b.colourPrimary||"#000");b.Yc=a.Kg;b.colourSecondary?a=pb(b.colourSecondary).Kg:(a=b.Yc,a=ra("#fff",a,.6)||a);b.ni=a;b.colourTertiary?a=pb(b.colourTertiary).Kg:(a=b.Yc,a=ra("#fff",a,.3)||a);b.Ac=a;b.Gc=b.hat||"";return b}g.dispose=function(){this.Hk&&A(this.Hk);this.vk&&A(this.vk);this.pn&&A(this.pn);this.vg=null};g.ol=function(){var a=this.Lp,b=this.Mp;return{height:a,width:b,path:" l"+[W(b,a/4),W(-b*2,a/2),W(b,a/4)].join("")}};
g.tl=function(){var a=this.Xp,b=this.Yp;return{height:a,width:b,path:Xk("c",[W(30,-a),W(70,-a),W(b,0)])}};g.rl=function(){function a(f){f=f?-1:1;var h=-f,k=c/2;return Xk("c",[W(0,f*(k+2.5)),W(-b,h*(k+.5)),W(-b,f*k)])+Xk("s",[W(b,h*2.5),W(b,f*k)])}var b=this.ai,c=this.jg,d=a(!0),e=a(!1);return{type:this.Rm.Tp,width:b,height:c,Zb:e,eh:d}};
g.ql=function(){function a(h){return" l"+[W(h*d,c),W(h*3,0),W(h*d,-c)].join("")}var b=this.Qp,c=this.Nj,d=(b-3)/2,e=a(1),f=a(-1);return{type:this.Rm.Ze,width:b,height:c,Rd:e,Eo:f}};function ig(a,b){switch(b.type){case 1:case 2:return a.Sj;case 4:case 3:return a.Ze;default:throw Error("Unknown connection type");}}
g.wa=function(a,b,c){c=this.Ok(c);b="blockly-renderer-style-"+b;this.vg=document.getElementById(b);c=c.join("\n");if(this.vg)this.vg.firstChild.textContent=c;else{var d=document.createElement("style");d.id=b;d.appendChild(document.createTextNode(c));document.head.insertBefore(d,document.head.firstChild);this.vg=d}a=y(Rb,{},a);b=y(Wb,{id:"blocklyEmbossFilter"+this.oj},a);y(Tb,{"in":"SourceAlpha",stdDeviation:1,result:"blur"},b);c=y(Vb,{"in":"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,
"lighting-color":"white",result:"specOut"},b);y(Ub,{x:-5E3,y:-1E4,z:2E4},c);y(Sb,{"in":"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},b);y(Sb,{"in":"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},b);this.Bi=b.id;this.Hk=b;a=y(ac,{id:"blocklyDisabledPattern"+this.oj,patternUnits:"userSpaceOnUse",width:10,height:10},a);y(cc,{width:10,height:10,fill:"#aaa"},a);y($b,{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},a);this.tn=a.id;this.vk=a};
g.Ok=function(a){return[a+" .blocklyText, ",a+" .blocklyFlyoutLabelText {","font: "+this.Ve+" "+this.Ue+"pt "+this.Te+";","}",a+" .blocklyText {","fill: #fff;","}",a+" .blocklyNonEditableText>rect,",a+" .blocklyEditableText>rect {","fill: "+this.Cm+";","fill-opacity: .6;","stroke: none;","}",a+" .blocklyNonEditableText>text,",a+" .blocklyEditableText>text {","fill: #000;","}",a+" .blocklyFlyoutLabelText {","fill: #000;","}",a+" .blocklyText.blocklyBubbleText {","fill: #000;","}",a+" .blocklyEditableText:not(.editing):hover>rect {",
"stroke: #fff;","stroke-width: 2;","}",a+" .blocklyHtmlInput {","font-family: "+this.Te+";","font-weight: "+this.Ve+";","}",a+" .blocklySelected>.blocklyPath {","stroke: #fc3;","stroke-width: 3px;","}",a+" .blocklyHighlightedConnectionPath {","stroke: #fc3;","}",a+" .blocklyReplaceable .blocklyPath {","fill-opacity: .5;","}",a+" .blocklyReplaceable .blocklyPathLight,",a+" .blocklyReplaceable .blocklyPathDark {","display: none;","}",a+" .blocklyInsertionMarker>.blocklyPath {","fill-opacity: "+this.Im+
";","stroke: none;","}"]};function cl(a){this.hf=this.T=this.type=this.height=this.width=0;this.h=a;this.Yb=this.h.eg};function dl(a,b){dl.i.constructor.call(this,a);this.hb=b;this.shape=ig(this.h,b);this.te=!!this.shape.isDynamic;this.type|=1024}I(dl,cl);function el(a,b){el.i.constructor.call(this,a,b);this.type|=8192;this.height=this.te?0:this.shape.height;this.bc=this.width=this.te?0:this.shape.width;this.Db=this.h.cf;this.qg=0}I(el,dl);function fl(a,b){fl.i.constructor.call(this,a,b);this.type|=2048;this.height=this.shape.height;this.width=this.shape.width}I(fl,dl);
function gl(a,b){gl.i.constructor.call(this,a,b);this.type|=4096;this.height=this.shape.height;this.width=this.shape.width}I(gl,dl);function hl(a,b){hl.i.constructor.call(this,a,b.connection);this.type|=128;this.input=b;this.align=b.align;(this.zd=b.connection&&b.connection.H()?b.connection.H():null)?(a=ng(this.zd),this.pg=a.width,this.pi=a.height):this.pi=this.pg=0;this.Db=this.qg=0}I(hl,dl);
function il(a,b){il.i.constructor.call(this,a,b);this.type|=256;this.zd?(this.width=this.pg,this.height=this.pi):(this.height=this.h.xp,this.width=this.h.yp);this.kf=this.te?this.shape.height(this.height):this.shape.height;this.Bc=this.te?this.shape.width(this.height):this.shape.width;this.zd||(this.width+=this.Bc*(this.te?2:1));this.Db=this.te?this.shape.Db(this.kf):this.h.cf;this.qg=this.te?this.shape.qg(this.Bc):0}I(il,hl);
function jl(a,b){jl.i.constructor.call(this,a,b);this.type|=512;this.height=this.zd?this.pi+this.h.Tm:this.h.zp;this.width=this.h.Zp+this.shape.width}I(jl,hl);function kl(a,b){kl.i.constructor.call(this,a,b);this.type|=64;this.height=this.zd?this.pi-this.h.cf-this.h.Ob:this.shape.height;this.width=this.shape.width+this.h.Ap;this.Db=this.h.cf;this.kf=this.shape.height;this.Bc=this.shape.width}I(kl,hl);function ll(a,b){ll.i.constructor.call(this,a);this.icon=b;this.isVisible=b.isVisible();this.type|=4;a=new Da(Qj.prototype.$h,Qj.prototype.$h-2);this.height=a.height;this.width=a.width}I(ll,cl);function ml(a){ml.i.constructor.call(this,a);this.type|=524288;this.height=this.h.We.height;this.width=this.h.We.width}I(ml,cl);function nl(a,b){nl.i.constructor.call(this,a);this.zn=b;this.wb=b.Qh;this.tq=!1;this.type|=1;a=this.zn.getSize();this.height=a.height;this.width=a.width}I(nl,cl);
function ol(a){ol.i.constructor.call(this,a);this.type|=2;this.height=this.h.af.height;this.width=this.h.af.width;this.ff=this.height}I(ol,cl);function pl(a,b){pl.i.constructor.call(this,a);this.type=(b&&b!="left"?131072:32768)|16384;this.width=this.height=this.h.yc}I(pl,cl);function ql(a,b){ql.i.constructor.call(this,a);this.type=(b&&b!="left"?262144:65536)|16384;this.width=this.h.la;this.height=this.h.la/2}I(ql,cl);
function rl(a,b){rl.i.constructor.call(this,a);this.type|=40;this.width=b;this.height=this.h.Wp}I(rl,cl);function sl(a){this.type=1048576;this.elements=[];this.T=this.Ja=this.wc=this.minWidth=this.minHeight=this.width=this.height=0;this.In=this.yf=this.Vk=this.Ga=this.Gd=!1;this.h=a;this.Yb=this.h.eg;this.align=null}sl.prototype.measure=function(){throw Error("Unexpected attempt to measure a base Row.");};function tl(a){for(var b=a.elements.length-1,c;c=a.elements[b];b--)if(c.type&128)return c;return null}sl.prototype.Dj=function(){return!0};sl.prototype.Cg=function(){return!0};
function ul(a){ul.i.constructor.call(this,a);this.type|=2097152;this.ff=this.Wc=0;this.Hq=!1;this.connection=null}I(ul,sl);ul.prototype.Wk=function(a){var b=(a.Gc?a.Gc==="cap":this.h.ym)&&!a.o&&!a.F,c=a.F&&a.F.H();return!!a.o||b||(c?ob(c)==a:!1)};
ul.prototype.measure=function(){for(var a=0,b=0,c=0,d=0,e;e=this.elements[d];d++)b+=e.width,e.type&8||(e.type&2?c=Math.max(c,e.ff):a=Math.max(a,e.height));this.width=Math.max(this.minWidth,b);this.height=Math.max(this.minHeight,a)+c;this.Wc=this.ff=c;this.wc=this.width};ul.prototype.Dj=function(){return!1};ul.prototype.Cg=function(){return!1};function vl(a){vl.i.constructor.call(this,a);this.type|=4194304;this.Jn=!1;this.connection=null;this.hc=this.yg=0}I(vl,sl);
vl.prototype.Wk=function(a){return!!a.o||!!ob(a)};vl.prototype.measure=function(){for(var a=0,b=0,c=0,d=0,e;e=this.elements[d];d++)b+=e.width,e.type&8||(e.type&4096?c=Math.max(c,e.height):a=Math.max(a,e.height));this.width=Math.max(this.minWidth,b);this.height=Math.max(this.minHeight,a)+c;this.yg=c;this.wc=this.width};vl.prototype.Dj=function(){return!1};vl.prototype.Cg=function(){return!1};
function wl(a,b,c){wl.i.constructor.call(this,a);this.type|=24;this.width=c;this.height=b;this.Dn=!1;this.wc=0;this.elements=[new rl(this.h,c)]}I(wl,sl);wl.prototype.measure=function(){};function xl(a){xl.i.constructor.call(this,a);this.type|=8388608;this.ln=0}I(xl,sl);
xl.prototype.measure=function(){this.width=this.minWidth;this.height=this.minHeight;for(var a=0,b=0,c;c=this.elements[b];b++)this.width+=c.width,c.type&128&&(c.type&512?a+=c.pg:c.type&64&&c.pg!=0&&(a+=c.pg-c.Bc)),c.type&8||(this.height=Math.max(this.height,c.height));this.ln=a;this.wc=this.width+a};xl.prototype.Cg=function(){return!this.Gd&&!this.Ga};function yl(a,b){this.A=b;this.na=a;this.h=this.na.C();this.o=b.o?new el(this.h,b.o):null;this.Df=Uf(b)&&!b.isCollapsed();this.isCollapsed=b.isCollapsed();this.xb=b.xb();this.m=b.m;this.Xd=this.width=this.Yf=this.height=0;this.rows=[];this.Sn=[];this.Mn=[];this.Ia=new ul(this.h);this.pa=new vl(this.h);this.Cj=this.bc=0}g=yl.prototype;
g.measure=function(){var a=!!this.A.F,b=(this.A.Gc?this.A.Gc==="cap":this.h.ym)&&!this.o&&!a,c=this.Ia.Wk(this.A)?pl:ql;this.Ia.elements.push(new c(this.h));b?(a=new ol(this.h),this.Ia.elements.push(a),this.Ia.Wc=a.ff):a&&(this.Ia.Hq=!0,this.Ia.connection=new fl(this.h,this.A.F),this.Ia.elements.push(this.Ia.connection));this.A.v.length&&this.A.v[0].type==3&&!this.A.isCollapsed()?this.Ia.minHeight=this.h.aq:this.Ia.minHeight=this.h.$p;c=pl;this.Ia.elements.push(new c(this.h,"right"));this.rows.push(this.Ia);
a=new xl(this.h);this.Sn.push(a);c=lg(this.A);b=0;for(var d;d=c[b];b++){var e=new ll(this.h,d);this.isCollapsed&&d.iq?this.Mn.push(e):a.elements.push(e)}d=null;for(b=0;c=this.A.v[b];b++)if(c.isVisible()){!d||c.type!=3&&d.type!=3&&(c.type!=1&&c.type!=5||this.Df)||(this.rows.push(a),a=new xl(this.h),this.Sn.push(a));for(d=0;e=c.ba[d];d++)a.elements.push(new nl(this.h,e,c));this.$m(c,a);d=c}this.isCollapsed&&(a.In=!0,a.elements.push(new ml(this.h)));(a.elements.length||a.yf)&&this.rows.push(a);this.Ul();
this.rows.push(this.pa);this.Zm();a=this.rows;this.rows=[];for(b=0;b<a.length;b++)if(this.rows.push(a[b]),b!=a.length-1){c=this.rows;d=c.push;e=a[b];var f=a[b+1],h=new wl(this.h,this.Fn(e,f),this.width-this.bc);e.Ga&&(h.Dn=!0);f.Ga&&(h.Es=!0);d.call(c,h)}for(d=c=b=a=0;e=this.rows[d];d++)e.measure(),b=Math.max(b,e.width),e.Ga&&(a=Math.max(a,e.width-tl(e).width)),c=Math.max(c,e.wc);this.Xd=a;this.width=b;for(d=0;e=this.rows[d];d++)e.Ga&&(e.Xd=this.Xd);this.Yf=Math.max(b,c);this.o&&(this.bc=this.o.width,
this.width+=this.o.width,this.Yf+=this.o.width);this.Xj();this.An()};g.Ul=function(){this.pa.Jn=!!this.A.B;this.pa.minHeight=this.A.v.length&&this.A.v[this.A.v.length-1].type==3?this.h.qp:this.h.rp;this.pa.Wk(this.A)?this.pa.elements.push(new pl(this.h)):this.pa.elements.push(new ql(this.h));this.pa.Jn&&(this.pa.connection=new gl(this.h,this.A.B),this.pa.elements.push(this.pa.connection));this.pa.elements.push(new pl(this.h,"right"))};
g.$m=function(a,b){this.Df&&a.type==1?(b.elements.push(new il(this.h,a)),b.Vk=!0):a.type==3?(b.elements.push(new jl(this.h,a)),b.Ga=!0):a.type==1?(b.elements.push(new kl(this.h,a)),b.Gd=!0):a.type==5&&(b.minHeight=Math.max(b.minHeight,a.D()&&a.D().R?this.h.vp:this.h.Bm),b.yf=!0);b.align==null&&(b.align=a.align)};
g.Zm=function(){for(var a=0,b;b=this.rows[a];a++){var c=b.elements;b.elements=[];b.Dj()&&b.elements.push(new rl(this.h,this.ke(null,c[0])));if(c.length){for(var d=0;d<c.length-1;d++)b.elements.push(c[d]),b.elements.push(new rl(this.h,this.ke(c[d],c[d+1])));b.elements.push(c[c.length-1]);b.Cg()&&b.elements.push(new rl(this.h,this.ke(c[c.length-1],null)))}}};
g.ke=function(a,b){if(!a&&b&&b.type&512)return this.h.Um;if(a&&a.type&128&&!b){if(a.type&64)return this.h.yc;if(a.type&256)return this.h.fb;if(a.type&512)return this.h.yc}return a&&a.type&32768&&b&&(b.type&2048||b.type&4096)?b.Yb:a&&a.type&65536&&b&&(b.type&2048||b.type&4096)?b.Yb-this.h.la:this.h.Ob};g.Xj=function(){for(var a=0,b;b=this.rows[a];a++)if(b.Ga)zl(this,b);else{var c=this.Hg(b)-b.width;c>0&&Al(b,c);b.type&6291456&&(b.wc=b.width)}};g.Hg=function(){return this.width-this.bc};
function Al(a,b){a:{var c=0;for(var d;d=a.elements[c];c++)if(d.type&8){c=d;break a}c=null}a:{d=a.elements.length-1;for(var e;e=a.elements[d];d--)if(e.type&8){d=e;break a}d=null}if(a.Gd||a.Ga)a.wc+=b;a.align==-1?d.width+=b:a.align==0?(c.width+=b/2,d.width+=b/2):a.align==1?c.width+=b:d.width+=b;a.width+=b}function zl(a,b){var c=tl(b),d=b.width-c.width,e=a.Xd;d=e-d;d>0&&Al(b,d);d=b.width;e=a.Hg(b);c.width+=e-d;c.height=Math.max(c.height,b.height);b.width+=e-d;b.wc=Math.max(b.width,a.Xd+b.ln)}g.Fn=function(){return this.h.Ob};
g.En=function(a,b){return b.type&8?a.Ja+b.height/2:a.type&4194304?(a=a.Ja+a.height-a.yg,b.type&4096?a+b.height/2:a-b.height/2):a.type&2097152?b.type&2?a.Wc-b.height/2:a.Wc+b.height/2:a.Ja+a.height/2};function Bl(a,b){for(var c=b.T,d=0,e;e=b.elements[d];d++)e.type&8&&(e.height=b.height),e.T=c,e.hf=a.En(b,e),c+=e.width}
g.An=function(){for(var a=0,b=0,c=0,d;d=this.rows[c];c++)d.Ja=b,d.T=this.bc,b+=d.height,a=Math.max(a,d.wc),Bl(this,d);this.o&&this.A.B&&this.A.B.isConnected()&&(a=Math.max(a,ng(this.A.B.H()).width));this.Yf=a+this.bc;this.height=b;this.Cj=this.Ia.Wc;this.pa.hc=b-this.pa.yg};function Cl(a,b){this.A=a;this.L=b;a.Z();this.Mi=this.V="";this.h=b.na.C()}g=Cl.prototype;g.lc=function(){Dl(this);El(this);Fl(this);this.A.ua.km(this.V+"\n"+this.Mi);this.L.m&&this.A.ua.Mk();Gl(this)};function Gl(a){a.A.height=a.L.height;a.A.width=a.L.Yf}function Dl(a){for(var b=0,c;c=a.L.Mn[b];b++)c.icon.mb.setAttribute("display","none")}function El(a){a.Dk();for(var b=1;b<a.L.rows.length-1;b++){var c=a.L.rows[b];c.In?a.Ag(c):c.Ga?a.Ck(c):c.Gd?a.Ek(c):a.wn(c)}a.zk();a.Bk()}
g.Dk=function(){var a=this.L.Ia,b=a.elements,c=this.L.Ia;if(c.connection){var d=c.T+c.Yb;ai(c.connection.hb,this.L.m?-d:d,0)}this.V+=N(a.T,this.L.Cj);for(c=0;d=b[c];c++)d.type&65536?this.V+=this.h.fg.tm:d.type&262144?this.V+=this.h.fg.Fr:d.type&2048?this.V+=d.shape.Rd:d.type&2?this.V+=this.h.af.path:d.type&8&&(this.V+=O("h",d.width));this.V+=O("v",a.height)};g.Ag=function(a){this.V+=this.h.We.path+O("v",a.height-this.h.We.height)};
g.Ek=function(a){var b=tl(a);this.Io(a);var c=typeof b.shape.Zb=="function"?b.shape.Zb(b.height):b.shape.Zb;this.V+=O("H",b.T+b.width)+c+O("v",a.height-b.kf)};g.Ck=function(a){var b=tl(a);this.V+=O("H",b.T+b.Yb+b.shape.width)+(b.shape.Eo+O("h",-(b.Yb-this.h.Th.width))+this.h.Th.Sl)+O("v",a.height-2*this.h.Th.height)+this.h.Th.lj+O("H",a.T+a.width);this.Lo(a)};g.wn=function(a){this.V+=O("V",a.Ja+a.height)};
g.zk=function(){var a=this.L.pa,b=a.elements;this.Ko();for(var c=0,d="",e=b.length-1,f;f=b[e];e--)f.type&4096?d+=f.shape.Eo:f.type&32768?d+=O("H",a.T):f.type&65536?d+=this.h.fg.dk:f.type&262144?(d+=this.h.fg.fq,c=this.h.fg.lr):f.type&8&&(d+=O("h",f.width*-1));this.V+=O("V",a.hc-c);this.V+=d};
g.Bk=function(){var a=this.L.o;if(this.L.o){var b=this.L.bc+this.L.o.qg;ai(this.A.o,this.L.m?-b:b,this.L.o.Db)}a&&(b=a.Db+a.height,a=typeof a.shape.eh=="function"?a.shape.eh(a.height):a.shape.eh,this.V+=O("V",b)+a);this.V+="z"};
function Fl(a){for(var b=0,c;c=a.L.rows[b];b++)for(var d=0,e;e=c.elements[d];d++)if(e.type&256)a.Ak(e);else if(e.type&4||e.type&1){var f=a;if(e.type&1)var h=e.zn.I();else e.type&4&&(h=e.icon.mb);var k=e.hf-e.height/2,l=e.T,m="";f.L.m&&(l=-(l+e.width),e.tq&&(l+=e.width,m="scale(-1 1)"));e.type&4?(h.setAttribute("display","block"),h.setAttribute("transform","translate("+l+","+k+")"),ni(e.icon)):h.setAttribute("transform","translate("+l+","+k+")"+m);f.L.xb&&h.setAttribute("display","none")}}
g.Ak=function(a){var b=a.height,c=a.Db;this.Mi+=Yk(a.T+a.Bc,a.hf-b/2)+O("v",c)+a.shape.Zb+O("v",b-(a.kf+c))+O("h",a.width-a.Bc)+O("v",-b)+"z";this.Jo(a)};g.Jo=function(a){var b=a.hf-a.height/2;if(a.hb){var c=a.T+a.Bc+a.qg;this.L.m&&(c*=-1);ai(a.hb,c,b+a.Db)}};g.Lo=function(a){var b=tl(a);if(b.hb){var c=a.T+a.Xd+b.Yb;this.L.m&&(c*=-1);ai(b.hb,c,a.Ja)}};g.Io=function(a){var b=tl(a);if(b.hb){var c=a.T+a.width;this.L.m&&(c*=-1);ai(b.hb,c,a.Ja)}};
g.Ko=function(){var a=this.L.pa;if(a.connection){var b=a.connection,c=b.T;ai(b.hb,this.L.m?-c:c,a.hc)}};function Hl(a,b,c,d){var e=a?a.j.id:void 0;d&&d.getType()=="workspace"&&(e=d.N.id);Hl.i.constructor.call(this,e);this.Y=a?a.id:null;this.uo=c;this.oo=d;this.Jc=b}I(Hl,Rd);Hl.prototype.type="marker_move";Hl.prototype.P=function(){var a=Hl.i.P.call(this);a.isCursor=this.Jc;a.blockId=this.Y;a.oldNode=this.uo;a.newNode=this.oo;return a};Hl.prototype.M=function(a){Hl.i.M.call(this,a);this.Jc=a.isCursor;this.Y=a.blockId;this.uo=a.oldNode;this.oo=a.newNode};C(Qc,"marker_move",Hl);function Ui(a,b,c){this.g=a;this.vl=c;this.bh=null;this.h=b;this.mf=null;a=this.Jc()?this.h.Am:this.h.Km;this.Rb=c.kk||a}g=Ui.prototype;g.I=function(){return this.u};g.Ig=function(){return this.vl};g.Jc=function(){return this.vl.type=="cursor"};
g.wa=function(){var a=this.Jc()?"blocklyCursor":"blocklyMarker";this.u=y(Xb,{"class":a},null);this.ld=y(Xb,{width:this.h.Ph,height:this.h.Wm},this.u);this.Ld=y(cc,{width:this.h.Ph,height:this.h.Wm},this.ld);this.xe=y(cc,{"class":"blocklyVerticalMarker",rx:10,ry:10},this.ld);this.we=y($b,{transform:""},this.ld);this.kd=y($b,{transform:"",fill:"none","stroke-width":this.h.up},this.ld);this.lb();this.Jc()&&(a={attributeType:"XML",attributeName:"fill",dur:"1s",values:this.Rb+";transparent;transparent;",
repeatCount:"indefinite"},y(Ob,a,this.Ld),y(Ob,a,this.we),a.attributeName="stroke",y(Ob,a,this.kd));return this.u};function Il(a,b){a.Jc()?(a.bh&&a.bh.pd(null),b.pd(a.I())):(a.bh&&a.bh.Wd(null),b.Wd(a.I()));a.bh=b}
g.lc=function(a,b){if(b){this.h=this.g.na.C();var c=this.Jc()?this.h.Am:this.h.Km;this.Rb=this.vl.kk||c;this.Ld.setAttribute("fill",this.Rb);this.xe.setAttribute("stroke",this.Rb);this.we.setAttribute("fill",this.Rb);this.kd.setAttribute("stroke",this.Rb);this.Jc()&&(c=this.Rb+";transparent;transparent;",this.Ld.firstChild.setAttribute("values",c),this.we.firstChild.setAttribute("values",c),this.kd.firstChild.setAttribute("values",c));c=b.N.type;if(b.getType()=="block")Jl(this,b);else if(b.getType()==
"output")Jl(this,b);else if(c==1){var d=b.N;c=d.D();var e=d.Ae.x,f=d.Ae.y;d=Yk(0,0)+ig(this.h,d).Zb;this.we.setAttribute("d",d);this.we.setAttribute("transform","translate("+e+","+f+")"+(this.g.m?" scale(-1 1)":""));this.mf=this.we;Il(this,c);Kl(this)}else if(c==3)f=b.N,c=f.D(),e=0,f=f.Ae.y,d=ng(c).width,this.g.m&&(e=-d),Ll(this,e,f,d),Il(this,c),Kl(this);else if(b.getType()=="previous")Jl(this,b);else if(b.getType()=="field")c=b.N,e=c.getSize().width,f=c.getSize().height,Ml(this,0,0,e,f),Il(this,
c),Kl(this);else if(b.getType()=="workspace")e=b.mp,c=e.x,e=e.y,this.g.m&&(c-=this.h.Ph),Ll(this,c,e,this.h.Ph),Il(this,this.g),Kl(this);else if(b.getType()=="stack"){c=b.N;f=ng(c);e=f.width+this.h.Oh;f=f.height+this.h.Oh;var h=d=-this.h.Oh/2,k=-this.h.Oh/2;this.g.m&&(h=-(e+d));Ml(this,h,k,e,f);Il(this,c);Kl(this)}c=b.D();a=new (H("marker_move"))(c,this.Jc(),a,b);E(a);a=this.mf.childNodes[0];a!==void 0&&a.beginElement&&a.beginElement()}else this.lb()};
function Jl(a,b){b=b.D();var c=b.width,d=b.height,e=d*.75,f=a.h.tp;if(b.F){var h=ig(a.h,b.F);a.kd.setAttribute("d",N(-f,e)+O("V",-f)+O("H",a.h.eg)+h.Rd+O("H",c+f*2)+O("V",e))}else b.o?(h=ig(a.h,b.o),a.kd.setAttribute("d",N(c,0)+O("h",-(c-h.width))+O("v",a.h.cf)+h.Zb+O("V",d)+O("H",c))):a.kd.setAttribute("d",N(-f,e)+O("V",-f)+O("H",c+f*2)+O("V",e));a.g.m&&a.kd.setAttribute("transform","scale(-1 1)");a.mf=a.kd;Il(a,b);Kl(a)}function Kl(a){a.lb();a.mf.style.display=""}
function Ll(a,b,c,d){a.Ld.setAttribute("x",b);a.Ld.setAttribute("y",c);a.Ld.setAttribute("width",d);a.mf=a.Ld}function Ml(a,b,c,d,e){a.xe.setAttribute("x",b);a.xe.setAttribute("y",c);a.xe.setAttribute("width",d);a.xe.setAttribute("height",e);a.mf=a.xe}g.lb=function(){this.Ld.style.display="none";this.xe.style.display="none";this.we.style.display="none";this.kd.style.display="none"};g.dispose=function(){this.u&&A(this.u)};function Nl(a,b,c){this.rg=c;this.Sc=a;this.Aa=y($b,{"class":"blocklyPath"},this.Sc);this.style=b;this.ul=this.wg=null}g=Nl.prototype;g.km=function(a){this.Aa.setAttribute("d",a)};g.Mk=function(){this.Aa.setAttribute("transform","scale(-1 1)")};g.pd=function(a){a?(this.Sc.appendChild(a),this.wg=a):this.wg=null};g.Wd=function(a){a?(this.wg?this.Sc.insertBefore(a,this.wg):this.Sc.appendChild(a),this.ul=a):this.ul=null};
g.Fa=function(a){this.Aa.setAttribute("stroke",this.style.Ac);this.Aa.setAttribute("fill",this.style.Yc);this.ep(a.R);this.um(!a.isEnabled()||Fh(a))};g.qd=function(a){this.style=a};function hg(a,b,c){c?z(a.Sc,b):kc(a.Sc,b)}g.cp=function(a){a?this.Aa.setAttribute("filter","url(#"+this.rg.Bi+")"):this.Aa.setAttribute("filter","none")};g.ep=function(a){a&&(this.Aa.setAttribute("stroke","none"),this.Aa.setAttribute("fill",this.style.ni))};
g.um=function(a){hg(this,"blocklyDisabled",a);a&&this.Aa.setAttribute("fill","url(#"+this.rg.tn+")")};function Ol(a){this.name=a;this.Ql=this.h=null}g=Ol.prototype;g.nc=function(){return this.name+"-renderer"};g.init=function(a,b){this.h=this.ml();b&&(this.Ql=b,kd(this.h,b));this.h.qh(a);this.h.init()};g.wa=function(a,b){this.h.wa(a,this.name+"-"+b.name,"."+this.nc()+"."+b.nc())};g.Yl=function(a,b){var c=this.C();c.dispose();this.h=this.ml();this.Ql&&kd(this.h,this.Ql);this.h.oj=c.oj;this.h.qh(b);this.h.init();this.wa(a,b)};g.dispose=function(){this.h&&this.h.dispose()};g.ml=function(){return new al};
g.ho=function(a){return new yl(this,a)};g.bo=function(a,b){return new Cl(a,b)};g.co=function(a,b){return new Nl(a,b,this.h)};g.C=function(){return this.h};g.U=function(a){var b=this.ho(a);b.measure();this.bo(a,b).lc()};function Pl(){Pl.i.constructor.call(this);this.Lj=!1;this.La=1;this.Op=30;this.Tm=-this.Nj/2}I(Pl,al);Pl.prototype.Ok=function(a){return Pl.i.Ok.call(this,a).concat([a+" .blocklyInsertionMarker>.blocklyPathLight,",a+" .blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: "+this.Im+";","stroke: none;","}"])};function Ql(a){this.L=a;this.Mg=this.G="";this.Ma=this.L.m;a=a.na;this.h=a.C();this.Ib=a.Ib;this.ub=this.Ib.OFFSET;this.Pl=this.Ib.Sp;this.Bf=this.Ib.Kp;this.hh=this.Ib.Sj;this.Rq=this.Ib.Ze;this.xr=this.Ib.af;this.Xn=this.Ib.We}Ql.prototype.Ag=function(a){this.L.m&&(this.G+=this.Xn.Rd+O("v",a.height-this.Xn.height-this.ub))};function Rl(a,b){var c=b.T+b.width-a.ub;b.Dn&&(a.G+=O("H",c));a.Ma&&(a.G+=O("H",c),b.height>a.ub&&(a.G+=O("V",b.Ja+b.height-a.ub)))};function Sl(a,b){Sl.i.constructor.call(this,a,b);this.zd&&(this.width+=this.h.La,this.height+=this.h.La)}I(Sl,il);function Tl(a,b){Tl.i.constructor.call(this,a,b);this.zd&&(this.height+=this.h.La)}I(Tl,jl);function Ul(a,b){Ul.i.constructor.call(this,a,b)}I(Ul,yl);g=Ul.prototype;g.Ul=function(){Ul.i.Ul.call(this);this.A.v.length&&this.A.v[this.A.v.length-1].type==3||(this.pa.minHeight=this.h.Ob-this.h.La)};g.$m=function(a,b){this.Df&&a.type==1?(b.elements.push(new Sl(this.h,a)),b.Vk=!0):a.type==3?(b.elements.push(new Tl(this.h,a)),b.Ga=!0):a.type==1?(b.elements.push(new kl(this.h,a)),b.Gd=!0):a.type==5&&(b.minHeight=Math.max(b.minHeight,this.h.Bm),b.yf=!0);this.Df||b.align!=null||(b.align=a.align)};
g.Zm=function(){for(var a=!1,b=0,c;c=this.rows[b];b++)c.Gd&&(a=!0);for(b=0;c=this.rows[b];b++){var d=c.elements;c.elements=[];c.Dj()&&c.elements.push(new rl(this.h,this.ke(null,d[0])));if(d.length){for(var e=0;e<d.length-1;e++){c.elements.push(d[e]);var f=this.ke(d[e],d[e+1]);c.elements.push(new rl(this.h,f))}c.elements.push(d[d.length-1]);c.Cg()&&(f=this.ke(d[d.length-1],null),a&&c.yf&&(f+=this.h.ai),c.elements.push(new rl(this.h,f)))}}};
g.ke=function(a,b){if(!a)return b&&b.type&1&&b.wb?this.h.Ob:b&&b.type&256?this.h.Mm:b&&b.type&512?this.h.Um:this.h.fb;if(!(a.type&128)&&(!b||b.type&512))return a.type&1&&a.wb?this.h.Ob:a.type&4?this.h.fb*2+1:a.type&2?this.h.yc:a.type&6144?this.h.fb:a.type&65536?this.h.Pp:a.type&524288?this.h.yc:this.h.fb;if(a.type&128&&!b){if(a.type&64)return this.h.yc;if(a.type&256)return this.h.fb;if(a.type&512)return this.h.yc}if(!(a.type&128)&&b&&b.type&128){if(a.type&1&&a.wb){if(b.type&256||b.type&64)return this.h.Vp}else{if(b.type&
256||b.type&64)return this.h.Mm;if(b.type&512)return this.h.fb}return this.h.fb-1}if(a.type&4&&b&&!(b.type&128))return this.h.fb;if(a.type&256&&b&&b.type&1)return b.wb?this.h.Ob:this.h.fb;if(a.type&32768&&b){if(b.type&2)return this.h.yc;if(b.type&2048)return b.Yb;if(b.type&4096)return a=(this.m?1:-1)*this.h.La/2,b.Yb+a}if(a.type&65536&&b){if(b.type&2048)return b.Yb-this.h.la;if(b.type&4096)return a=(this.m?1:-1)*this.h.La/2,b.Yb-this.h.la+a}return a.type&1&&b&&b.type&1&&a.wb==b.wb||b&&b.type&524288?
this.h.fb:this.h.Ob};g.Fn=function(a,b){return a.type&2097152&&b.type&4194304?this.h.wp:a.type&2097152||b.type&4194304?this.h.yc:a.Gd&&b.Gd?this.h.fb:!a.Ga&&b.Ga?this.h.pp:a.Ga&&b.Ga||!a.Ga&&b.yf||a.yf?this.h.fb:this.h.Ob};
g.En=function(a,b){if(b.type&8)return a.Ja+b.height/2;if(a.type&4194304)return a=a.Ja+a.height-a.yg,b.type&4096?a+b.height/2:a-b.height/2;if(a.type&2097152)return b.type&2?a.Wc-b.height/2:a.Wc+b.height/2;var c=a.Ja;b.type&1||b.type&4?(c+=b.height/2,(a.Vk||a.Ga)&&b.height+this.h.Vm<=a.height&&(c+=this.h.Vm)):c=b.type&256?c+b.height/2:c+a.height/2;return c};
g.Xj=function(){if(this.Df){for(var a=0,b=null,c=this.rows.length-1,d;d=this.rows[c];c--)d.Bl=a,d.type&8388608&&(d.Ga&&zl(this,d),b&&b.Ga&&d.width<b.width?d.Bl=b.width:a=d.width,b=d);for(c=a=0;d=this.rows[c];c++)d.Ga?a=this.Hg(d):d.type&8?d.width=Math.max(a,d.Bl):(a=Math.max(a,d.Bl)-d.width,a>0&&Al(d,a),a=d.width)}else Ul.i.Xj.call(this)};g.Hg=function(a){return this.Df&&a.Ga?this.Xd+this.h.Op+this.bc:Ul.i.Hg.call(this,a)};
g.An=function(){for(var a=0,b=0,c=0,d;d=this.rows[c];c++){d.Ja=b;d.T=this.bc;b+=d.height;a=Math.max(a,d.wc);var e=b-this.Ia.ff;d==this.pa&&e<this.h.dg&&(e=this.h.dg-e,this.pa.height+=e,b+=e);Bl(this,d)}this.o&&this.A.B&&this.A.B.isConnected()&&(a=Math.max(a,ng(this.A.B.H()).width-this.h.La));this.pa.hc=b-this.pa.yg;this.Yf=a+this.bc+this.h.La;this.width+=this.h.La;this.height=b+this.h.La;this.Cj=this.Ia.Wc};function Vl(a,b){Vl.i.constructor.call(this,a,b);this.Hc=new Ql(b)}I(Vl,Cl);g=Vl.prototype;g.lc=function(){Dl(this);El(this);Fl(this);var a=this.A.ua;a.km(this.V+"\n"+this.Mi);var b=this.Hc;a.Ke.setAttribute("d",b.G+"\n"+b.Mg);this.L.m&&a.Mk();Gl(this)};
g.Dk=function(){var a=this.Hc,b=this.L.Ia;a.G+=N(b.T,a.L.Cj);for(var c=0,d;d=b.elements[c];c++)d.type&32768?a.G+=a.Ib.Sm:d.type&65536?a.G+=a.Pl.tm(a.Ma):d.type&2048?a.G+=a.Rq.Rd:d.type&2?a.G+=a.xr.path(a.Ma):d.type&8&&d.width!=0&&(a.G+=O("H",d.T+d.width-a.ub));a.G+=O("H",b.T+b.width-a.ub);Rl(this.Hc,this.L.Ia);Vl.i.Dk.call(this)};g.Ag=function(a){this.Hc.Ag(a);Vl.i.Ag.call(this,a)};
g.Ek=function(a){var b=this.Hc,c=tl(a);if(b.Ma){var d=a.height-c.kf;b.G+=Yk(c.T+c.width-b.ub,a.Ja)+b.hh.Zb(b.Ma)+O("v",d)}else b.G+=Yk(c.T+c.width,a.Ja)+b.hh.Zb(b.Ma);Vl.i.Ek.call(this,a)};g.Ck=function(a){var b=this.Hc,c=tl(a);if(b.Ma){var d=a.height-2*b.Bf.height;b.G+=Yk(c.T,a.Ja)+b.Bf.Sl(b.Ma)+O("v",d)+b.Bf.lj(b.Ma)+Zk(a.width-c.T-b.Bf.width,0)}else b.G+=Yk(c.T,a.Ja+a.height)+b.Bf.lj(b.Ma)+Zk(a.width-c.T-b.Bf.width,0);Vl.i.Ck.call(this,a)};
g.wn=function(a){Rl(this.Hc,a);this.V+=O("H",a.T+a.width)+O("V",a.Ja+a.height)};g.zk=function(){var a=this.Hc,b=this.L.pa;if(a.Ma)a.G+=O("V",b.hc-a.ub);else{var c=a.L.pa.elements[0];c.type&32768?a.G+=Yk(b.T+a.ub,b.hc-a.ub):c.type&65536&&(a.G+=Yk(b.T,b.hc),a.G+=a.Pl.dk())}Vl.i.zk.call(this)};
g.Bk=function(){var a=this.Hc,b=a.L.o;b&&(b=b.Db+b.height,a.Ma?a.G+=Yk(a.L.bc,b):(a.G+=Yk(a.L.bc+a.ub,a.L.pa.hc-a.ub),a.G+=O("V",b)),a.G+=a.hh.eh(a.Ma));a.Ma||(b=a.L.Ia,a.G=b.elements[0].type&65536?a.G+O("V",a.Pl.height):a.G+O("V",b.Wc+a.ub));Vl.i.Bk.call(this)};
g.Ak=function(a){var b=this.Hc,c=b.ub,d=a.T+a.Bc,e=a.hf-a.height/2,f=a.width-a.Bc,h=e+c;b.Ma?(e=a.height-(a.Db+a.kf)+c,b.Mg+=Yk(d-c,h)+O("v",a.Db-c)+b.hh.Zb(b.Ma)+O("v",e)+O("h",f)):b.Mg+=Yk(a.T+a.width+c,h)+O("v",a.height)+O("h",-f)+Yk(d,e+a.Db)+b.hh.Zb(b.Ma);Vl.i.Ak.call(this,a)};g.Jo=function(a){var b=a.hf-a.height/2;if(a.hb){var c=a.T+a.Bc+this.h.La;this.L.m&&(c*=-1);ai(a.hb,c,b+a.Db+this.h.La)}};
g.Lo=function(a){var b=tl(a);if(b.hb){var c=a.T+a.Xd+b.Yb;c=this.L.m?c*-1:c+this.h.La;ai(b.hb,c,a.Ja+this.h.La)}};g.Io=function(a){var b=tl(a);if(b.hb){var c=a.T+a.width+this.h.La;this.L.m&&(c*=-1);ai(b.hb,c,a.Ja)}};g.Ko=function(){var a=this.L.pa;if(a.connection){var b=a.connection,c=b.T;ai(b.hb,(this.L.m?-c:c)+this.h.La/2,a.hc+this.h.La)}};function Wl(a){this.lf=a;this.OFFSET=.5;this.Sm=N(this.OFFSET,this.OFFSET)}g=Wl.prototype;g.init=function(){this.Kp=Xl(this);this.Sp=Yl(this);this.Sj=this.rl();this.Ze=this.ql();this.We=this.ol();this.af=this.tl()};function Xl(a){var b=a.lf.la;a=a.OFFSET;var c=(1-Math.SQRT1_2)*(b+a)-a,d=N(c,c)+$k("0 0,0",b,W(-c-a,b-c)),e=$k("0 0,0",b+a,W(b+a,b+a)),f=N(c,-c)+$k("0 0,0",b+a,W(b-c,c+a));return{width:b+a,height:b,Sl:function(h){return h?d:""},lj:function(h){return h?e:f}}}
function Yl(a){var b=a.lf.la;a=a.OFFSET;var c=(1-Math.SQRT1_2)*(b-a)+a,d=N(c,c)+$k("0 0,1",b-a,W(b-c,-c+a)),e=N(a,b)+$k("0 0,1",b-a,W(b,-b+a)),f=-c,h=N(c,f)+$k("0 0,1",b-a,W(-c+a,-f-b));return{height:b,tm:function(k){return k?d:e},dk:function(){return h}}}
g.rl=function(){var a=this.lf.ai,b=this.lf.jg,c=N(-2,-b+2.5+.9)+Zk(a*-.45,-2.1),d=O("v",2.5)+N(-a*.97,2.5)+Xk("q",[W(-a*.05,10),W(a*.3,9.5)])+N(a*.67,-1.9)+O("v",2.5),e=O("v",-1.5)+N(a*-.92,-.5)+Xk("q",[W(a*-.19,-5.5),W(0,-11)])+N(a*.92,1),f=N(-5,b-.7)+Zk(a*.46,-2.1);return{width:a,height:b,eh:function(h){return h?c:e},Zb:function(h){return h?d:f}}};g.ql=function(){return{Rd:O("h",this.OFFSET)+this.lf.Ze.Rd}};g.ol=function(){return{Rd:Zk(5.1,2.6)+N(-10.2,6.8)+Zk(5.1,2.6),height:12,width:10.2}};
g.tl=function(){var a=N(25,-8.7)+Xk("c",[W(29.7,-6.2),W(57.2,-.5),W(75,8.7)]),b=Xk("c",[W(17.8,-9.2),W(45.3,-14.9),W(75,-8.7)])+Yk(100.5,this.lf.af.height+.5);return{path:function(c){return c?a:b}}};function Zl(a,b,c){this.rg=c;this.Sc=a;this.zh=y($b,{"class":"blocklyPathDark",transform:"translate(1,1)"},this.Sc);this.Aa=y($b,{"class":"blocklyPath"},this.Sc);this.Ke=y($b,{"class":"blocklyPathLight"},this.Sc);this.lk="#000000";this.style=b}I(Zl,Nl);g=Zl.prototype;g.km=function(a){this.Aa.setAttribute("d",a);this.zh.setAttribute("d",a)};g.Mk=function(){this.Aa.setAttribute("transform","scale(-1 1)");this.Ke.setAttribute("transform","scale(-1 1)");this.zh.setAttribute("transform","translate(1,1) scale(-1 1)")};
g.Fa=function(a){this.Ke.style.display="";this.zh.style.display="";this.Ke.setAttribute("stroke",this.style.Ac);this.zh.setAttribute("fill",this.lk);Zl.i.Fa.call(this,a);this.Aa.setAttribute("stroke","none")};g.qd=function(a){this.style=a;this.lk=ra("#000",this.style.Yc,.2)||this.lk};g.cp=function(a){a?(this.Aa.setAttribute("filter","url(#"+this.rg.Bi+")"),this.Ke.style.display="none"):(this.Aa.setAttribute("filter","none"),this.Ke.style.display="inline")};
g.ep=function(a){a&&(this.Ke.style.display="none",this.zh.setAttribute("fill",this.style.ni),this.Aa.setAttribute("stroke","none"),this.Aa.setAttribute("fill",this.style.ni))};g.um=function(a){Zl.i.um.call(this,a);a&&this.Aa.setAttribute("stroke","none")};function $l(a){$l.i.constructor.call(this,a);this.Ib=null}I($l,Ol);g=$l.prototype;g.init=function(a,b){$l.i.init.call(this,a,b);this.Ib=new Wl(this.C());this.Ib.init()};g.Yl=function(a,b){$l.i.Yl.call(this,a,b);this.Ib.init()};g.ml=function(){return new Pl};g.ho=function(a){return new Ul(this,a)};g.bo=function(a,b){return new Vl(a,b)};g.co=function(a,b){return new Zl(a,b,this.C())};C(Sc,"geras",$l);(function(){var a={name:"escape",za:function(b){return!b.options.readOnly},ta:function(){He();return!0}};sj.register(a);R(27,a.name)})();(function(){var a={name:"delete",za:function(b){return!b.options.readOnly&&M&&M.Kc()},ta:function(b,c){c.preventDefault();if(ah())return!1;Fj(M);return!0}};sj.register(a);R(46,a.name);R(8,a.name)})();
(function(){var a={name:"copy",za:function(c){return!c.options.readOnly&&!ah()&&M&&M.Kc()&&M.Ya()},ta:function(c,d){d.preventDefault();He();Gj(M);return!0}};sj.register(a);var b=uj(67,[17]);R(b,a.name);b=uj(67,[18]);R(b,a.name);b=uj(67,[91]);R(b,a.name)})();(function(){var a={name:"cut",za:function(c){return!c.options.readOnly&&!ah()&&M&&M.Kc()&&M.Ya()&&!M.j.Id},ta:function(){Gj(M);Fj(M);return!0}};sj.register(a);var b=uj(88,[17]);R(b,a.name);b=uj(88,[18]);R(b,a.name);b=uj(88,[91]);R(b,a.name)})();
(function(){var a={name:"paste",za:function(c){return!c.options.readOnly&&!ah()},ta:function(){return Hj()}};sj.register(a);var b=uj(86,[17]);R(b,a.name);b=uj(86,[18]);R(b,a.name);b=uj(86,[91]);R(b,a.name)})();(function(){var a={name:"undo",za:function(c){return!c.options.readOnly&&!ah()},ta:function(c){He();vf(c,!1);return!0}};sj.register(a);var b=uj(90,[17]);R(b,a.name);b=uj(90,[18]);R(b,a.name);b=uj(90,[91]);R(b,a.name)})();
(function(){var a={name:"redo",za:function(c){return!ah()&&!c.options.readOnly},ta:function(c){He();vf(c,!0);return!0}};sj.register(a);var b=uj(90,[16,17]);R(b,a.name);b=uj(90,[16,18]);R(b,a.name);b=uj(90,[16,91]);R(b,a.name);b=uj(89,[17]);R(b,a.name)})();var am=null,bm=null,cm=null;function dm(){var a=am();em("/scripts/storage.py","app="+encodeURIComponent(Ck)+"&data="+encodeURIComponent(a),fm)}var gm=new Map;
function em(a,b,c,d,e){e=e===void 0?"POST":e;gm.has(a)&&gm.get(a).abort();var f=new XMLHttpRequest;gm.set(a,f);f.onload=function(){this.status===200?c&&c.call(f):d?d.call(f):hm(V("Games.httpRequestError",!1)+"\nXHR status: "+f.status);gm.delete(a)};e==="POST"?(f.open(e,a),f.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),f.send(b)):(b&&(a+="?"+b),f.open(e,a),f.send())}
function fm(){window.location.hash=this.responseText.trim();hm(V("Games.linkAlert",!1).replace("%1",window.location.href));cm=am()}function im(){var a=this.responseText.trim();a.length?(a=a.replace(/^\{\[\(< UNTRUSTED CONTENT >\)\]\}\n/,""),bm(a)):hm(V("Games.hashError",!1).replace("%1",window.location.hash));cm=am()}function hm(a){if(typeof X==="object"){var b=T("linkButton");X.Br(b,a)}else alert(a)};var K=null,jm="";function km(){var a=V("Games.bird",!0);Ak(a);if(a=T("linkButton"))sk?a.style.display="none":(am=lm,bm=mm,Dk(a,dm));(a=T("languageMenu"))&&a.addEventListener("change",nm,!0)}
function om(){var a='<xml><block type="'+(U===1?"bird_heading":U<5?"bird_ifElse":"controls_if")+'" x="70" y="70" deletable="false"></block></xml>';if(!sk&&window.location.hash.length>1)em("/data/"+Ck+"/storage/"+window.location.hash.substring(1)+".blockly","",im,null,"GET");else{try{var b=window.sessionStorage.ao}catch(d){}b&&delete window.sessionStorage.ao;var c=Bk(U);(a=b||c||a)&&mm(a)}}function mm(a){a=td(a);K.clear();ud(a,K);a=K;a.Ne.length=0;a=a.ih.length=0;for(var b;b=cd[a];a++)b.ab=!1}
function lm(){var a=md(!0);if(K.qa(!1).length===1&&a.querySelector){var b=a.querySelector("block");b&&(b.removeAttribute("x"),b.removeAttribute("y"))}return sd(a)}function pm(){cm!==null&&cm!==lm()&&(window.location.hash="",cm=null)}function qm(){var a={rtl:rk,trashcan:!0},b=T("toolbox");b&&(a.toolbox=b);a.media="third-party/blockly/media/";a.oneBasedIndex=!1;K=bj(a);wf(K,pm)}function rm(){window.location=(sk?"index.html":"./")+"?lang="+pk}
function nm(){window.sessionStorage&&(window.sessionStorage.ao=lm());var a=T("languageMenu");a=encodeURIComponent(a.options[a.selectedIndex].value);var b=window.location.search;b=b.length<=1?"?lang="+a:/[?&]lang=[^&]*/.test(b)?b.replace(/([?&]lang=)[^&]*/,"$1"+a):b.replace(/\?/,"?lang="+a+"&");window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+b}
function sm(){U<10?location=location.protocol+"//"+location.host+location.pathname+"?lang="+pk+"&level="+(U+1):rm()}function tm(a){if(a.type==="click"&&um==="touchend"&&vm+2E3>Date.now()||um===a.type&&vm+400>Date.now())return a.preventDefault(),a.stopPropagation(),!0;um=a.type;vm=Date.now();return!1}var um=null,vm=0;var X={re:!1,qn:null,ui:null,xi:null,zi:null,yi:null,Aj:function(a,b,c,d,e,f){function h(){if(X.re){m.style.visibility="visible";m.style.zIndex=10;p.style.visibility="hidden";var x=a.getElementsByClassName("primary");x.length||(x=a.getElementsByClassName("secondary"),x.length||(x=a.getElementsByTagName("button")));x.length&&x[0].focus()}}if(!a)throw TypeError("Content not found: "+a);for(var k=a.getElementsByClassName("addHideHandler"),l;l=k[0];)l.addEventListener("click",X.Lg,!0),l.addEventListener("touchend",
X.Lg,!0),l.classList.remove("addHideHandler");X.re&&X.Lg(!1);Fc&&He(!0);X.re=!0;X.qn=b;X.ui=f;var m=T("dialog");f=T("dialogShadow");var p=T("dialogBorder"),t;for(t in e)m.style[t]=e[t];d&&(f.style.visibility="visible",f.style.opacity=.3,f.style.zIndex=9,d=document.createElement("div"),d.id="dialogHeader",m.appendChild(d),X.xi=Cb(d,"mousedown",null,X.oq));m.appendChild(a);a.classList.remove("dialogHiddenContent");try{b.blur()}catch(x){}c&&b?(X.Xi(b,!1,.2),X.Xi(m,!0,.8),setTimeout(h,175)):h()},rn:0,
sn:0,oq:function(a){X.tk();if(!ab(a)){var b=T("dialog");X.rn=b.offsetLeft-a.clientX;X.sn=b.offsetTop-a.clientY;X.zi=Cb(document,"mouseup",null,X.tk);X.yi=Cb(document,"mousemove",null,X.pq);a.stopPropagation()}},pq:function(a){var b=T("dialog"),c=X.rn+a.clientX;a=X.sn+a.clientY;a=Math.max(a,0);a=Math.min(a,window.innerHeight-b.offsetHeight);c=Math.max(c,0);c=Math.min(c,window.innerWidth-b.offsetWidth);b.style.left=c+"px";b.style.top=a+"px"},tk:function(){X.zi&&(v(X.zi),X.zi=null);X.yi&&(v(X.yi),X.yi=
null)},Lg:function(a){function b(){d.style.zIndex=-1;d.style.visibility="hidden";T("dialogBorder").style.visibility="hidden"}a=a===void 0?!0:a;if(X.re){X.tk();X.xi&&(v(X.xi),X.xi=null);X.re=!1;X.ui&&X.ui();X.ui=null;var c=a?X.qn:null;a=T("dialog");var d=T("dialogShadow");d.style.opacity=0;c&&a?(X.Xi(a,!1,.8),X.Xi(c,!0,.2),setTimeout(b,175)):b();a.style.visibility="hidden";a.style.zIndex=-1;for((c=T("dialogHeader"))&&c.parentNode.removeChild(c);a.firstChild;)c=a.firstChild,c.classList.add("dialogHiddenContent"),
document.body.appendChild(c)}},Xi:function(a,b,c){function d(){e.style.width=f.width+"px";e.style.height=f.height+"px";e.style.left=f.x+"px";e.style.top=f.y+"px";e.style.opacity=c}if(a){var e=T("dialogBorder"),f=X.getBBox(a);b?(e.className="dialogAnimate",setTimeout(d,1)):(e.className="",d());e.style.visibility="visible"}},getBBox:function(a){var b=Ga(a);b={x:b.x,y:b.y};a.getBBox?(a=a.getBBox(),b.height=a.height,b.width=a.width):(b.height=a.offsetHeight,b.width=a.offsetWidth);return b},Br:function(a,
b){var c=T("containerStorage");c.textContent="";b=ba(b.split("\n"));for(var d=b.next();!d.done;d=b.next()){var e=document.createElement("p");e.appendChild(document.createTextNode(d.value));c.appendChild(e)}c=T("dialogStorage");X.Aj(c,a,!0,!0,{width:"50%",left:"25%",top:"5em"},X.Ar);X.vr()},Ym:function(){if(!Bk(U))if(X.re||K.Pa())setTimeout(X.Ym,15E3);else{var a=T("dialogAbort"),b=T("abortOk");b.addEventListener("click",rm,!0);b.addEventListener("touchend",rm,!0);X.Aj(a,null,!1,!0,{width:"40%",left:"30%",
top:"3em"},function(){document.body.removeEventListener("keydown",X.Xm,!0)});document.body.addEventListener("keydown",X.Xm,!0)}},wi:function(a){!X.re||a.keyCode!==13&&a.keyCode!==27&&a.keyCode!==32||(X.Lg(!0),a.stopPropagation(),a.preventDefault())},vr:function(){document.body.addEventListener("keydown",X.wi,!0)},Ar:function(){document.body.removeEventListener("keydown",X.wi,!0)},Xm:function(a){X.wi(a);a.keyCode!==13&&a.keyCode!==32||rm()}};window.BlocklyDialogs=X;var wm="";function xm(a){if(a){var b=a.match(/^block_id_([^']+)$/);b&&(a=b[1])}Xi(a)}function ym(a){a=a.replace(/(,\s*)?'block_id_[^']+'\)/g,")");return a.replace(/\s+$/,"")}function zm(){setTimeout(function(){var a=document.createElement("script");a.type="text/javascript";a.src="third-party/JS-Interpreter/compressed.js";document.head.appendChild(a)},1)}
function Am(){setTimeout(function(){var a=document.createElement("link");a.rel="stylesheet";a.type="text/css";a.href="common/prettify.css";document.head.appendChild(a);a=document.createElement("script");a.type="text/javascript";a.src="common/prettify.js";document.head.appendChild(a)},1)}
function Bm(){var a=T("dialogDone");if(K){var b=T("dialogLinesText");b.textContent="";var c=wm;c=ym(c);var d=c.replace(/\/\/[^\n]*/g,"");d=d.replace(/\/\*.*\*\//g,"");d=d.replace(/[ \t]+\n/g,"\n");d=d.replace(/\n+/g,"\n");d=d.trim();d=d.split("\n").length;var e=T("containerCode");e.textContent=c;typeof prettyPrintOne==="function"&&(c=e.innerHTML,c=prettyPrintOne(c,"js"),e.innerHTML=c);c=d===1?V("Games.linesOfCode1",!1):V("Games.linesOfCode2",!1).replace("%1",String(d));b.appendChild(document.createTextNode(c))}b=
U<10?V("Games.nextLevel",!1).replace("%1",String(U+1)):V("Games.finalLevel",!1);c=T("doneOk");c.addEventListener("click",sm,!0);c.addEventListener("touchend",sm,!0);X.Aj(a,null,!1,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",Cm,!0)});document.body.addEventListener("keydown",Cm,!0);T("dialogDoneText").textContent=b}function Cm(a){X.wi(a);a.keyCode!==13&&a.keyCode!==32||sm()};var Ck="bird",Dm,Y,Em,Fm,Gm,Hm=[],Im=[];function Z(a,b,c,d){this.Kh=a;this.Lh=b;this.x1=c;this.y1=d}
var Jm=[{start:new r(20,20),Rc:90,eb:new r(50,50),Kb:new r(80,80),fc:[]},{start:new r(20,20),Rc:0,eb:new r(80,20),Kb:new r(80,80),fc:[new Z(0,50,60,50)]},{start:new r(20,70),Rc:270,eb:new r(50,20),Kb:new r(80,70),fc:[new Z(50,50,50,100)]},{start:new r(20,80),Rc:0,eb:null,Kb:new r(80,20),fc:[new Z(0,0,65,65)]},{start:new r(80,80),Rc:270,eb:null,Kb:new r(20,20),fc:[new Z(0,100,65,35)]},{start:new r(20,40),Rc:0,eb:new r(80,20),Kb:new r(20,80),fc:[new Z(0,59,50,59)]},{start:new r(80,80),Rc:180,eb:new r(80,
20),Kb:new r(20,20),fc:[new Z(0,70,40,70),new Z(70,50,100,50)]},{start:new r(20,25),Rc:90,eb:new r(80,25),Kb:new r(80,75),fc:[new Z(50,0,50,25),new Z(75,50,100,50),new Z(50,100,50,75),new Z(0,50,25,50)]},{start:new r(80,70),Rc:180,eb:new r(20,20),Kb:new r(80,20),fc:[new Z(0,69,31,100),new Z(40,50,71,0),new Z(80,50,100,50)]},{start:new r(20,20),Rc:90,eb:new r(80,50),Kb:new r(20,20),fc:[new Z(40,60,60,60),new Z(40,60,60,30),new Z(60,30,100,30)]}][U-1];
function Km(){var a=T("svgBird");Jm.fc.push(new Z(-5,-5,-5,105),new Z(-5,105,105,105),new Z(105,105,105,-5),new Z(105,-5,-5,-5));for(var b=ba(Jm.fc),c=b.next();!c.done;c=b.next())c=c.value,y("line",{x1:c.Kh/100*400,y1:(1-c.Lh/100)*400,x2:c.x1/100*400,y2:(1-c.y1/100)*400,stroke:"#CCB","stroke-width":10,"stroke-linecap":"round"},a);y("image",{id:"nest",height:100,width:100},a).setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","bird/nest.png");Jm.eb&&(b=y("g",{id:"worm"},a),y("image",{height:100,
width:100},b).setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","bird/worm.png"));b=y("clipPath",{id:"birdClipPath"},a);y("rect",{id:"clipRect",height:120,width:120},b);y("image",{id:"bird",height:480,width:1440,"clip-path":"url(#birdClipPath)"},a).setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","bird/birds-120.png");y("rect",{"class":"edges",height:400,width:400},a);b=U>3;c=U>4;for(var d=1,e=.1;e<.9;e+=.1)b&&y("line",{"class":"edges",x1:e*400,y1:400,x2:e*400,y2:400-9*d},a),c&&
y("line",{"class":"edges",x1:0,y1:e*400,x2:e*9*d,y2:e*400},a),d===2&&(b&&y("text",{"class":"edgeX",x:e*400+2,y:396},a).appendChild(document.createTextNode(Math.round(e*100))),c&&y("text",{"class":"edgeY",x:3,y:e*400-2},a).appendChild(document.createTextNode(Math.round(100-e*100)))),d=d===1?2:1}var Lm=0;
function Mm(){if(!K.Pa()&&!Bk(U)){var a=sd(md()),b=xi(K).g.qa(!0),c=T("dialogHelp"+U),d=null,e=null;if(U===1){if((a.includes(">90<")||!a.includes("bird_heading"))&&!gh){e={width:"370px",top:"140px"};e[rk?"right":"left"]="215px";var f=K.qa(!0);d=(f.length?f:b)[0].I()}}else if(U===2)a.includes("bird_noWorm")||(e={width:"350px",top:"170px"},e[rk?"right":"left"]="180px",d=b[1].I());else if(U===4)a.includes("bird_compare")||(e={width:"350px",top:"230px"},e[rk?"right":"left"]="180px",d=b[2].I());else if(U===
5){if(Lm||(Lm=setInterval(Mm,100)),!a.includes("mutation else")){e=K.qa(!1);e=ba(e);for(var h=e.next();!h.done&&(f=h.value,f.type!=="controls_if");h=e.next());f.yb.isVisible()?(c=T("dialogMutatorHelp"),d=xi(f.yb.g).g.qa(!0)[1].I(),f=Ga(d),e={width:"340px",top:f.y+60+"px"},e.left=f.x-(rk?310:0)+"px"):(h=Ga(f.I()),e={width:"340px",top:h.y+100+"px"},e.left=h.x-(rk?280:0)+"px",d=f.I())}}else if(U===6){if(!a.includes("mutation")){e=K.qa(!1);e=ba(e);for(f=e.next();!f.done&&(h=f.value,h.type!=="controls_if");f=
e.next());f=Ga(h.I());e={width:"350px",top:f.y+220+"px"};e.left=f.x-(rk?350:0)+"px";d=h.I()}}else U!==8||a.includes("bird_and")||(e={width:"350px",top:"360px"},e[rk?"right":"left"]="450px",d=b[4].I());c&&e?c.parentNode!==T("dialog")&&X.Aj(c,d,!0,!1,e,null):X.Lg(!1)}}
function Nm(a){Im.forEach(clearTimeout);Im.length=0;Y=new r(Jm.start.x,Jm.start.y);Fm=Em=Jm.Rc;Gm=!Jm.eb;a?(Om(3),Im.push(setTimeout(function(){Om(2);Im.push(setTimeout(function(){Om(1)},400))},400))):Om(1);if(a=T("worm"))a.setAttribute("transform","translate("+(Jm.eb.x/100*400-50)+" "+((1-Jm.eb.y/100)*400-50)+")"),kc(a,"eaten");a=T("nest");a.setAttribute("x",Jm.Kb.x/100*400-50);a.setAttribute("y",(1-Jm.Kb.y/100)*400-50)}
function Pm(a){if(!tm(a)){a=T("runButton");var b=T("resetButton");b.style.minWidth||(b.style.minWidth=a.offsetWidth+"px");a.style.display="none";b.style.display="inline";Nm(!1);Qm()}}function Rm(a){tm(a)||(T("runButton").style.display="inline",T("resetButton").style.display="none",Xi(null),Nm(!1))}
function Sm(a,b){function c(e){a.setProperty(b,e,a.createNativeFunction(d,!1))}var d=function(e,f){var h=e*Math.PI/180;Y.x+=Math.cos(h);Y.y+=Math.sin(h);Hm.push(["move",Y.x,Y.y,e,f]);if(Gm&&ta(Y,Jm.Kb)<15)throw Hm.push(["play","quack",null]),Tm(Jm.Kb),Hm.push(["finish",null]),!0;!Gm&&Jm.eb&&ta(Y,Jm.eb)<15&&(Tm(Jm.eb),Hm.push(["worm",null]),Hm.push(["play","worm",null]),Gm=!0);a:{e=ba(Jm.fc);for(f=e.next();!f.done;f=e.next()){f=f.value;h=Y;var k=f.x1-f.Kh,l=f.y1-f.Lh,m=(h.x-f.Kh)*k+(h.y-f.Lh)*l,p=
k*k+l*l;m=p?m/p:-1;if(ta(h,m<0?new r(f.Kh,f.Lh):m>1?new r(f.x1,f.y1):new r(f.Kh+m*k,f.Lh+m*l))<6){e=!0;break a}}e=!1}if(e)throw Hm.push(["play","whack",null]),!1;};c("heading");d=function(){return!Gm};c("noWorm");d=function(){return Y.x};c("getX");d=function(){return Y.y};c("getY")}
function Qm(){if("Interpreter"in window){Hm.length=0;M&&Pg(M);var a=S;var b=K;b||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),b=Fc);var c=[];a.init(b);b=b.qa(!0);for(var d=0,e;e=b[d];d++){var f=jk(a,e);Array.isArray(f)&&(f=f[0]);f&&(e.o&&(f=a.So(f),a.bf&&!e.Ej&&(f=kk(a.bf,e)+f),a.Tc&&!e.Ej&&(f+=kk(a.Tc,e))),c.push(f))}c=c.join("\n");c=a.finish(c);c=c.replace(/^\s+\n/,"");c=c.replace(/\n\s+$/,"\n");wm=a=c=c.replace(/[ \t]+\n/g,"\n");jm=lm();c=a.indexOf("if (");b=a.indexOf("}\n");
c!==-1&&b!==-1&&(a=a.substring(c,b+2));c=0;a=new Interpreter("while(true) {\n"+a+"}",Sm);try{for(b=1E5;a.step();)if(b--<=0)throw Infinity;c=-1}catch(h){h===Infinity?c=2:h===!0?c=1:h===!1?c=-2:(c=-2,window.alert(h))}Dm=c===1?10:15;Nm(!1);Im.push(setTimeout(Um,1))}else setTimeout(Qm,99)}
function Um(){Im.length=0;var a=Hm.shift();if(a){xm(a.pop());if(a[0]==="move"||a[0]==="goto"){var b=ba(a);b.next();Y.x=b.next().value;Y.y=b.next().value;Em=b.next().value;Om(a[0]==="move"?2:1)}else a[0]==="worm"?z(T("worm"),"eaten"):a[0]==="finish"?(Om(3),window.localStorage&&(window.localStorage[Ck+U]=jm),Bm()):a[0]==="play"&&K.Pb.play(a[1],.5);Im.push(setTimeout(Um,Dm*5))}else xm(null)}
function Om(a){var b=Ek(Fm-Em);b>180&&(b-=360);Fm=Math.abs(b)<=10?Em:Ek(Fm+(b<0?10:-10));b=(14-Math.round(Fm/360*12))%12;var c=Fm%30;c>=15&&(c-=30);c*=-1;if(a===1)var d=0;else if(a===3)d=3;else if(a===2)d=Math.round(Date.now()/100)%3;else throw Error("Unknown pose.");a=Y.x/100*400-60;var e=(1-Y.y/100)*400-60,f=T("bird");f.setAttribute("x",a-b*120);f.setAttribute("y",e-d*120);f.setAttribute("transform","rotate("+c+", "+(a+60)+", "+(e+60)+")");b=T("clipRect");b.setAttribute("x",a);b.setAttribute("y",
e)}function Tm(a){var b=Math.round(ta(Y,a));a=Ek(Math.atan2(a.y-Y.y,a.x-Y.x)*180/Math.PI);for(var c=a*Math.PI/180,d=0;d<b;d++)Y.x+=Math.cos(c),Y.y+=Math.sin(c),Hm.push(["goto",Y.x,Y.y,a,null])}
(function(a){function b(){window.BlocklyGamesMsg?(window.BlocklyMsg&&(q=window.BlocklyMsg),a()):setTimeout(b,99)}window.addEventListener("load",b)})(function(){function a(){b.style.top=Math.max(10,c.offsetTop-window.pageYOffset)+"px";b.style.left=rk?"10px":"420px";b.style.width=window.innerWidth-440+"px"}Kj([{type:"bird_noWorm",message0:V("Bird.noWorm",!1),output:"Boolean",colour:330,tooltip:V("Bird.noWormTooltip",!1)},{type:"bird_heading",message0:V("Bird.heading",!1)+"%1",args0:[{type:"field_angle",
name:"ANGLE",angle:90}],previousStatement:null,nextStatement:null,colour:290,tooltip:V("Bird.headingTooltip",!1)},{type:"bird_position",message0:"%1",args0:[{type:"field_dropdown",name:"XY",options:[["x","X"],["y","Y"]]}],output:"Number",colour:330,tooltip:V("Bird.positionTooltip",!1)},{type:"bird_compare",message0:"%1%2%3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["\u200f<","LT"],["\u200f>","GT"]]},{type:"input_value",name:"B",check:"Number"}],
inputsInline:!0,output:"Boolean",colour:"%{BKY_LOGIC_HUE}",helpUrl:"%{BKY_LOGIC_COMPARE_HELPURL}",extensions:["bird_compare_tooltip"]},{type:"bird_and",message0:"%1%{BKY_LOGIC_OPERATION_AND}%2",args0:[{type:"input_value",name:"A",check:"Boolean"},{type:"input_value",name:"B",check:"Boolean"}],inputsInline:!0,output:"Boolean",colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_LOGIC_OPERATION_TOOLTIP_AND}",helpUrl:"%{BKY_LOGIC_OPERATION_HELPURL}"},{type:"bird_ifElse",message0:"%{BKY_CONTROLS_IF_MSG_IF}%1%{BKY_CONTROLS_IF_MSG_THEN}%2%{BKY_CONTROLS_IF_MSG_ELSE}%3",
args0:[{type:"input_value",name:"CONDITION",check:"Boolean"},{type:"input_statement",name:"DO"},{type:"input_statement",name:"ELSE"}],colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_CONTROLS_IF_TOOLTIP_2}",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}"},{type:"math_number",message0:"%1",args0:[{type:"field_number",name:"NUM",value:0}],output:"Number",helpUrl:"%{BKY_MATH_NUMBER_HELPURL}",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_NUMBER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]}]);Lf("bird_compare_tooltip",
Qf({LT:"%{BKY_LOGIC_COMPARE_TOOLTIP_LT}",GT:"%{BKY_LOGIC_COMPARE_TOOLTIP_GT}"}));document.body.innerHTML=Gk();km();var b=T("blockly"),c=T("visualization");window.addEventListener("scroll",function(){a(null);fj(K)});window.addEventListener("resize",a);a(null);qm();K.Pb.load(["bird/quack.ogg","bird/quack.mp3"],"quack");K.Pb.load(["bird/whack.mp3","bird/whack.ogg"],"whack");K.Pb.load(["bird/worm.mp3","bird/worm.ogg"],"worm");U>1&&wf(K,hd);nk("noWorm,heading,getX,getY");Km();om();Nm(!0);Dk("runButton",
Pm);Dk("resetButton",Rm);setTimeout(function(){wf(K,Mm);Mm()},5E3);U>8&&setTimeout(X.Ym,3E5);zm();Am()});
